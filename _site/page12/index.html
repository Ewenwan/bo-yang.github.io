<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Bo's Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Bo&#39;s blog.">
    <meta name="author" content="Bo Yang">
    
    <link rel="canonical" href="http://www.bo-yang.net//page12/">
    <link rel="alternate" type="application/rss+xml" title="RSS Feed for Bo's Blog" href="/feed.xml" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/pixyll.css?201602012238" type="text/css">

    <!-- Fonts -->
    <link href='//fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Lato:900,300' rel='stylesheet' type='text/css'>
    
      <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">
    

    <!-- Google Prettify -->
    <link href="http://www.bo-yang.net//assets/google-code-prettify/desert.css" rel="stylesheet" type="text/css" media="all">

    <!-- MathJax -->
    
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    

    <!-- Verifications -->
    

    <!-- Open Graph -->
    <!-- From: https://github.com/mmistakes/hpstr-jekyll-theme/blob/master/_includes/head.html -->
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Bo&#39;s Blog">
    <meta property="og:description" content="Bo&#39;s blog.">
    <meta property="og:url" content="http://www.bo-yang.net//page12/">
    <meta property="og:site_name" content="Bo&#39;s Blog">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    
        <meta name="twitter:site" content="@bonnyang" />
    
    <meta name="twitter:title" content="Bo's Blog" />
    <meta name="twitter:description" content="Bo's blog." />
    <meta name="twitter:url" content="http://www.bo-yang.net//page12/" />

    <!-- Icons -->
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-160x160.png" sizes="160x160">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">

    
    <script type="text/javascript">
       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
       (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
       })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
       ga('create', 'UA-50551633-1', 'auto');
       ga('send', 'pageview');
    </script>
    
</head>

<body class="site">

	
		<div id="fb-root"></div>
		<script>(function(d, s, id) {
		  var js, fjs = d.getElementsByTagName(s)[0];
		  if (d.getElementById(id)) return;
		  js = d.createElement(s); js.id = id;
		  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5&appId=";
		  fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));</script>
	

  <div class="site-wrap">
    <header class="site-header px2 px-responsive">
  <div class="mt2 wrap">
    <div class="measure">
        <a href="http://www.bo-yang.net/" class="site-title"><b>Bo's Blog</b></a>
      <nav class="site-nav">
        
    

    

    
        <a href="/archive/">Archive</a>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    


    

    

    

    

    

    

    

    
        <a href="/tags/">Tags</a>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    


    

    
        <a href="/about/">About Me</a>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    


    

    

    

    
        <a href="/contact/">Contact</a>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    


      </nav>
      <div class="clearfix"></div>
      
        <div class="social-icons">
  <div class="social-icons-right">
    
      <a class="fa fa-github" href="https://github.com/bo-yang"></a>
    
    
    
      <a class="fa fa-stack-overflow" href="https://stackoverflow.com/users/boyang"></a>
    
    <a class="fa fa-rss" href="/feed.xml"></a>
    
      <a class="fa fa-twitter" href="https://twitter.com/bonnyang"></a>
    
    
    
    
    
      <a class="fa fa-envelope" href="mailto:bonny95@gmail.com"></a>
    
    
      <a class="fa fa-linkedin" href="https://www.linkedin.com/in/boyanglink"></a>
    
    
    
  </div>
  <div class="right">
    
    
    
  </div>
</div>
<div class="clearfix"></div>

      
    </div>
  </div>
</header>


    <div class="post p2 p-responsive wrap" role="main">
      <div class="measure">
        

<div class="home">
  
    <div class="posts">
      
        <div class="post py3">
          <p class="post-meta">Feb 21, 2011</p>
          <a href="/plan%209/2011/02/21/abaco-in-plan9/" class="post-link"><h3 class="h2 post-title">Plan 9中使用Abaco</h3></a>
          <p class="post-summary">
            
              <p>Abaco是Plan 9的一个非常原始的浏览器，要想使用它，必须首先按照下列步骤：</p>
<ol>
<li>term% &nbsp;<span>webcookies (可选，如果webfs可以直接运行的话，不必运行webcookies)</span></li>
<li><span>term% &nbsp;webfs</span></li>
<li><span>term% &nbsp;abaco</span></li>
</ol>
<p>如果不启动webfs的话，很可能你会遇到这样的错误：</p>
<p><span><br />
</span>
<pre>term% abaco
*abaco: can't initialize webfs: '/mnt/web/ctl' does not exist*</pre></p>

            
          </p>
        </div>
      
        <div class="post py3">
          <p class="post-meta">Feb 18, 2011</p>
          <a href="/unix/linux/2011/02/18/xterm-delete-key/" class="post-link"><h3 class="h2 post-title">xterm中删除键无法使用</h3></a>
          <p class="post-summary">
            
              <p>一个困扰了我很久得问题：xterm中&lt;backspace&gt;或&lt;delete&gt;键无法删除敲错的字符，只能使用Ctrl+H或者VI删除模式，很不方便。操作系统是Red Hat Enterprise Linux 5.5。</p>
<p>&nbsp;</p>
<p>Google之后发现这个问题比较普遍，但是很多建议都不能解决问题。最终在<a href="http://forums11.itrc.hp.com/service/forums/questionanswer.do?admit=109447626+1298028466012+28353475&amp;threadId=1158640">http://forums11.itrc.hp.com/service/forums/questionanswer.do?admit=109447626+1298028466012+28353475&amp;threadId=1158640</a>发现了一个可行的办法：</p>
<p>&nbsp;</p>
<p>stty erase &lt;backspace&gt;</p>
<p>&nbsp;</p>
<p>当然在设置之前要先用stty -a查看erase=XX是不是已经设置成了&lt;backspace&gt;，即^?。</p>
<p>&nbsp;</p>
<p>如果不想每次打开一个新的xterm之后都要手动输入stty erase &lt;backspace&gt;，可以在.env中加入</p>
<p>&nbsp;</p>
<p>stty erase&nbsp;^?</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>PS：发现了一个详细解释并彻底解决各种Unix/Linux窗口中&lt;backspace&gt;或&lt;delete&gt;不一致的文章：<a href="http://www.ibb.net/~anne/keyboard.html">http://www.ibb.net/~anne/keyboard.html</a>。转载如下。</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div class="c3">
<div class="c1">The Linux Hall of Shame</div>
<p class="c2"><a href="http://www.ibb.net/~anne/keyboard.html">http://www.ibb.net/~anne/keyboard.html</a><br />version 0.6&nbsp;<br />Last updated 11/18/2008 13:08:02</p>
</div>
<p>&nbsp;</p>
<div class="c3"><span style="text-decoration:underline;">Main Page</span>|<a href="http://www.ibb.net/~anne/keyboard/keyboardprev.html">The Alternative Way</a>&nbsp;|<a href="http://www.ibb.net/~anne/keyboard/troubleshooting.html">Troubleshooting</a></div>
<p>&nbsp;</p>
<div class="c3">
<table border="0">
<tbody>
<tr>
<th colspan="9">
<h3>Index</h3>
</th>
</tr>
<tr>
<td colspan="5">
<div class="c3"><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#intro">Introduction</a></div>
</td>
<td colspan="4">
<div class="c3"><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#term">Terminology</a></div>
</td>
</tr>
<tr>
<td colspan="3">
<div class="c3"><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#prob">The Problem</a></div>
</td>
<td colspan="3">
<div class="c3"><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#sol">Solution(work-arounds)</a></div>
</td>
<td colspan="3">
<div class="c3"><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#overview">Overview</a></div>
</td>
</tr>
<tr>
<td colspan="9">
<div class="c3"><em>Configuration of environments...</em></div>
</td>
</tr>
<tr>
<td colspan="2">
<div class="c3"><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#terminfo">terminfo</a></div>
</td>
<td colspan="2">
<div class="c3"><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#Xterm">Xterm</a></div>
</td>
<td>
<div class="c3"><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#X">X</a></div>
</td>
<td colspan="2">
<div class="c3"><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#Bash">Bash</a></div>
</td>
<td colspan="2">
<div class="c3"><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#Tcsh">Tcsh</a></div>
</td>
</tr>
<tr>
<td colspan="9">
<div class="c3"><em>... and applications</em></div>
</td>
</tr>
<tr>
<td><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#athena">Athena-apps</a></td>
<td><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#emacs">Emacs</a></td>
<td><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#joe">Joe</a></td>
<td><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#kde">KDE</a></td>
<td><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#less">Less</a></td>
<td><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#nedit">Nedit</a></td>
<td><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#netscape">Netscape</a></td>
<td><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#pico">Pico and Pine</a></td>
<td><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#vim">Vim</a></td>
<td><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#mutt">Mutt</a></td>
<td><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#other">Telnet</a></td>
</tr>
</tbody>
</table>
</div>
<div class="c3">
<h2><a name="intro">Introduction</a></h2>
</div>
<p>These pages were originally written to address a nagging problem which bothered many people using&nbsp;<a href="http://www.linux.org/">Linux</a>. It has to do with the default behaviour of the BackSpace and Delete keys, which did not behave as expected. The goal of this document was and still is to make [&lt;---] (i.e. the backspace-key on your keyboard) to erase to the left, and make [Delete](i.e. the delete-key) erase under the cursor. It seems all Linux distributions I am aware of have effectively dealt with the issue by now. However still lots of people visit these pages, presumably because the information presented here is applicable to other UNIX flavors and cross-platform environments and applications.</p>
<p>The keymapping problem can be traced back to the time when computers used punched tapes. The only way to correct a wrongly punched character was to punch additional bits in the tape (or rather, punch additional bits _out_ of the tape). Characters with all the bits punched were treated as deleted characters. See 'man ascii' for a list of the ASCII characterset, you'll see that DEL, (octal 177, decimal 127 and hexadecimal 7F) is the one with all the bits punched in (the ASCII code with the highest value). To be able to overwrite a character it is necessary to undo the feed between the characters first. For this the ASCII BS (octal 010, decimal 8, hexadecimal 08) was used. So to erase the last-typed character, you would have to press first BS to move back one character, and then DEL to delete the character. In newer computers either BS or DEL was chosen to move back and delete in one press.</p>
<p>The question to use BS or DEL was (and is...) just a matter of choice, just as different operating systems chose different ways to represent newlines, which was done by first issuing a carriage return (CR) and then a line-feed (LF). UNIX chose ASCII LF (hexadecimal 0A) to do both at the same time, Macintosh chose CR and MS-DOS both. Unfortunately, in the BS-DEL case, Linux ended up with two possibilities.</p>
<p>The essential point in this issue is to go for one way consistently. This page describes a way to consistently use DEL to erase the previous character, the page called&nbsp;<a href="http://www.ibb.net/~anne/keyboard/keyboardprev.html">The Alternative Way</a>&nbsp;describes a way to consistently use BS. On the latter page there are some tips which may be useful regardless of what approach you take.</p>
<p>Since starting this page in 1997, most distributions have sorted out the issue. Still, some of the fixes/workarounds can be useful when working in a mixed environment, or when working on older systems. And evidently, given the number of hits the page still gets, it's a situation common to more then a few people ;-)</p>
<p>If you miss an application on this page, it's either because the keys are ok in the application ("If it ain't broken, don't fix it"), or because I don't know about it. In either case, don't hesitate to mail me about it.</p>
<div class="c3">
<h2><a name="term">Terminology</a></h2>
</div>
<p>Throughout this document, [&lt;---] and [Delete] are used to denote the physical keys on the keyboard, the things you actually press to erase characters. There are a few things to keep in mind: ASCII values can be represented in several equivalent ways. This means that ASCII BS is equivalent to 010 in octal, 8 in decimal and 08 in hexadecimal notation. To show that a number is in hexadecimal notation '0x' is put in front of it. Finally it should be noted that BS and DEL are known to applications by their corresponding control sequences. To sum it up:</p>
<div class="c3">
<table border="0">
<tbody>
<tr>
<th>Note:</th>
</tr>
<tr>
<td><strong>ASCII BS == 0x08 == ^H</strong></td>
</tr>
<tr>
<td><strong>ASCII DEL == 0x7f == 0177 == ^?</strong></td>
</tr>
</tbody>
</table>
</div>
<hr />
<div class="c3">
<h2><a name="prob">The problem:</a></h2>
</div>
<p>The reason the keys (generally) do not work out-of-the-box is partly lack of configuration (as you will see later, simply creating&nbsp;<code>.inputrc/.cshrc</code>&nbsp;already helps a lot) and a more difficult issue which I will try to describe below.</p>
<p>The linux console emulates a vt220 terminal which has the following key-mapping:</p>
<pre><a name="vt220">Linux console/VT220</a>
Key            KeySymName       Console characters
  --------------------------------------------------
  Ctrl+H   ---&gt;  Control_H  ---&gt;  ASCII  BS (0x08)
  [&lt;---]   ---&gt;  Backspace  ---&gt;  ASCII DEL (0x7f)
  [Delete] ---&gt;  Delete     ---&gt;  "/e[3~"
</pre>
<p>Note 1: BS (0x08) is equivalent to ^H, which is left to be used by applications (e.g. for help menus in emacs, but it could be anything). DEL is equivalent to ^?, or 0177 (octal) and 0x7f (hex) and "/e[3~" will show up in your xterm (using the&nbsp;<a href="http://www.ibb.net/~anne/keyboard/keyboard.html#trick">^v-trick</a>) as ^[[3~. Xterms on the other hand, emulate the vt100 terminal, which didn't have a [Delete]. It did have a [&lt;---] which generated ASCII BS (but it was in an awkward position and did not serve as rubout).</p>
<pre>VT100
--
Key            KeySymName       Console characters
  --------------------------------------------------
  Ctrl+H   ---&gt;  Control_H  ---&gt;  ASCII  BS (0x08)
  [&lt;---]   ---&gt;  Backspace  ---&gt;  ASCII DEL (0x7F)
</pre>
<p>Now here's how xterm emulates the VT100 terminal:</p>
<pre><a name="vt100">Xterm's emulation of VT100</a>
Key            KeySymName       Console characters
  --------------------------------------------------
  Ctrl+H   ---&gt;  Control_H  ---&gt;  ASCII  BS (0x08)
  [&lt;---]   ---&gt;  Backspace  ---&gt;  ASCII BS (0x08)
  [Delete] ---&gt;  Delete     ---&gt;  ASCII DEL (0x7F)
</pre>
<p>It may be clear that by default the keys are mapped differently on the console and in xterm. This would be ok if it weren't for the fact that while on the console ^H is free to be used by applications, in an xterm it is not (instead it's mapped to the [&lt;---] key). Differences between terminal types are generally dealt with by the terminfo database (see below), mapping terminal specific strings to the correct key. However, in this case, the ^H should&nbsp;<strong>not</strong>&nbsp;be mapped. Terminfo is not enough, the settings of the terminal (xterm) have to be modified such that ^H is not used.</p>
<p>In&nbsp;<a href="http://www.ibb.net/~anne/keyboard/keyboardprev.html">my previous attempt</a>&nbsp;at working around the problem, I put most of my effort in trying to map all keys to suit xterm's vt100 emulation. However, I now propose another way to deal with the problem. This basically means getting xterm to work with the consoles' default settings: [&lt;---] will do ASCII DEL (0x7F, or ^?), and [Delete] will do "/e[3~". This way ^H is not used for any terminal specific functions, it can be used by applications.</p>
<div class="c3">
<h2><a name="sol">Solution (work-arounds)</a></h2>
</div>
<p>There is no clear solution, but there are some pretty good work-arounds. What is needed is to tell&nbsp;<a href="http://www.ibb.net/~anne/keyboard/keyboard.html#Xterm">xterm</a>&nbsp;how to handle the keys, and then to tell other applications about it (i.e. how xterm handles the keys). The terminfo database contains descriptions of how all kinds of terminals handle (terminal specific) keys. Applications look at the TERM variable, and then search the corresponding database for the value of a certain key, e.g. the left-arrow key, and find the string that corresponds to it. This means that the strings in the database had better correspond to your current xterm settings. This involves modifying xterm's terminfo entry.</p>
<p>When you change the keymapping on your own system, you may have problems when accessing other systems. Luckily, this can be worked-around by a script which changes the input it receives to the output that is expected by the application (telnet, rlogin). See the&nbsp;<a href="http://www.ibb.net/~anne/keyboard/keyboard.html#other">telnet</a>&nbsp;section.</p>
<div class="c3">
<h2><a name="overview">Overview</a></h2>
</div>
<p>This table summarizes the modifications needed in the different environments, and the tools it is done with:</p>
<div class="c3">
<table border="1">
<tbody>
<tr>
<td rowspan="2">
<div class="c4">Environment&nbsp;&nbsp;&nbsp;&nbsp;</div>
</td>
<td colspan="2">
<div class="c4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Configuration files&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>
</td>
<td rowspan="2">
<div class="c4">Configuration&nbsp;</div>
</td>
</tr>
<tr>
<td>
<div class="c4">user&nbsp;&nbsp;&nbsp;</div>
</td>
<td>
<div class="c4">&nbsp;systemwide&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>
</td>
</tr>
<tr>
<td><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#terminfo">Terminfo</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><code>&nbsp;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code></td>
<td><code>&nbsp;&nbsp;&nbsp;terminfo&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code></td>
<td><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;infocmp/tic&nbsp;&nbsp;&nbsp;</code></td>
</tr>
<tr>
<td><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#Xterm">Xterm</a>&nbsp;</td>
<td><code>~/.Xdefaults (*)</code></td>
<td><code>&nbsp;/etc/X11/Xresources&nbsp;</code></td>
<td><code>xrdb ~/.Xdefaults&nbsp;(*)</code></td>
</tr>
<tr>
<td><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#X">X</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><code>&nbsp;-&nbsp;&nbsp;</code></td>
<td><code>/etc/X11/xinit/.Xmodmap (**)</code>&nbsp;&nbsp;</td>
<td><code>xmodmap .Xmodmap</code>&nbsp;&nbsp;</td>
</tr>
<tr>
<td><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#Bash">Bash</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><code>~/.inputrc</code>&nbsp;&nbsp;&nbsp;</td>
<td><code>/etc/inputrc&nbsp;&nbsp;&nbsp;</code></td>
<td><code>export INPUTRC=/etc/inputrc</code>&nbsp;&nbsp;</td>
</tr>
<tr>
<td><a href="http://www.ibb.net/~anne/keyboard/keyboard.html#Tcsh">Tcsh</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><code>~/.cshrc</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td><code>/etc/cshrc</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td>&nbsp;&nbsp;&nbsp;&nbsp;<code>bindkey (shellcommand)</code>&nbsp;&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<p>* or&nbsp;<code>.Xresources</code><br />**&nbsp;<code>/etc/X11/XF86Config</code>&nbsp;also affects the keyboard settings under X</p>
<hr />
<div class="c3">
<h2><a name="terminfo">Terminfo</a></h2>
</div>
<p>This is often a problem. When you find that the keys are fine in e.g. vi on the console, but not in an xterm (or vice versa, or both) it means that your xterm-settings do not correspond to the settings listed in the terminfo database. I am not really comfortable with telling you to fiddle with terminfo, please be careful, make backups! If you run the tic command on the modified de-compiled terminfo entry as root, your system's terminfo database will be modified automagically. Put the original file in a save place so you can run tic on it and restore the original state. Read the manpage. First try it as non-privileged user. You can start with testing a modified xterminfo file (see below) as explained, however, since these are likely to differ from your system's entry at other points, it's probably better to modify your own instead. At any rate, first find out whether the terminfo entry for xterm is in accordance with your xterm settings:</p>
<pre><code>infocmp | grep kbs</code>
</pre>
<p>should return a line which includes&nbsp;<code>kbs=/177</code>. This means DEL (or ^?) is mapped to the backspace key, which is what we want.</p>
<pre><code>infocmp | grep kdch1</code>
</pre>
<p>should return a line with&nbsp;<code>kdch1=/E[3~</code>. This means that /E[3~ is mapped to the delete key. Often you will find kbs=^H and/or kdch1=/177, or there will be no kdch1 at all. You can either edit the terminfo entry as described on the&nbsp;<a href="http://www.ibb.net/~anne/keyboard/troubleshooting.html#termcap">Troubleshooting-page</a>&nbsp;(simply setting or adding&nbsp;<code>kdch1=/E[3~</code>&nbsp;and&nbsp;<code>kbs=/177</code>, but make a backup first!). Put the file in&nbsp;<code>~/.terminfo/x/xterm</code>&nbsp;(for testing purposes) and do for bash:</p>
<pre><code>export TERMINFO=~/.terminfo</code>
</pre>
<p>and/or for tcsh:</p>
<pre><code>setenv TERMINFO ~/.terminfo</code>
</pre>
<p>Make sure that the TERM variable is set to xterm:</p>
<pre><code>echo $TERM</code>
</pre>
<p>should return "xterm". If it works as intended (do 'toe' to check whether the terminfo dir you specified is indeed used, toe will return a list of available terminfo types, only xterm in this case), you can run tic as root, which will copy the file to</p>
<pre><code>/etc/terminfo/x/xterm</code>
</pre>
<p>(<a href="http://www.debian.org/">debian</a>) or</p>
<pre><code>/usr/lib/terminfo/x/xterm</code>
</pre>
<p>(<a href="http://www.redhat.com/">redhat</a>,&nbsp;<a href="http://www.cdrom.com/">slackware</a>). Make backups first, and test it before you replace any files!</p>
<hr />
<div class="c3">
<h2><a name="Xterm">Xterm</a></h2>
</div>
<p>The xterm (and friends) only needs little configuration. In the&nbsp;<code>/etc/X11/Xresources</code>&nbsp;or&nbsp;<code>~/.Xdefaults</code>&nbsp;(or wherever it's merged with the other xresources) add the line:</p>
<pre><code>*VT100.Translations: #override /
              &lt;Key&gt;BackSpace: string(0x7F)/n/
              &lt;Key&gt;Delete:    string("/033[3~")/n/
              &lt;Key&gt;Home:      string("/033[1~")/n/
              &lt;Key&gt;End:       string("/033[4~")
*ttyModes: erase ^? 
</code>
</pre>
<p>Rxvt only uses&nbsp;<code>Xresources</code>&nbsp;if it is compiled with this option. Since rxvt uses readline, to get home and end to work you will have to edit&nbsp;<code>.inputrc</code>, see the&nbsp;<a href="http://www.ibb.net/~anne/keyboard/keyboard.html#Bash">Bash</a>&nbsp;section).&nbsp;<a href="http://www.redhat.com/"><span class="goog_qs-tidbit goog_qs-tidbit-0 goog_qs-tidbit-hilite">Redhat</span></a><span class="goog_qs-tidbit goog_qs-tidbit-0 goog_qs-tidbit-hilite">&nbsp;users can pick up the SRPM (source) and compile rxvt themselves</span>&nbsp;with this&nbsp;<a href="http://www.ibb.net/~anne/keyboard/feature.h">feature.h</a>, ensuring the right keybindings.</p>
<p>Putting&nbsp;<code>xterm</code>&nbsp;or&nbsp;<code>nxterm</code>&nbsp;in front of&nbsp;<code>*vt100.translations</code>&nbsp;makes the settings specific for xterm or nxterm. Sometimes this does not seem to work properly, in that case try using both<code>nxterm*VT100.Translations</code>&nbsp;and&nbsp;<code>xterm*VT100.Translations</code>.</p>
<p><a name="trick">BTW, have I told you that&nbsp;<code>Ctrl-v &lt;key&gt;</code>&nbsp;will tell you what sequence is sent to the shell? Try&nbsp;<code>Ctrl-v [Delete]</code>, it should give a&nbsp;<code>^[[3~</code>&nbsp;in your xterm or console (try it with [ESC] and you'll find ^[, which corresponds to /e for readline apps, and /033 for Xresources).</a></p>
<p>1. The syntax of the&nbsp;<code>Xresources</code>&nbsp;files is very strict, make sure you don't leave blank spaces after the backslash on each line. Also watch the newline (<code>/n/</code>) sequences, there shouldn't be one at the last line of an entry.<br />2. The sections are named, if you only use&nbsp;<code>*VT100.Translations</code>&nbsp;it will work for all xterm and friends.<br />3. For info about&nbsp;<code>Xresources</code>&nbsp;and other X related stuff refer to&nbsp;<a href="http://www.ibb.net/~anne/keyboard/X.html"><code>'man X'</code></a>.</p>
<hr />
<div class="c3">
<h2><a name="X">X</a></h2>
</div>
<p>If you use&nbsp;<a href="http://www.xfree86.org/">XFree86</a>, make sure you have enable the XKB extensions in&nbsp;<code>/etc/X11/XF86Config</code>. It is enable by default, so it should be okay. Note the different keyboard layout-options. Now XFree86 will translate the console mapping, and everything should work in X. If you have problems, or want to fiddle with additional characters and things, create an&nbsp;<code>Xmodmap</code>. Also if you want the keyboard to generate special characters in X,&nbsp;<code>xmodmap</code>&nbsp;can also be used to configure the function-keys. This is adequately described in the manual page (<code>'man xmodmap'</code>. Make sure that the following lines are included in your<code>Xmodmap</code>:</p>
<p><code>keycode 22 = BackSpace</code><br /><code>keycode 107 = Delete</code></p>
<p>Note that the keycodes in X are&nbsp;<strong>not</strong>&nbsp;the same as in a VT. Use&nbsp;<code>showkey</code>&nbsp;to see the keycodes generated by the keyboard in a VT, and&nbsp;<code>xev</code>&nbsp;in X. There is an excellent graphical front end for X-keyboard configuration:&nbsp;<code>xkeycaps</code>. Refer to the&nbsp;<a href="http://www.ibb.net/~anne/keyboard/keyboard.html#netscape">Netscape section</a>.</p>
<p>Another way of generating special characters in X (without using&nbsp;<code>xmodmap</code>) is by defining a Compose-key (for use as a "dead key") in&nbsp;<code>XF86Config</code>&nbsp;in the Keyboard section:</p>
<pre><code>  RightCtl        Compose
</code>
</pre>
<p>Now you have a compose-key with the same properties as the one described in the&nbsp;<a href="http://www.ibb.net/~anne/keyboard/keyboardprev#VT">VT</a>&nbsp;section. Remember to set the environment variable&nbsp;<code>LC_CTYPE=iso-8859-1</code>&nbsp;(see&nbsp;<a href="http://www.ibb.net/~anne/keyboard/keyboardprev.html#VTopt">VT optional...</a>). Consult&nbsp;<a href="http://www.ibb.net/~anne/keyboard/XF86Config.man.html"><code>'man XF86Config'</code></a>&nbsp;if you want to know more.&nbsp;<strong>Note</strong>: this doesn't seem work rxvt.<br />Alternatively, owners of a windows keyboard (one with extra buttons, it need not be a M$ natural keyboard) can enable the&nbsp;<code>XKEYBOARD</code>&nbsp;extension (enabled per default) in&nbsp;<code>XF86Config</code>&nbsp;and uncomment the line (follow the instructions in the file):</p>
<pre><code>  XkbModel    "microsoft" 
</code>
</pre>
<p>Now you can use the button with the windows flag on it to produce a great number of exotic characters, just press it in combination with e.g. a, producing &aacute; (a clear disadvantage is that there is no logic in the location of the special characters at all...).</p>
<p>Yet another way to use "dead keys" in X is by installing a modified version of libX11 which includes support for dead keys (transparent for all apps). First, get the modified version of libX11 (make sure you get the right version, if you use glibc replace both libX11, ELF-libc5 and ELF-libc6). Now, deactivate the XKB extension of XFree86 (edit&nbsp;<code>XF86Config</code>&nbsp;and run xmodmap on a Xmodmap file with dead keys like dead_acute, dead_grave, dead_cedilla, dead_ogonek and a Multi_keys one too.</p>
<p>A special case is if you use xdm, you need to deactivate XKB from the&nbsp;<code>/etc/X11/xdm/Xservers</code>&nbsp;file, passing a -kb parameter to the server like this:</p>
<pre><code>:0 local /usr/X11R6/bin/X -kb
</code>
</pre>
<p>then in&nbsp;<code>/etc/X11/xdm/Xsetup_0</code>&nbsp;file add a line to load the Xmodmap, like this:</p>
<pre><code>if [ -r /etc/X11/xinit/.Xmodmap ]; then
        /usr/X11R6/bin/xmodmap /etc/X11/xinit/.Xmodmap
fi
</code>
</pre>
<p>Now chars accesible by AltGr, dead keys or compose are usable in xdm too.</p>
<h4>More Composing Talk</h4>
<p>A problem common to all compose schemes is that while some composing systems make more sense than others, none of them make all of the iso_8859_1 characters readily accessible, simply because it is impossible to remember the combinations for all characters. So instead of, or in addition to getting special libraries, it is often desirable to simply have a list of characters you can copy from, a poor man's iso_8859_1 table so to speak. Just grab you favorite editor, open a file called iso_8859_1 (or any other name, but check the name and path) and put in all iso_8859_1 characters. Wait, here they are (you may want to create a different order):</p>
<pre><code>&iexcl; &cent; &pound; &curren; &yen; &brvbar; &sect; &uml; &copy; &ordf; &laquo; &not; &shy; &reg; &macr; &deg; &plusmn; &amp;sup2; &amp;sup3; &acute; &micro; &para; &middot; &cedil; &amp;sup1; &ordm; &raquo; &amp;frac14; &amp;frac12; &amp;frac34; &iquest; &Agrave; &Aacute; &Acirc; &Atilde; &Auml; &Aring; &AElig; &Ccedil;
&Egrave; &Eacute; &Ecirc; &Euml; &Igrave; &Iacute; &Icirc; &Iuml; &ETH; &Ntilde; &Ograve; &Oacute; &Ocirc; &Otilde; &Ouml; &times; &Oslash; &Ugrave; &Uacute; &Ucirc; &Uuml; &Yacute; &THORN; &szlig; &agrave; &aacute; &acirc; &atilde; &auml; &aring; &aelig; &ccedil; &egrave; &eacute; &ecirc; &euml; &igrave; &iacute; &icirc;
&iuml; &eth; &ntilde; &ograve; &oacute; &ocirc; &otilde; &ouml; &divide; &oslash; &ugrave; &uacute; &ucirc; &uuml; &yacute; &thorn; &yuml; 
</code>
</pre>
<p>Now you need a way to display them (millions of options here, I bet you can do all kinds of crazy things with fonts, colors, pixmaps, borders...). The script assumes the file with the characters is in<code>/usr/local/lib</code>.</p>
<pre><code> 


            
          </p>
        </div>
      
        <div class="post py3">
          <p class="post-meta">Feb 16, 2011</p>
          <a href="/plan%209/2011/02/16/pvx-tutorial/" class="post-link"><h3 class="h2 post-title">9vx tutorial: running a cpu server from kfs (RFC)</h3></a>
          <p class="post-summary">
            
              <p>原文：<a href="http://groups.google.com/group/comp.os.plan9/browse_thread/thread/2db7a483a46f9acd">&nbsp;http://groups.google.com/group/comp.os.plan9/browse_thread/thread/2db7a483a46f9acd</a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<div>
<p><span>【说明】</span></p>
<p><span>本文是yiyus发布在9fans上的一篇教程。文中用到的9vx是yiyus维护的分支：</span><a href="http://bytebucket.org/yiyus/vx32/overview">http://bytebucket.org/yiyus/vx32/overview</a>。根据yiyus在9fans中的说明，他的9vx分支是从ron的分支上更改的。vx32/9vx的创始人Russ Cox最近在9fans中声明他本人已经放弃了对9vx的维护，准备将所有权限转交给ron minnich（八卦一下：Russ Cox现在是Google Go语言的核心成员之一，正与Rob Pike，Ken Tompson等原plan9的元老一起维护Go&hellip;&hellip;）。</p>
</div>
<div>&nbsp;-------------------------------------------------------</div>
<p>&nbsp;</p>
<div>
<h1 id="zw-12e2e7c010cc6H2Tp3916c"><span id="zw-12e2ede98aavnmvgj3916c">9vx tutorial:</span><span id="zw-12e2edec946BgJF9J3916c">&nbsp;</span><span id="zw-12e2ede99882FtZgu3916c">running a cpu server from kfs (RFC)</span><span id="zw-12e2ede9988SM7byw3916c">&nbsp;&nbsp;</span></h1>
<p id="zw-12e2e7c3536WlOKdt3916c"><span id="zw-12e2e7c3537XVH5MS3916c">This tutorial is a work in progress (it will eventually be added to&nbsp;</span><span id="zw-12e2e7c3537arcii83916c">the 9vx documentation and probably to the Plan 9 wiki). Please let me&nbsp;</span><span id="zw-12e2e7c3537TL8RB33916c">know if you see anything I'm doing wrong (unfortunately I don't have&nbsp;</span><span id="zw-12e2e7c3537whmwf43916c">too much experience&nbsp;with real Plan 9 systems of more than one&nbsp;</span><span id="zw-12e2e7c3537XtRCA3916c">machine). In particular, I don't know why I could not use mkfs instead&nbsp;</span><span id="zw-12e2e7c3537gPJh1d3916c">of dircp. The line&nbsp;</span></p>
<p id="zw-12e2e94864bSyqBpZ3916c"><span id="zw-12e2e94864bEE4NC33916c">&nbsp;&nbsp;
<pre> % disk/mkfs -s /n/9660 /sys/lib/sysconfig/proto/allproto </pre>
<p>&nbsp;</span></p>
<p id="zw-12e2e7c1e3eEKEBu13916c"><span id="zw-12e2e95854a9D-czm3916c">gave me this error:&nbsp;</span><span id="zw-12e2edec95bhi6LFZ3916c">&nbsp;</span></p>
<p id="zw-12e2e7c1df8QFHSYZ3916c"><span id="zw-12e2e7c1df9E8SbsK3916c">&nbsp; &nbsp;</span><span id="zw-12e2e960dcaLCGKRy3916c">&nbsp;</span><span style="font-family:mceinline;"><span id="zw-12e2edf46e0GLLVZ3916c">mkfs: /sys/lib/sysconfig/proto/allproto:1: can't move tmp file to&nbsp;</span><span id="zw-12e2e95e07btk4zLw3916c">/n/kfs/dist/replica/plan9.compressed.db: wstat -- unknown type/mode&nbsp;</span></span></p>
<p id="zw-12e2e7c1dfaWgaIQN3916c"><span id="zw-12e2e7c1dfbpYEmbw3916c">Anyway, these instructions are working here. Please, let me know if&nbsp;</span><span id="zw-12e2e965525WjSCTn3916c">they work for you too.&nbsp;</span></p>
<p id="zw-12e2e7c1dfcHzaUAw3916c"><span id="zw-12e2e7c1dfdxBy3T73916c">By the way, this tutorial is only the first one, but I'd like to have&nbsp;</span><span id="zw-12e2e967f47zy0X-O3916c">some more. For example, to run several 9vx instances in a private&nbsp;</span><span id="zw-12e2e9686a5ISlVW83916c">network using the tap device and to run 9vx from fossil backed up by&nbsp;</span><span id="zw-12e2e968f83cjlZom3916c">p9p's venti. Contributions are welcomed ;-)&nbsp;</span></p>
<p id="zw-12e2e7c1e00sZ2bi3916c"><span id="zw-12e2e7c1e01DWUEbQ3916c">----------------------------------------------------------------------</span><span id="zw-12e2edec95cu_sRsD3916c">​</span></p>
<p id="zw-12e2e7c1e02ZfffOa3916c"><span id="zw-12e2e7c1e03rCtzas3916c">This is a brief tutorial on how to run a 9vx cpu server from a kfs&nbsp;</span><span id="zw-12e2e970b10h9TSbm3916c">file system. You will need 9vx, a plan9.iso and some free disk space.&nbsp;</span></p>
<p id="zw-12e2e7c1e04R1Jx63916c"><span id="zw-12e2e7c1e05bbvaaI3916c">First, go to the destination directory and install 9vx:&nbsp;</span></p>
<p id="zw-12e2e7c1e05svn39h3916c"><span id="zw-12e2eefeb87mcWL1O3916c">&nbsp;&nbsp;
<pre>$ hg clone http://bitbucket.org/yiyus/vx32/ 
$ cd vx32/src/ 
$ make 9vx/9vx &amp;&amp; sudo make 9vx/install </pre>
<p>&nbsp;</span></p>
<p id="zw-12e2e7c1e09V3a83916c"><span id="zw-12e2e7c1e09GQZ4fp3916c">(<strong>Commands run on the host are preceded by $, commands run from inside&nbsp;</strong></span><span id="zw-12e2e988e4bNr603d3916c"><strong>9vx are preceded with %</strong>)&nbsp;</span></p>
<p id="zw-12e2e7c1e0aSQCEmh3916c"><span id="zw-12e2e7c1e0b-b3A9E3916c">You can check that 9vx is working running the minimal system embedded&nbsp;</span><span id="zw-12e2e98ab92nzZNTv3916c">in the executable. The rcvx script should take you to a vx32% rc&nbsp;</span><span id="zw-12e2e98b4ffnklqHV3916c">prompt in the current directory. Once you have played a bit with a&nbsp;</span><span id="zw-12e2e98c1bbOW6Z2h3916c">rootless 9vx type exit to go back to your host system.&nbsp;</span></p>
<p id="zw-12e2e7c1e0d_O1Dd3916c"><span id="zw-12e2e7c1e0eZiwMVZ3916c">rcvx is cool but you will want a full Plan 9 tree to have real fun.&nbsp;</span><span id="zw-12e2edec95f8uPmz3916c">&nbsp;</span></p>
<p id="zw-12e2e7c1e41YAeJd_3916c"><span id="zw-12e2e7c1e0ezorRNc3916c">Let's boot from the iso file:&nbsp;</span></p>
<p id="zw-12e2e7c1e0f5rF-Fj3916c"><span id="zw-12e2e7c1e0fW1F1Cf3916c">&nbsp;&nbsp;
<pre> $ 9vx -r plan9.iso -u glenda "CWD=#Z`pwd`" "nvram=#Z`pwd`/plan9.nvr" </pre>
<p>&nbsp;</span></p>
<p id="zw-12e2e7c1e41-SWd8A3916c"><span id="zw-12e2e99b018PJMlg63916c">You should be in rio now, have an acme and a rio window, stats,&nbsp;</span><span id="zw-12e2e9a8581RJi33V3916c">faces... This is the live system in the iso that you probably already&nbsp;</span><span id="zw-12e2e9a93b7IDfw_43916c">know. The CWD=... and nvram=... arguments are interpreted as plan9.ini&nbsp;</span><span id="zw-12e2e9a9a949Ka7In3916c">lines and passed as environment variables, we will use them later.&nbsp;</span></p>
<p id="zw-12e2e7c1e13HHsmwG3916c"><span id="zw-12e2e7c1e14E_-xFU3916c">Open a new rio window:&nbsp;</span></p>
<p id="zw-12e2e7c1e14r-aZU3916c"><span id="zw-12e2ef48ddf7wmF-E3916c">&nbsp;&nbsp; &nbsp;
<pre>% cd $CWD 
% dd -if /dev/random -of plan9.nvr -bs 512 -count 1 
% dd -if /dev/zero -of plan9.kfs -bs 1024 -count 320000 </pre>
<p>&nbsp;</span></p>
<p id="zw-12e2e7c1e16Q2tDoO3916c"><span id="zw-12e2e7c1e178Xvjp33916c">Those files will be our nvram and kfs partitions (check the size of&nbsp;</span><span id="zw-12e2ebb332fVCtHPl3916c">your kfs file, 320Mb is not too much, but will be enough). Nvram needs&nbsp;</span><span id="zw-12e2ebb437bvlQGlr3916c">to be initialized:&nbsp;</span></p>
<p id="zw-12e2e7c1e18-UPMoz3916c">
<pre>    % auth/wrkey 
    authid: bootes 
    authdom: 9vx 
    secstore key: 
    password: </pre>
<p>&nbsp;</p>
<p id="zw-12e2e7c1e1cJK0W053916c"><span id="zw-12e2e7c1e1cHkXjtz3916c">We can populate the file system now:&nbsp;</span></p>
<p id="zw-12e2e7c1e43SMA8A3916c"><span style="font-family:monospace;font-size:x-small;"><span style="white-space:pre-wrap;">
<pre>% 9660srv -f plan9.iso 
% 9fs 9660 
% disk/kfs -f plan9.kfs 
File system main inconsistent 
Would you like to ream it (y/n)? y 
% 9fs kfs 
% dircp /n/9660 /n/kfs </pre>
<p> </span></span></p>
<p id="zw-12e2e7c1e21S6igCx3916c"><span id="zw-12e2e7c1e22xV5I8q3916c">The system is now installed. You should be able to open a new 9vx&nbsp;</span><span id="zw-12e2e9d16dcxMQUuw3916c">instance from your new root:&nbsp;</span></p>
<p id="zw-12e2e7c1e22cfR4fL3916c"><span id="zw-12e2ef4e62b1b7gn83916c">&nbsp;&nbsp; &nbsp;
<pre>$ 9vx "nvram=#Z`pwd`/plan9.nvr" -r plan9.kfs -u glenda </pre>
<p>&nbsp;</span></p>
<p id="zw-12e2e7c1e43i5zhP3916c"><span id="zw-12e2e9d829dcizCED3916c">You can also boot a cpu server. We will use the canopenpath option, so&nbsp;</span><span id="zw-12e2e9d8d67pWo5o3916c">that only the files which begin with `pwd`/plan9 can be opened from&nbsp;</span><span id="zw-12e2e9d940dlOmSsY3916c">9vx, the -ic flags tell 9vx to pass -c to /386/init:&nbsp;</span></p>
<p id="zw-12e2e7c1e252kexP-3916c"><span id="zw-12e2ef4fea6GrOSQ3916c">&nbsp;</span><span id="zw-12e2e9db9feHedRAA3916c">&nbsp;
<pre>$ 9vx -gic -r plan9.kfs "nvram=#Z`pwd`/plan9.nvr" "canopenpath=`pwd`/plan9" -u bootes </pre>
<p>&nbsp;</span></p>
<p id="zw-12e2e7c1e27kMzC7K3916c"><span id="zw-12e2e7c1e27aKeSLj3916c">When you see the vx32# prompt add a key so that you can cpu as glenda:&nbsp;</span></p>
<p id="zw-12e2e7c1e44wabKIv3916c"><span id="zw-12e2ef51c08DQfrMq3916c">&nbsp;&nbsp; &nbsp;
<pre>vx32# echo 'key proto=p9sk1 dom=9vx user=glenda !password=password' &gt;/mnt/factotum/ctl </pre>
<p>&nbsp;</span></p>
<p id="zw-12e2e7c1e29dHLgZ3916c"><span id="zw-12e2e7c1e2a_uAPXD3916c">Now you can cpu to your new server. From another 9vx instance (for&nbsp;</span><span id="zw-12e2ea171ccTkGuT3916c">example, booted from the iso):&nbsp;</span></p>
<p id="zw-12e2e7c1e2aM_7KT83916c"><span id="zw-12e2e7c1e2bZTc5Ep3916c">&nbsp;&nbsp; &nbsp;
<pre>% cpu -h 127.0.0.1 </pre>
<p>&nbsp;</span></p>
<p id="zw-12e2e7c1e44vK_Dc3916c">&nbsp;</p>
<p id="zw-12e2e7c1e2bmcFPV3916c"><span id="zw-12e2e7c1e2dErEswl3916c">If it worked we are done.&nbsp;</span></p>
<p id="zw-12e2e7c1e44N-mz8b3916c">&nbsp;</p>
<p id="zw-12e2e7c1e2dlCMKe73916c"><span id="zw-12e2e7c1e2dz_k0Ct3916c">Now you will probably want to adjust to your needs the 9vxc script to&nbsp;</span><span id="zw-12e2ef0574aISfLe3916c">launch cpu servers (also, think about adding a /cfg/vx32/cpurc file).&nbsp;</span></p>
<p id="zw-12e2e7c1e451b74Pj3916c"><span id="zw-12e2e7c1e2eN3pQF3916c">You could be interested in the options localroot, canopenpath,&nbsp;</span><span id="zw-12e2e7c1e2fXsSTFb3916c">cpulimit and memsize. Or maybe you want to setup a virtual ethernet&nbsp;</span><span id="zw-12e2e7c1e2fCMPtOk3916c">device (have a look at the tap script and the 9vx man page).&nbsp;</span></p>
<p id="zw-12e2e7c1e2frKWNh93916c"><span id="zw-12e2e7c1e30E_qQB83916c">Have fun! (and please, report bugs)&nbsp;</span></p>
<p id="zw-12e2e7c1e45ChSS03916c">&nbsp;</p>
<p id="zw-12e2e7c1e31k8xSAq3916c"><span id="zw-12e2e7c1e32ahNphh3916c">--&nbsp;</span></p>
<p id="zw-12e2e7c1e45mXjHMA3916c"></p>
<p id="zw-12e2e7c1e45WjjzbV3916c"><span id="zw-12e2e7c1e33mjLvWi3916c">- yiyus || JGL . 4l77.com&nbsp;</span><span id="zw-12e2e7c1e330DFFyj3916c">&nbsp;&nbsp;</span></p>
<p id="zw-12e2e7c1e4d8qBIi3916c">&nbsp;</p>
</div>

            
          </p>
        </div>
      
        <div class="post py3">
          <p class="post-meta">Jan 19, 2011</p>
          <a href="/unix/linux/2011/01/19/tools-for-manipulate-object-files/" class="post-link"><h3 class="h2 post-title">Tools for Manipulating Object Files</h3></a>
          <p class="post-summary">
            
              <p>&nbsp;</p>
<p>There are a number of tools available on Unix systems to help you understand and manipulate object files.&nbsp;In particular, the GNU binutils package is especially helpful and runs on every Unix platform.</p>
<p>&nbsp;</p>
<ol>
<li><strong>AR</strong> :&nbsp;Creates static libraries, and inserts, deletes, lists, and extracts members.</li>
<li><strong>STRINGS</strong>: Lists all of the printable strings contained in an object file.</li>
<li><strong>STRIP</strong>:&nbsp;Deletes symbol table information from an object file.</li>
<li><strong>NM </strong>:&nbsp;Lists the symbols defined in the symbol table of an object file.</li>
<li><strong>SIZE</strong>:&nbsp;Lists the names and sizes of the sections in an object file.</li>
<li><strong>READELF</strong>:&nbsp;Displays the complete structure of an object file, including all of the information encoded in the&nbsp;ELF header. Subsumes the functionality of SIZE and NM.</li>
<li><strong>OBJDUMP</strong>:&nbsp;The mother of all binary tools. Can display all of the information in an object file. Its most&nbsp;useful function is disassembling the binary instructions in the .text section.</li>
<li><strong>LDD </strong>:&nbsp;Lists the shared libraries that an executable needs at run time.</li>
</ol>
<div>--- From <em>Computer Systems: A Programmer's Perspective</em>.</div>
<div></div>
<p>PS: </p>
<ol>
<li>A very good webpage introducing Linux libraries:&nbsp;<a href="http://www.yolinux.com/TUTORIALS/LibraryArchives-StaticAndDynamic.html">Static, Shared Dynamic and Loadable Linux Libraries</a></li>
<li><a href="http://www.yolinux.com/TUTORIALS/LibraryArchives-StaticAndDynamic.html"></a>How to Write Shared Libraries?&nbsp;<a href="http://www.akkadia.org/drepper/dsohowto.pdf">http://www.akkadia.org/drepper/dsohowto.pdf</a></li>
<li>Program Library HOWTO:&nbsp;<a href="http://tldp.org/HOWTO/Program-Library-HOWTO/index.html">http://tldp.org/HOWTO/Program-Library-HOWTO/index.html</a></li>
</ol>

            
          </p>
        </div>
      
        <div class="post py3">
          <p class="post-meta">Jan 18, 2011</p>
          <a href="/unix/linux/2011/01/18/multi-line-operations-in-vim/" class="post-link"><h3 class="h2 post-title">Commenting out a range of lines in VIM</h3></a>
          <p class="post-summary">
            
              <p>Reference:&nbsp;<a href="http://vim.wikia.com/wiki/Commenting_out_a_range_of_lines">http://vim.wikia.com/wiki/Commenting_out_a_range_of_lines</a></p>
<p>&nbsp;</p>
<p><span class="goog_qs-tidbit goog_qs-tidbit-0 goog_qs-tidbit-hilite">A -VISUAL BLOCK- can also be used to comment out lines.</span>&nbsp;</p>
<p>&nbsp;</p>
<p>Start by typing "Ctrl-V" and then highlight a strip downwards by hitting "down/j".</p>
<p>&nbsp;</p>
<p>After that, type capital "I" to insert for all highlighted lines. Type the comment, in this case "#&lt;Space&gt;". Then hit "Esc".</p>

            
          </p>
        </div>
      
        <div class="post py3">
          <p class="post-meta">Jan 17, 2011</p>
          <a href="/unix/linux/2011/01/17/ksh-version/" class="post-link"><h3 class="h2 post-title">如何查看Ksh Version</h3></a>
          <p class="post-summary">
            
              <ol>
<li>echo $KSH_VERSION. 若没有输出，<span>echo ${.sh.version}，Ksh93有效</span></li>
<li><span><span>/bin/ksh --version 应该只在Linux下有效</span></span></li>
<li><span><span><span>strings /bin/ksh | grep -i version，直接到二进制文件里查找</span></span></span></li>
<li>set -o vi ；ESC；Ctrl+V，详见<a href="http://unix.ittoolbox.com/groups/technical-functional/shellscript-l/command-to-find-the-version-of-ksh-1490264">http://unix.ittoolbox.com/groups/technical-functional/shellscript-l/command-to-find-the-version-of-ksh-1490264</a>。</li>
</ol>
<p>对于KSH88，估计只有3、4有效。</p>

            
          </p>
        </div>
      
        <div class="post py3">
          <p class="post-meta">Jan 2, 2011</p>
          <a href="/perl/unix/linux/2011/01/02/translate-words-in-batch/" class="post-link"><h3 class="h2 post-title">利用在线词典批量查询英语单词</h3></a>
          <p class="post-summary">
            
              <p>进来遇到很多英语生词，工具书上给的解释错误百出，而很多在线词典不但可以给出某个单词的解释，而且有大量的示例，因此猜想利用在线词典批量查询这些单词。怎么实现呢？</p>
<p>首要问题是如何自动获取某个单词的解释。搜索之后，发现可以用curl实现，如</p>
<p>
<pre>curl -s "http://www.google.com/dictionary?aq=f&amp;langpair=en|en&amp;q="$1"&amp;hl=en" | html2text -nobs | sed '1,/^ *Dictionary/]/d' | head -n -5 | less</pre>
<p>&nbsp;</p>
<p>请参见<a href="http://ubuntuforums.org/showthread.php?t=1591389">http://ubuntuforums.org/showthread.php?t=1591389</a>&nbsp;和&nbsp;<a href="http://stackoverflow.com/questions/1617152/using-google-as-a-dictionary-lookup-via-bash-how-can-one-grab-the-first-definiti">http://stackoverflow.com/questions/1617152/using-google-as-a-dictionary-lookup-via-bash-how-can-one-grab-the-first-definiti</a>。</p>
<p>&nbsp;</p>
<p>试过Google Dictionary之后发现， curl下来的网页用html2text转换时会报错：Input recoding failed due to invalid input sequence. 尝试了Python版的html2text之后，依然有大量的javascript和HTML代码残留。于是转而求助于百度词典&mdash;&mdash;因为百度词典的搜索结果中没有Javascript语句，html2text一般可以完美转换。</p>
<p>&nbsp;</p>
<p>转换完之后的文件如下，编码为UTF-8.</p>
<p>
<pre>�新闻   网页   贴吧   知道   MP3   图片   视频   词典   
            [antiseptic                                ] 设置 | 帮助
               [查百度词典]   
                                     把百度设为首页
语法标注解释 antiseptic英音：[,&aelig;nti'septik]美音：[,&aelig;ntə'sɛptɪk]
 
*****   *****
**** 以下结果由[bddict/source/img/logo.gif]译典通提供词典解释 ****
形容词 a.
1.
抗菌的,防腐的
2.
使用抗菌剂的,使用防腐剂的
antiseptic treatment
防腐处理
3.
未受感染的,无菌的,消过毒的
The technician had on an antiseptic white jacket.
那个技术员穿着消毒白色夹克。
4.
非常整洁的
5.
冷淡的,缺乏热情的
He nodded an antiseptic greeting.
他冷冷地点头打了个招呼。
名词 n.
1.
抗菌剂,防腐剂[C]
**** 以下结果来自互联网网络释义 ****
antiseptic
1.
防腐剂/消毒药
大学英语相似词辨析(13):ante-,a...
antiseptic 防腐剂/消毒药
http://www.english-ex...
2.
防霉剂
北京译邦达翻译公司-2008 Januar...
防霉剂 antiseptic
http://www.t-bond.com...
3.
防腐的；防腐剂
石油英语|能源动力行业英语第1521页
antiseptic防腐的；防腐剂
http://www.b2b99.com/...
4.
抗菌剂， 防腐剂
SAT化学词汇表Chapter 6_SAT...
antiseptic抗菌剂， 防腐剂
http://www.24en.com/s...
Antiseptic
1.
防腐剂
词博英语社区(生物词汇 A-F (1)[c...
Antiseptic 防腐剂
http://www.cibo.biz/f...
 显示更多网络释义结果
&copy;2011 Baidu 此内容系百度根据您的指令自动搜索的结果，不代表百度赞成被搜索网站的内容或立场
[http://c.baidu.com/c.gif?t=0&amp;q=antiseptic&amp;p=0&amp;pn=0]
      [wd                  ] [s]
**** 搜索框提示 ****
*** 是否希望搜索汉字和英语时显示搜索框提示 ***
 #显示 o不显示
[Unknown INPUT type]
</pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>显然上面的内容是不便于阅读的。为了提取有用信息，需要对上面的内容进行处理&mdash;&mdash;下面的脚本参考了<a href="http://blog.csdn.net/jallin2001/archive/2009/11/13/4808618.aspx">http://blog.csdn.net/jallin2001/archive/2009/11/13/4808618.aspx</a>。</p>
<p>&nbsp;</p>
<p><span style="font-family:monospace;font-size:x-small;"><span style="white-space:pre-wrap;">
<pre>#!/usr/bin/perl -w
############### censor.pl #################
# Handle the explanations got from online dictionary.
# Inputs:
#	ARGV[0] -- temparory file containning the explanations
#	ARGV[1] -- keyword
############################################
use strict;
use Encode;
my $syntax = Encode::decode('utf8', '语法标注解释 ');
my $internet = Encode::decode('utf8', '以下结果来自互联网网络释义');
my $yingyin = Encode::decode('utf8', '英音');
my $meiyin = Encode::decode('utf8', '美音');
my $write_flag=0;
open(EXP,$ARGV[0]);
while (my $nextline=&lt;EXP&gt;) {
	chomp($nextline);
	$nextline = Encode::decode('utf8', $nextline);
	if ($nextline =~ m/.*$syntax.*/) {
		$write_flag=1;
		$nextline =~ s/$syntax//;
	} elsif ($nextline =~ m/.*$internet.*/) {
		$write_flag=0;
	}
			
	if ($write_flag eq 1) {
		if ($nextline !~ m/.*/*/*/*/*.*/) { # Excluse lines containning ****
			# Add a space between the keyword and 英音/美音
			$nextline =~ s/$ARGV[1]([$yingyin|$meiyin])/$ARGV[1] $1/; 
			print encode("utf8",$nextline),"/r/n"; # In perl, /r/n is needed to add a new line
		}
	}
}</pre>
<p> </span></span></p>
<p><span style="font-family:mceinline;font-size:xx-small;"><span style="white-space:pre-wrap;">运行上面的脚本后，可以得到如下的输出：</span></span></p>
<p><span style="font-family:monospace;font-size:xx-small;"><span style="white-space:pre-wrap;">
<pre>antiseptic 英音：[,&aelig;nti'septik]美音：[,&aelig;ntə'sɛptɪk]
&nbsp;
形容词 a.
1.
抗菌的,防腐的
2.
使用抗菌剂的,使用防腐剂的
antiseptic treatment
防腐处理
3.
未受感染的,无菌的,消过毒的
The technician had on an antiseptic white jacket.
那个技术员穿着消毒白色夹克。
4.
非常整洁的
5.
冷淡的,缺乏热情的
He nodded an antiseptic greeting.
他冷冷地点头打了个招呼。
名词 n.
1.
抗菌剂,防腐剂[C]
</pre>
<p> </span></span></p>
<p>&nbsp;</p>
<p>另外，如果要自动化查询一批英文单词，可以把它们写到一个文件中，然后用下面的脚本进行自动查询</p>
<p><span style="font-family:monospace;font-size:x-small;"><span style="white-space:pre-wrap;">
<pre>#!/bin/bash
# Command line look up using Google's define feature - command line dictionary
WORDS=$(cat ./words)
for word in $WORDS
do
#	word=$1
	#curl -s -A 'Mozilla/4.0'  'http://www.google.com/dictionary?langpair=zh-CN|en&amp;hl=en&amp;aq=f&amp;q='$word &gt;&gt; test.html
	curl -s -A 'Mozilla/4.0' "http://dict.baidu.com/s?tn=dict&amp;wd="$word | html2text &gt; tmp 2&gt;/dev/null
	echo "------------------ $word -------------------" &gt;&gt; mywords
	./censor.pl tmp $word &gt;&gt; mywords
	rm -f tmp
done</pre>
<p> </span></span></p>
<p>&nbsp;</p>
<p>Update 2011-01-02:</p>
<p>&nbsp;</p>
<p>终于找到了查询Google Dictionary的一种方法。</p>
<p>Google Dictionary对于单词abandon的解释可以利用URL：<a href="http://www.google.com/dictionary?langpair=en|zh-CN&amp;q=abandon&amp;hl=en&amp;aq=f">http://www.google.com/dictionary?langpair=en|zh-CN&amp;q=abandon&amp;hl=en&amp;aq=f</a>&nbsp;得到，而网页的信息如下：</p>
<p>&nbsp;</p>
<p><span style="font-family:monospace;font-size:x-small;"><span style="white-space:pre-wrap;">
<pre> 
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt; 
&lt;html&gt; 
&lt;head&gt; 
&lt;mce:script type="text/javascript"&gt;&lt;!--
 
(function(){function a(d){this.t={};this.tick=function(e,f,b){b=b?b:(new Date).getTime();this.t[e]=[b,f]};this.tick("start",null,d)}var c=new a;window.jstiming={Timer:a,load:c};try{var g=null;if(window.chrome&amp;&amp;window.chrome.csi)g=Math.floor(window.chrome.csi().pageT);if(g==null)if(window.gtbExternal)g=window.gtbExternal.pageT();if(g==null)if(window.external)g=window.external.pageT;if(g)window.jstiming.pt=g}catch(h){};})();
// --&gt;&lt;/mce:script&gt; 
&lt;meta http-equiv="content-type" content="text/html; charset=UTF-8"&gt; 
&lt;meta name="keywords" content="dictionary, dict, language, translate, translation, define, definition, glossary, online dictionary, language tool, multilingual dictionary of abandon , Arabic, Bengali, Bulgarian, Chinese (Simplified), Chinese (Traditional), Croatian, Czech, Dutch, English, Finnish, French, German, Greek, Gujarati, Hebrew, Hindi, Italian, Kannada, Korean, Malayalam, Marathi, Portuguese, Russian, Serbian, Spanish, Tamil, Telugu, Thai"&gt; 
&lt;meta name="description" content="abandon : （不顾责任、义务等）离弃，遗弃，抛弃, 不得已而放弃；舍弃, 停止（支持或帮助）；放弃（信念）, 中止；放弃；不再有, 陷入，沉湎于（某种情感）, 放任；放纵 - Google's free online dictionary service."&gt; 
&lt;meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7"&gt; 
&lt;link rel="canonical" href="/dictionary?hl=en&amp;sl=en&amp;tl=zh-CN&amp;q=abandon" mce_href="dictionary?hl=en&amp;sl=en&amp;tl=zh-CN&amp;q=abandon"&gt; 
&lt;title&gt; 
abandon in Chinese (Simplified) - Google Dictionary
&lt;/title&gt; 
&lt;link rel="stylesheet" href="/dictionary/css/google-common_post20090706.css" mce_href="dictionary/css/google-common_post20090706.css" type="text/css"&gt; 
&lt;mce:style type="text/css"&gt;&lt;!--
  
  #gbar,#guser{font-size:13px;padding-right:1px;padding-top:2px !important}#gbar{padding-left:1px;float:left;height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}#gbs,.gbm{background:#fff;left:0;position:absolute;text-align:left;visibility:hidden;z-index:1000}.gbm{border:1px solid;border-color:#c9d7f1 #36c #36c #a2bae7;z-index:1001}.gb1{margin-right:.5em}#gbar .gbsup{color:#c00;font-size:9px;font-weight:normal;line-height:9px;margin-left:-.5em;margin-right:.5em;*margin-left:-.5em;*margin-right:.5em}.gb1,.gb3{zoom:1}.gb2{display:block;padding:.2em .5em}.gb2,.gb3{text-decoration:none;border-bottom:none}a.gb1,a.gb2,a.gb3,a.gb4{color:#00c !important}.gbi .gb3,.gbi .gb2,.gbi .gb4{color:#dd8e27 !important}.gbf .gb3,.gbf .gb2,.gbf .gb4{color:#900 !important}a.gb2:hover{background:#36c;color:#fff !important}
--&gt;&lt;/mce:style&gt;&lt;style type="text/css" mce_bogus="1"&gt;  
  #gbar,#guser{font-size:13px;padding-right:1px;padding-top:2px !important}#gbar{padding-left:1px;float:left;height:22px}#guser{padding-bottom:7px !important;text-align:right}.gbh,.gbd{border-top:1px solid #c9d7f1;font-size:1px}.gbh{height:0;position:absolute;top:24px;width:100%}#gbs,.gbm{background:#fff;left:0;position:absolute;text-align:left;visibility:hidden;z-index:1000}.gbm{border:1px solid;border-color:#c9d7f1 #36c #36c #a2bae7;z-index:1001}.gb1{margin-right:.5em}#gbar .gbsup{color:#c00;font-size:9px;font-weight:normal;line-height:9px;margin-left:-.5em;margin-right:.5em;*margin-left:-.5em;*margin-right:.5em}.gb1,.gb3{zoom:1}.gb2{display:block;padding:.2em .5em}.gb2,.gb3{text-decoration:none;border-bottom:none}a.gb1,a.gb2,a.gb3,a.gb4{color:#00c !important}.gbi .gb3,.gbi .gb2,.gbi .gb4{color:#dd8e27 !important}.gbf .gb3,.gbf .gb2,.gbf .gb4{color:#900 !important}a.gb2:hover{background:#36c;color:#fff !important}&lt;/style&gt; 
&lt;link rel="stylesheet" href="/dictionary/css/dictionary-search_post20100310.css" mce_href="dictionary/css/dictionary-search_post20100310.css" type="text/css"&gt; 
&lt;link rel="stylesheet" href="/dictionary/css/gselectbox_post20090113.css" mce_href="dictionary/css/gselectbox_post20090113.css" type="text/css"&gt; 
&lt;mce:script type="text/javascript" src="/dictionary/js/dictionary_compiled_post20091026.js" mce_src="dictionary/js/dictionary_compiled_post20091026.js"&gt;&lt;!--
 
// --&gt;&lt;/mce:script&gt; 
&lt;mce:script type="text/javascript"&gt;&lt;!--
 
(function(){function i(a,b,c){var d="on"+b;if(a.addEventListener)a.addEventListener(b,c,false);else if(a.attachEvent)a.attachEvent(d,c);else{var h=a[d];a[d]=function(){var g=h.apply(this,arguments),e=c.apply(this,arguments);return g==undefined?e:e==undefined?g:e&amp;&amp;g}}};var j,k,l,m=window.gbar={};function _tvs(a,b){return a||b}function _tvn(a,b){var c=parseInt(a,10);return isNaN(c)?b:c}function _tvf(a,b){var c=parseFloat(a);return isNaN(c)?b:c}function _tvb(a,b){return a=="true"?true:a=="false"?false:b}var n,o,p;function q(a){var b=window.a&amp;&amp;(document.forms[0].b||"").value;if(b)a.href=a.href.replace(/([?&amp;])q=[^&amp;]*|$/,function(c,d){return(d||"&amp;")+"q="+encodeURIComponent(b)})}l=q;
function r(a,b,c,d,h,g){var e=document.getElementById(a);if(e){var f=e.style;f.left=d?"auto":b+"px";f.right=d?b+"px":"auto";f.top=c+"px";f.visibility=o?"hidden":"visible";if(h&amp;&amp;g){f.width=h+"px";f.height=g+"px"}else{r(n,b,c,d,e.offsetWidth,e.offsetHeight);o=o?"":a}}}
var s=[],v=function(a){a=a||window.event;var b=a.target||a.srcElement;a.cancelBubble=true;if(n==null){a=document.createElement(Array.every||window.createPopup?"iframe":"div");a.frameBorder="0";n=a.id="gbs";a.src="javascript:''";b.parentNode.appendChild(a);i(document,"click",t)}var c=b;b=0;if(c.className!="gb3")c=c.parentNode;a=c.getAttribute("aria-owns")||"gbi";var d=c.offsetWidth,h=c.offsetTop&gt;20?46:24;if(document.getElementById("tphdr"))h-=3;var g=false;do b+=c.offsetLeft||0;while(c=c.offsetParent);
c=(document.documentElement.clientWidth||document.body.clientWidth)-b-d;var e;d=document.body;var f=document.defaultView;if(f&amp;&amp;f.getComputedStyle){if(d=f.getComputedStyle(d,""))e=d.direction}else e=d.currentStyle?d.currentStyle.direction:d.style.direction;e=e=="rtl";if(a=="gbi"){for(d=0;f=s[d++];)f();u(null,window.navExtra);if(e){b=c;g=true}}else if(!e){b=c;g=true}o!=a&amp;&amp;t();r(a,b,h,g)},t=function(){o&amp;&amp;r(o,0,0)},u=function(a,b){var c,d=document.getElementById("gbi"),h=a;if(!h)h=d.firstChild;for(;b&amp;&amp;
(c=b.pop());){var g=d,e=c,f=h;p||(p="gb2");g.insertBefore(e,f).className=p}},w=function(a,b,c){if((b=document.getElementById(b))&amp;&amp;a){a.className="gb4";var d=document.createElement("span");d.appendChild(a);d.appendChild(document.createTextNode(" | "));d.id=c;b.appendChild(d)}};m.qs=l;m.setContinueCb=k;m.pc=j;m.tg=v;m.close=t;m.addLink=w;m.almm=u;})();
// --&gt;&lt;/mce:script&gt; 
&lt;mce:script type="text/javascript" src="/dictionary/js/autocomplete_compiled_post20090416.js" mce_src="dictionary/js/autocomplete_compiled_post20090416.js"&gt;&lt;!--
 
// --&gt;&lt;/mce:script&gt; 
&lt;/head&gt; 
&lt;body onload="document.f.q.select();tickBodyLoadAndReport();" bgcolor="#ffffff" &gt; 
&lt;div id=gbar&gt;&lt;nobr&gt;&lt;a href="http://www.google.com/search?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;sa=N&amp;tab=Dw" mce_href="http://www.google.com/search?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;sa=N&amp;tab=Dw" onclick=gbar.qs(this) class=gb1&gt;Web&lt;/a&gt; &lt;a href="http://www.google.com/images?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;source=og&amp;sa=N&amp;tab=Di" mce_href="http://www.google.com/images?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;source=og&amp;sa=N&amp;tab=Di" onclick=gbar.qs(this) class=gb1&gt;Images&lt;/a&gt; &lt;a href="http://www.google.com/search?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;tbo=u&amp;tbs=vid:1&amp;source=og&amp;sa=N&amp;tab=Dv" mce_href="http://www.google.com/search?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;tbo=u&amp;tbs=vid:1&amp;source=og&amp;sa=N&amp;tab=Dv" onclick=gbar.qs(this) class=gb1&gt;Videos&lt;/a&gt; &lt;a href="http://maps.google.com/maps?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;sa=N&amp;tab=Dl" mce_href="http://maps.google.com/maps?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;sa=N&amp;tab=Dl" onclick=gbar.qs(this) class=gb1&gt;Maps&lt;/a&gt; &lt;a href="http://www.google.com/search?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;tbo=u&amp;tbs=nws:1&amp;source=og&amp;sa=N&amp;tab=Dn" mce_href="http://www.google.com/search?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;tbo=u&amp;tbs=nws:1&amp;source=og&amp;sa=N&amp;tab=Dn" onclick=gbar.qs(this) class=gb1&gt;News&lt;/a&gt; &lt;a href="http://www.google.com/search?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;tbo=u&amp;tbs=shop:1&amp;source=og&amp;sa=N&amp;tab=Df" mce_href="http://www.google.com/search?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;tbo=u&amp;tbs=shop:1&amp;source=og&amp;sa=N&amp;tab=Df" onclick=gbar.qs(this) class=gb1&gt;Shopping&lt;/a&gt; &lt;a href="http://mail.google.com/mail/?hl=en&amp;tab=Dm" mce_href="http://mail.google.com/mail/?hl=en&amp;tab=Dm" class=gb1&gt;Gmail&lt;/a&gt; &lt;a href="http://www.google.com/intl/en/options/" mce_href="http://www.google.com/intl/en/options/" onclick="this.blur();gbar.tg(event);return !1" aria-haspopup=true class=gb3&gt;&lt;u&gt;more&lt;/u&gt; &lt;small&gt;▼&lt;/small&gt;&lt;/a&gt;&lt;div class=gbm id=gbi&gt;&lt;a href="http://www.google.com/search?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;tbo=u&amp;tbs=bks:1&amp;source=og&amp;sa=N&amp;tab=Dp" mce_href="http://www.google.com/search?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;tbo=u&amp;tbs=bks:1&amp;source=og&amp;sa=N&amp;tab=Dp" onclick=gbar.qs(this) class=gb2&gt;Books&lt;/a&gt; &lt;a href="http://www.google.com/finance?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;sa=N&amp;tab=De" mce_href="http://www.google.com/finance?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;sa=N&amp;tab=De" onclick=gbar.qs(this) class=gb2&gt;Finance&lt;/a&gt; &lt;a href="http://translate.google.com/translate_t?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;sa=N&amp;tab=DT" mce_href="http://translate.google.com/translate_t?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;sa=N&amp;tab=DT" onclick=gbar.qs(this) class=gb2&gt;Translate&lt;/a&gt; &lt;a href="http://scholar.google.com/scholar?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;sa=N&amp;tab=Ds" mce_href="http://scholar.google.com/scholar?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;sa=N&amp;tab=Ds" onclick=gbar.qs(this) class=gb2&gt;Scholar&lt;/a&gt; &lt;a href="http://www.google.com/search?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;tbo=u&amp;tbs=blg:1&amp;source=og&amp;sa=N&amp;tab=Db" mce_href="http://www.google.com/search?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;tbo=u&amp;tbs=blg:1&amp;source=og&amp;sa=N&amp;tab=Db" onclick=gbar.qs(this) class=gb2&gt;Blogs&lt;/a&gt; &lt;a href="http://www.google.com/search?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;tbo=u&amp;tbs=mbl:1&amp;source=og&amp;sa=N&amp;tab=DY" mce_href="http://www.google.com/search?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;tbo=u&amp;tbs=mbl:1&amp;source=og&amp;sa=N&amp;tab=DY" onclick=gbar.qs(this) class=gb2&gt;Realtime&lt;/a&gt; &lt;div class=gb2&gt;&lt;div class=gbd&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.youtube.com/results?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;sa=N&amp;tab=D1" mce_href="http://www.youtube.com/results?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;sa=N&amp;tab=D1" onclick=gbar.qs(this) class=gb2&gt;YouTube&lt;/a&gt; &lt;a href="http://www.google.com/calendar/render?hl=en&amp;tab=Dc" mce_href="http://www.google.com/calendar/render?hl=en&amp;tab=Dc" class=gb2&gt;Calendar&lt;/a&gt; &lt;a href="http://picasaweb.google.com/lh/view?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;sa=N&amp;tab=Dq" mce_href="http://picasaweb.google.com/lh/view?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;sa=N&amp;tab=Dq" onclick=gbar.qs(this) class=gb2&gt;Photos&lt;/a&gt; &lt;a href="http://docs.google.com/?hl=en&amp;tab=Do&amp;authuser=0" mce_href="http://docs.google.com/?hl=en&amp;tab=Do&amp;authuser=0" class=gb2&gt;Documents&lt;/a&gt; &lt;a href="http://www.google.com/reader/view/?hl=en&amp;tab=Dy" mce_href="http://www.google.com/reader/view/?hl=en&amp;tab=Dy" class=gb2&gt;Reader&lt;/a&gt; &lt;a href="http://sites.google.com/?hl=en&amp;tab=D3" mce_href="http://sites.google.com/?hl=en&amp;tab=D3" class=gb2&gt;Sites&lt;/a&gt; &lt;a href="http://groups.google.com/groups?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;sa=N&amp;tab=Dg" mce_href="http://groups.google.com/groups?langpair=en%7Czh-CN&amp;q=abandon&amp;hl=en&amp;sa=N&amp;tab=Dg" onclick=gbar.qs(this) class=gb2&gt;Groups&lt;/a&gt; &lt;div class=gb2&gt;&lt;div class=gbd&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href="http://www.google.com/intl/en/options/" mce_href="http://www.google.com/intl/en/options/" class=gb2&gt;even more &raquo;&lt;/a&gt; &lt;/div&gt;&lt;/nobr&gt;&lt;/div&gt;&lt;div id=guser width=100%&gt;&lt;nobr&gt;&lt;span id=gbn class=gbi&gt;&lt;/span&gt;&lt;span id=gbf class=gbf&gt;&lt;/span&gt;&lt;b class=gb4&gt;bonny95@gmail.com&lt;/b&gt; | &lt;span id=gbe&gt;&lt;/span&gt;&lt;a id="gb_67" href="http://www.google.com/history/?hl=en" mce_href="http://www.google.com/history/?hl=en" class=gb4&gt;Web History&lt;/a&gt; | &lt;a id="gb_97" href="https://www.google.com/accounts/ManageAccount?hl=en" mce_href="https://www.google.com/accounts/ManageAccount?hl=en" class=gb4&gt;My Account&lt;/a&gt; | &lt;a id="gb_71" href="http://www.google.com/accounts/Logout?continue=http://www.google.com/dictionary%3Flangpair%3Den%257Czh-CN%26q%3Dabandon%26hl%3Den%26aq%3Df" mce_href="http://www.google.com/accounts/Logout?continue=http://www.google.com/dictionary%3Flangpair%3Den%257Czh-CN%26q%3Dabandon%26hl%3Den%26aq%3Df" class=gb4&gt;Sign out&lt;/a&gt;&lt;/nobr&gt;&lt;/div&gt;&lt;div class=gbh style=left:0&gt;&lt;/div&gt;&lt;div class=gbh style=right:0&gt;&lt;/div&gt; 
&lt;div id=cnt&gt; 
&lt;table class="tb" style="clear:both" mce_style="clear:both" width="100%"&gt; 
&lt;tr&gt; 
&lt;form name="f" action="/dictionary"&gt; 
&lt;td class="tc" valign="top"&gt; 
&lt;a id="logo" href="http://www.google.com/webhp?hl=en" mce_href="http://www.google.com/webhp?hl=en" title="Go to Google Home"&gt; 
Go to Google Home&lt;span&gt;&lt;/span&gt; 
&lt;/a&gt; 
&lt;/td&gt; 
&lt;td style="padding:25px 0 7px 8px;position:relative;" mce_style="padding:25px 0 7px 8px;position:relative;" valign="top" width="100%"&gt; 
&lt;select id="dct-slc" name="langpair" onchange="onUpdateLangpair(this)"&gt; 
&lt;option value="ar|en"&gt;Arabic &lt;&gt; English&lt;/option&gt; 
&lt;option value="bn|en"&gt;Bengali &lt;&gt; English&lt;/option&gt; 
&lt;option value="bg|en"&gt;Bulgarian &lt;&gt; English&lt;/option&gt; 
&lt;option value="zh-CN|zh-CN"&gt;Chinese (Simplified) dictionary&lt;/option&gt; 
&lt;option value="zh-CN|en"&gt;Chinese (Simplified) &lt;&gt; English&lt;/option&gt; 
&lt;option value="zh-TW|zh-TW"&gt;Chinese (Traditional) dictionary&lt;/option&gt; 
&lt;option value="zh-TW|en"&gt;Chinese (Traditional) &lt;&gt; English&lt;/option&gt; 
&lt;option value="hr|en"&gt;Croatian &lt;&gt; English&lt;/option&gt; 
&lt;option value="cs|cs"&gt;Czech dictionary&lt;/option&gt; 
&lt;option value="cs|en"&gt;Czech &lt;&gt; English&lt;/option&gt; 
&lt;option value="nl|nl"&gt;Dutch dictionary&lt;/option&gt; 
&lt;option value="en|ar"&gt;English &lt;&gt; Arabic&lt;/option&gt; 
&lt;option value="en|bn"&gt;English &lt;&gt; Bengali&lt;/option&gt; 
&lt;option value="en|bg"&gt;English &lt;&gt; Bulgarian&lt;/option&gt; 
&lt;option selected  value="en|zh-CN"&gt;English &lt;&gt; Chinese (Simplified)&lt;/option&gt; 
&lt;option value="en|zh-TW"&gt;English &lt;&gt; Chinese (Traditional)&lt;/option&gt; 
&lt;option value="en|hr"&gt;English &lt;&gt; Croatian&lt;/option&gt; 
&lt;option value="en|cs"&gt;English &lt;&gt; Czech&lt;/option&gt; 
&lt;option value="en|en"&gt;English dictionary&lt;/option&gt; 
&lt;option value="en|fi"&gt;English &lt;&gt; Finnish&lt;/option&gt; 
&lt;option value="en|fr"&gt;English &lt;&gt; French&lt;/option&gt; 
&lt;option value="en|de"&gt;English &lt;&gt; German&lt;/option&gt; 
&lt;option value="en|el"&gt;English &lt;&gt; Greek&lt;/option&gt; 
&lt;option value="en|gu"&gt;English &lt;&gt; Gujarati&lt;/option&gt; 
&lt;option value="en|iw"&gt;English &lt;&gt; Hebrew&lt;/option&gt; 
&lt;option value="en|hi"&gt;English &lt;&gt; Hindi&lt;/option&gt; 
&lt;option value="en|it"&gt;English &lt;&gt; Italian&lt;/option&gt; 
&lt;option value="en|kn"&gt;English &lt;&gt; Kannada&lt;/option&gt; 
&lt;option value="en|ko"&gt;English &lt;&gt; Korean&lt;/option&gt; 
&lt;option value="en|ml"&gt;English &lt;&gt; Malayalam&lt;/option&gt; 
&lt;option value="en|mr"&gt;English &lt;&gt; Marathi&lt;/option&gt; 
&lt;option value="en|pt"&gt;English &lt;&gt; Portuguese&lt;/option&gt; 
&lt;option value="en|ru"&gt;English &lt;&gt; Russian&lt;/option&gt; 
&lt;option value="en|sr"&gt;English &lt;&gt; Serbian&lt;/option&gt; 
&lt;option value="en|es"&gt;English &lt;&gt; Spanish&lt;/option&gt; 
&lt;option value="en|ta"&gt;English &lt;&gt; Tamil&lt;/option&gt; 
&lt;option value="en|te"&gt;English &lt;&gt; Telugu&lt;/option&gt; 
&lt;option value="en|th"&gt;English &lt;&gt; Thai&lt;/option&gt; 
&lt;option value="fi|en"&gt;Finnish &lt;&gt; English&lt;/option&gt; 
&lt;option value="fr|en"&gt;French &lt;&gt; English&lt;/option&gt; 
&lt;option value="fr|fr"&gt;French dictionary&lt;/option&gt; 
&lt;option value="de|en"&gt;German &lt;&gt; English&lt;/option&gt; 
&lt;option value="de|de"&gt;German dictionary&lt;/option&gt; 
&lt;option value="el|en"&gt;Greek &lt;&gt; English&lt;/option&gt; 
&lt;option value="gu|en"&gt;Gujarati &lt;&gt; English&lt;/option&gt; 
&lt;option value="iw|en"&gt;Hebrew &lt;&gt; English&lt;/option&gt; 
&lt;option value="hi|en"&gt;Hindi &lt;&gt; English&lt;/option&gt; 
&lt;option value="it|en"&gt;Italian &lt;&gt; English&lt;/option&gt; 
&lt;option value="it|it"&gt;Italian dictionary&lt;/option&gt; 
&lt;option value="kn|en"&gt;Kannada &lt;&gt; English&lt;/option&gt; 
&lt;option value="ko|en"&gt;Korean &lt;&gt; English&lt;/option&gt; 
&lt;option value="ko|ko"&gt;Korean dictionary&lt;/option&gt; 
&lt;option value="ml|en"&gt;Malayalam &lt;&gt; English&lt;/option&gt; 
&lt;option value="mr|en"&gt;Marathi &lt;&gt; English&lt;/option&gt; 
&lt;option value="pt|en"&gt;Portuguese &lt;&gt; English&lt;/option&gt; 
&lt;option value="pt|pt"&gt;Portuguese dictionary&lt;/option&gt; 
&lt;option value="ru|en"&gt;Russian &lt;&gt; English&lt;/option&gt; 
&lt;option value="ru|ru"&gt;Russian dictionary&lt;/option&gt; 
&lt;option value="sr|en"&gt;Serbian &lt;&gt; English&lt;/option&gt; 
&lt;option value="es|en"&gt;Spanish &lt;&gt; English&lt;/option&gt; 
&lt;option value="es|es"&gt;Spanish dictionary&lt;/option&gt; 
&lt;option value="ta|en"&gt;Tamil &lt;&gt; English&lt;/option&gt; 
&lt;option value="te|en"&gt;Telugu &lt;&gt; English&lt;/option&gt; 
&lt;option value="th|en"&gt;Thai &lt;&gt; English&lt;/option&gt; 
&lt;/select&gt; 
&lt;mce:script type="text/javascript"&gt;&lt;!--
 
if (!window.google) { window.google = {}; }
var installLanguageSelection = function() {
var language_code = {
'ar':'Arabic',
'bn':'Bengali',
'bg':'Bulgarian',
'zh-CN':'Chinese (Simplified)',
'zh-TW':'Chinese (Traditional)',
'hr':'Croatian',
'cs':'Czech',
'nl':'Dutch',
'en':'English',
'fi':'Finnish',
'fr':'French',
'de':'German',
'el':'Greek',
'gu':'Gujarati',
'iw':'Hebrew',
'hi':'Hindi',
'it':'Italian',
'kn':'Kannada',
'ko':'Korean',
'ml':'Malayalam',
'mr':'Marathi',
'pt':'Portuguese',
'ru':'Russian',
'sr':'Serbian',
'es':'Spanish',
'ta':'Tamil',
'te':'Telugu',
'th':'Thai'
};
window.google.installLanguageSelect('dct-slc', language_code);
};
window.setTimeout(installLanguageSelection, 10);
// --&gt;&lt;/mce:script&gt; 
&lt;input autocomplete="off" type="text" name="q" size="40" maxlength="2048"
             value="abandon"
         title="Search Dictionary"&gt; 
&lt;input type="hidden" name="hl"
             value="en"&gt; 
&lt;input type="submit" value="Search Dictionary"
         style="padding:0 .25em 0 .25em; width:auto; overflow:visible"&gt; 
&lt;/td&gt; 
&lt;/form&gt; 
&lt;/tr&gt; 
&lt;/table&gt; 
&lt;table width="100%" cellspacing="0" cellpadding="0" border="0" class="t bt"&gt; 
&lt;tbody&gt; 
&lt;tr&gt; 
&lt;td style="white-space:nowrap" mce_style="white-space:nowrap"&gt; 
&lt;span id="sd" style="float:left" mce_style="float:left"&gt;Dictionary&lt;/span&gt; 
&lt;a id="dct-clk-a"&gt; 
&lt;div id="dct-clk-im"&gt;&lt;!- ie6 doesn't allow empty div. -&gt;&lt;/div&gt; 
&lt;span id="dct-clk-show"&gt;Show examples&lt;/span&gt; 
&lt;span id="dct-clk-hide"&gt;Hide examples&lt;/span&gt; 
&lt;/a&gt; 
&lt;/td&gt; 
&lt;td style="white-space:nowrap" mce_style="white-space:nowrap" align="right"&gt; 
&lt;/td&gt; 
&lt;/tr&gt; 
&lt;/tbody&gt; 
&lt;/table&gt; 
&lt;div class="dct-srch-otr"&gt; 
&lt;div class="dct-srch-inr rt-sct-exst"&gt; 
&lt;div class="dct-srch-rslt"&gt; 
&lt;p&gt;Found in dictionary: &lt;b&gt;English &gt; Chinese (Simplified)&lt;/b&gt;.
&lt;/p&gt; 
&lt;ul class="dct-e2" id="pr-root" &gt; 
&lt;li class="dct-eh"
             &gt; 
&lt;div  class="dct-eh"&gt; 
&lt;span class="wl-st" id="wl-st-number1"
      onclick="window.google.addWord('abandon','en|zh-CN','number1');"&gt;&lt;img alt="Add star"
    src="/dictionary/image/unstarred.gif" mce_src="dictionary/image/unstarred.gif"&gt;&lt;/span&gt;&lt;span class="wl-ust"
  id="wl-ust-number1" onclick="window.google.removeWord('abandon','en|zh-CN','number1');"&gt;&lt;img alt="Remove star"
    src="/dictionary/image/starred.gif" mce_src="dictionary/image/starred.gif"&gt;&lt;/span&gt; 
&lt;mce:script type="text/javascript"&gt;&lt;!--
window.google.lookupWord('abandon','en|zh-CN','number1');
// --&gt;&lt;/mce:script&gt; 
&lt;span class="dct-tt"&gt;abandon&lt;/span&gt;&lt;span class="dct-tp"&gt;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;span class="dct-tp"&gt;/əˈb&aelig;ndən/
&lt;span class="dct-tlb" title="Phonetic"&gt;DJ&lt;/span&gt;&lt;/span&gt;&lt;span class="prn-btn"&gt;<a href="/dictionary/flash/SpeakerApp16.swf">/dictionary/flash/SpeakerApp16.swf</a>&lt;/span&gt;&lt;span class="dct-tp"&gt;&nbsp;&nbsp;&nbsp;&lt;/span&gt;&lt;span class="dct-tp"&gt;/ə'b&aelig;ndən/
&lt;span class="dct-tlb" title="Phonetic"&gt;KK&lt;/span&gt;&lt;/span&gt; 
&lt;/div&gt; 
&lt;ul&gt; 
&lt;li class="dct-ec"
               &gt; 
&lt;div  class="dct-ec"&gt; 
&lt;span class="dct-elb" title="Part-of-Speech"&gt;verb&lt;/span&gt; 
&lt;/div&gt; 
&lt;ul&gt; 
&lt;li class="dct-em"
               &gt; 
&lt;div  class="dct-em"&gt; 
&lt;span class="dct-tt"&gt;to leave somebody, especially somebody you are responsible for, with no intention of returning&lt;/span&gt; &lt;span class="dct-tt"&gt;（不顾责任、义务等）离弃，遗弃，抛弃
&lt;span class="dct-tlb" title="Complement"&gt;~ sb (to sth)&lt;/span&gt; 
&lt;span class="dct-tlb" title="Grammar"&gt;VN&lt;/span&gt;&lt;/span&gt; 
&lt;/div&gt; 
&lt;ul&gt; 
&lt;li class="dct-ee"
              style="display:none" mce_style="display:none" &gt; 
&lt;div  class="dct-ee"&gt; 
&lt;span class="dct-tt"&gt;The baby had been abandoned by its mother.&lt;/span&gt; &lt;span class="dct-tt"&gt;这个婴儿被母亲遗弃了。&lt;/span&gt; 
&lt;/div&gt; 
&lt;/li&gt; 
&lt;li class="dct-ee"
              style="display:none" mce_style="display:none" &gt; 
&lt;div  class="dct-ee"&gt; 
&lt;span class="dct-tt"&gt;People often simply abandon their pets when they go abroad.&lt;/span&gt; &lt;span class="dct-tt"&gt;人们出国时常常丢下宠物不管，一走了之。&lt;/span&gt; 
&lt;/div&gt; 
&lt;/li&gt; 
&lt;li class="dct-ee"
              style="display:none" mce_style="display:none" &gt; 
&lt;div  class="dct-ee"&gt; 
&lt;span class="dct-tt"&gt;The study showed a deep fear among the elderly of being abandoned to the care of strangers.&lt;/span&gt; &lt;span class="dct-tt"&gt;研究表明，老人十分害怕被丢给陌生人照管。&lt;/span&gt; 
&lt;/div&gt; 
&lt;/li&gt; 
&lt;/ul&gt; 
&lt;/li&gt; 
&lt;li class="dct-em"
               &gt; 
&lt;div  class="dct-em"&gt; 
&lt;span class="dct-tt"&gt;to leave a thing or place, especially because it is impossible or dangerous to stay&lt;/span&gt; &lt;span class="dct-tt"&gt;不得已而放弃；舍弃
&lt;span class="dct-tlb" title="Complement"&gt;~ sth (to sb/sth)&lt;/span&gt; 
&lt;span class="dct-tlb" title="Grammar"&gt;VN&lt;/span&gt;&lt;/span&gt; 
&lt;/div&gt; 
&lt;ul&gt; 
&lt;li class="dct-ee"
              style="display:none" mce_style="display:none" &gt; 
&lt;div  class="dct-ee"&gt; 
&lt;span class="dct-tt"&gt;Snow forced many drivers to abandon their vehicles.&lt;/span&gt; &lt;span class="dct-tt"&gt;大雪迫使许多驾驶者弃车步行。&lt;/span&gt; 
&lt;/div&gt; 
&lt;/li&gt; 
&lt;li class="dct-ee"
              style="display:none" mce_style="display:none" &gt; 
&lt;div  class="dct-ee"&gt; 
&lt;span class="dct-tt"&gt;They had to abandon their lands and property to the invading forces.&lt;/span&gt; &lt;span class="dct-tt"&gt;他们不得不放弃土地和财产，让侵略军占领。&lt;/span&gt; 
&lt;/div&gt; 
&lt;/li&gt; 
&lt;li class="dct-ee"
              style="display:none" mce_style="display:none" &gt; 
&lt;div  class="dct-ee"&gt; 
&lt;span class="dct-tt"&gt;He gave the order to abandon ship(= to leave the ship because it was sinking).&lt;/span&gt; &lt;span class="dct-tt"&gt;他下令弃船（因船快要沉没）。&lt;/span&gt; 
&lt;/div&gt; 
&lt;/li&gt; 
&lt;/ul&gt; 
&lt;/li&gt; 
&lt;li class="dct-em"
               &gt; 
&lt;div  class="dct-em"&gt; 
&lt;span class="dct-tt"&gt;to stop supporting or helping somebody; to stop believing in something&lt;/span&gt; &lt;span class="dct-tt"&gt;停止（支持或帮助）；放弃（信念）
&lt;span class="dct-tlb" title="Grammar"&gt;VN&lt;/span&gt;&lt;/span&gt; 
&lt;/div&gt; 
&lt;ul&gt; 
&lt;li class="dct-ee"
              style="display:none" mce_style="display:none" &gt; 
&lt;div  class="dct-ee"&gt; 
&lt;span class="dct-tt"&gt;The country abandoned its political leaders after the war.&lt;/span&gt; &lt;span class="dct-tt"&gt;战后该国人民不再拥护他们的政治领袖。&lt;/span&gt; 
&lt;/div&gt; 
&lt;/li&gt; 
&lt;li class="dct-ee"
              style="display:none" mce_style="display:none" &gt; 
&lt;div  class="dct-ee"&gt; 
&lt;span class="dct-tt"&gt;By 1930 he had abandoned his Marxist principles.&lt;/span&gt; &lt;span class="dct-tt"&gt;1930 年时他已放弃了马克思主义信念。&lt;/span&gt; 
&lt;/div&gt; 
&lt;/li&gt; 
&lt;/ul&gt; 
&lt;/li&gt; 
&lt;li class="dct-em"
               &gt; 
&lt;div  class="dct-em"&gt; 
&lt;span class="dct-tt"&gt;to stop doing something, especially before it is finished; to stop having something&lt;/span&gt; &lt;span class="dct-tt"&gt;中止；放弃；不再有
&lt;span class="dct-tlb" title="Grammar"&gt;VN&lt;/span&gt;&lt;/span&gt; 
&lt;/div&gt; 
&lt;ul&gt; 
&lt;li class="dct-ee"
              style="display:none" mce_style="display:none" &gt; 
&lt;div  class="dct-ee"&gt; 
&lt;span class="dct-tt"&gt;They had to abandon the match because of rain.&lt;/span&gt; &lt;span class="dct-tt"&gt;因为下雨，他们只好中止比赛。&lt;/span&gt; 
&lt;/div&gt; 
&lt;/li&gt; 
&lt;li class="dct-ee"
              style="display:none" mce_style="display:none" &gt; 
&lt;div  class="dct-ee"&gt; 
&lt;span class="dct-tt"&gt;I have abandoned hope of any reconciliation.&lt;/span&gt; &lt;span class="dct-tt"&gt;我已对任何和解都不再抱希望。&lt;/span&gt; 
&lt;/div&gt; 
&lt;/li&gt; 
&lt;/ul&gt; 
&lt;/li&gt; 
&lt;li class="dct-em"
               &gt; 
&lt;div  class="dct-em"&gt; 
&lt;span class="dct-tt"&gt;to feel an emotion so strongly that you can feel nothing else&lt;/span&gt; &lt;span class="dct-tt"&gt;陷入，沉湎于（某种情感）
&lt;span class="dct-tlb" title="Complement"&gt;~ yourself to sth&lt;/span&gt; 
&lt;span class="dct-tlb" title="Register"&gt;literary&lt;/span&gt; 
&lt;span class="dct-tlb" title="Grammar"&gt;VN&lt;/span&gt;&lt;/span&gt; 
&lt;/div&gt; 
&lt;ul&gt; 
&lt;li class="dct-ee"
              style="display:none" mce_style="display:none" &gt; 
&lt;div  class="dct-ee"&gt; 
&lt;span class="dct-tt"&gt;He abandoned himself to despair.&lt;/span&gt; &lt;span class="dct-tt"&gt;他陷入绝望。&lt;/span&gt; 
&lt;/div&gt; 
&lt;/li&gt; 
&lt;/ul&gt; 
&lt;/li&gt; 
&lt;/ul&gt; 
&lt;/li&gt; 
&lt;li class="dct-ec"
               &gt; 
&lt;div  class="dct-ec"&gt; 
&lt;span class="dct-elb" title="Part-of-Speech"&gt;noun&lt;/span&gt; 
&lt;/div&gt; 
&lt;ul&gt; 
&lt;li class="dct-em"
               &gt; 
&lt;div  class="dct-em"&gt; 
&lt;span class="dct-tt"&gt;an uncontrolled way of behaving that shows that somebody does not care what other people think&lt;/span&gt; &lt;span class="dct-tt"&gt;放任；放纵
&lt;span class="dct-tlb" title="Grammar"&gt;uncountable&lt;/span&gt; 
&lt;span class="dct-tlb" title="Register"&gt;written&lt;/span&gt;&lt;/span&gt; 
&lt;/div&gt; 
&lt;ul&gt; 
&lt;li class="dct-ee"
              style="display:none" mce_style="display:none" &gt; 
&lt;div  class="dct-ee"&gt; 
&lt;span class="dct-tt"&gt;He signed cheques with careless abandon.&lt;/span&gt; &lt;span class="dct-tt"&gt;他无所顾忌地乱开支票。&lt;/span&gt; 
&lt;/div&gt; 
&lt;/li&gt; 
&lt;/ul&gt; 
&lt;ul&gt; 
&lt;li class="dct-er"
               &gt; 
&lt;div  class="dct-er"&gt; 
&lt;span class="dct-elb" title="Word"&gt;See also:&lt;/span&gt; 
&lt;/div&gt; 
&lt;div  class="dct-er"&gt; 
&lt;span class="dct-tt"&gt; 
&lt;a href="/dictionary?hl=en&amp;q=with+gay+abandon&amp;sl=en&amp;tl=zh-CN&amp;oi=dict_lk" mce_href="dictionary?hl=en&amp;q=with+gay+abandon&amp;sl=en&amp;tl=zh-CN&amp;oi=dict_lk"&gt;with gay abandon&lt;/a&gt;&lt;/span&gt; 
&lt;/div&gt; 
&lt;/li&gt; 
&lt;/ul&gt; 
&lt;/li&gt; 
&lt;/ul&gt; 
&lt;/li&gt; 
&lt;/ul&gt; 
&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;English dictionary&lt;/h3&gt; 
&lt;ul class="dct-e2"  &gt; 
&lt;li class="dct-eh"
             &gt; 
&lt;div  class="dct-eh"&gt; 
&lt;span class="dct-tt"&gt;a&middot;ban&middot;don&lt;/span&gt; 
&lt;/div&gt; 
&lt;ul&gt; 
&lt;li class="dct-em"
               &gt; 
&lt;div  class="dct-em"&gt; 
&lt;span class="dct-tt"&gt;Complete lack of inhibition or restraint&lt;/span&gt; 
&lt;/div&gt; 
&lt;/li&gt; 
&lt;/ul&gt; 
&lt;/li&gt; 
&lt;/ul&gt; 
&lt;div class="mr-wds"&gt; 
&lt;a href="/dictionary?hl=en&amp;q=abandon&amp;sl=en&amp;tl=en&amp;oi=dict_mo" mce_href="dictionary?hl=en&amp;q=abandon&amp;sl=en&amp;tl=en&amp;oi=dict_mo"&gt; 
More English dictionary results &raquo;&lt;/a&gt; 
&lt;/div&gt; 
&lt;h3&gt;Related phrases&lt;/h3&gt; 
&lt;ul class="rlt-snt"&gt; 
&lt;li&gt; 
&lt;div&gt; 
&lt;b&gt;&lt;a href=" 
  /dictionary?q=abandon+oneself+to&amp;hl=en&amp;sl=en&amp;tl=zh-CN&amp;oi=dict_re
" mce_href=" 
  /dictionary?q=abandon+oneself+to&amp;hl=en&amp;sl=en&amp;tl=zh-CN&amp;oi=dict_re
"&gt;abandon oneself to&lt;/a&gt;&lt;/b&gt; 
&lt;/div&gt; 
沉溺于
&lt;/li&gt; 
&lt;li&gt; 
&lt;div&gt; 
&lt;b&gt;&lt;a href=" 
  /dictionary?q=with+gay+abandon&amp;hl=en&amp;sl=en&amp;tl=zh-CN&amp;oi=dict_re
" mce_href=" 
  /dictionary?q=with+gay+abandon&amp;hl=en&amp;sl=en&amp;tl=zh-CN&amp;oi=dict_re
"&gt;with gay abandon&lt;/a&gt;&lt;/b&gt; 
&lt;/div&gt; 
不考虑后果；轻率
&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;Related languages&lt;/h3&gt; 
&lt;ul&gt; 
&lt;li&gt; 
&lt;strong&gt;abandon&lt;/strong&gt; is also a word in:
&lt;a href="/dictionary?q=abandon&amp;hl=en&amp;sl=fr&amp;tl=en
" mce_href="dictionary?q=abandon&amp;hl=en&amp;sl=fr&amp;tl=en
"&gt;fran&ccedil;ais&lt;/a&gt; 
&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;Synonyms&lt;/h3&gt; 
&lt;ul&gt; 
&lt;li&gt; 
&lt;span class="dct-elb" title="Part-of-speech"&gt;verb&lt;/span&gt;:&lt;span class="dct-tt"&gt; 
&lt;a href="/dictionary?hl=en&amp;q=leave&amp;sl=en&amp;tl=zh-CN&amp;oi=dict_lk" mce_href="dictionary?hl=en&amp;q=leave&amp;sl=en&amp;tl=zh-CN&amp;oi=dict_lk"&gt;leave&lt;/a&gt;&lt;/span&gt;,&lt;span class="dct-tt"&gt; 
&lt;a href="/dictionary?hl=en&amp;q=relinquish&amp;sl=en&amp;tl=zh-CN&amp;oi=dict_lk" mce_href="dictionary?hl=en&amp;q=relinquish&amp;sl=en&amp;tl=zh-CN&amp;oi=dict_lk"&gt;relinquish&lt;/a&gt;&lt;/span&gt;,&lt;span class="dct-tt"&gt; 
&lt;a href="/dictionary?hl=en&amp;q=forsake&amp;sl=en&amp;tl=zh-CN&amp;oi=dict_lk" mce_href="dictionary?hl=en&amp;q=forsake&amp;sl=en&amp;tl=zh-CN&amp;oi=dict_lk"&gt;forsake&lt;/a&gt;&lt;/span&gt;,&lt;span class="dct-tt"&gt; 
&lt;a href="/dictionary?hl=en&amp;q=quit&amp;sl=en&amp;tl=zh-CN&amp;oi=dict_lk" mce_href="dictionary?hl=en&amp;q=quit&amp;sl=en&amp;tl=zh-CN&amp;oi=dict_lk"&gt;quit&lt;/a&gt;&lt;/span&gt;,&lt;span class="dct-tt"&gt; 
&lt;a href="/dictionary?hl=en&amp;q=give+up&amp;sl=en&amp;tl=zh-CN&amp;oi=dict_lk" mce_href="dictionary?hl=en&amp;q=give+up&amp;sl=en&amp;tl=zh-CN&amp;oi=dict_lk"&gt;give up&lt;/a&gt;&lt;/span&gt;,&lt;span class="dct-tt"&gt; 
&lt;a href="/dictionary?hl=en&amp;q=desert&amp;sl=en&amp;tl=zh-CN&amp;oi=dict_lk" mce_href="dictionary?hl=en&amp;q=desert&amp;sl=en&amp;tl=zh-CN&amp;oi=dict_lk"&gt;desert&lt;/a&gt;&lt;/span&gt;,&lt;span class="dct-tt"&gt; 
&lt;a href="/dictionary?hl=en&amp;q=renounce&amp;sl=en&amp;tl=zh-CN&amp;oi=dict_lk" mce_href="dictionary?hl=en&amp;q=renounce&amp;sl=en&amp;tl=zh-CN&amp;oi=dict_lk"&gt;renounce&lt;/a&gt;&lt;/span&gt;,&lt;span class="dct-tt"&gt; 
&lt;a href="/dictionary?hl=en&amp;q=drop&amp;sl=en&amp;tl=zh-CN&amp;oi=dict_lk" mce_href="dictionary?hl=en&amp;q=drop&amp;sl=en&amp;tl=zh-CN&amp;oi=dict_lk"&gt;drop&lt;/a&gt;&lt;/span&gt;,&lt;span class="dct-tt"&gt; 
&lt;a href="/dictionary?hl=en&amp;q=vacate&amp;sl=en&amp;tl=zh-CN&amp;oi=dict_lk" mce_href="dictionary?hl=en&amp;q=vacate&amp;sl=en&amp;tl=zh-CN&amp;oi=dict_lk"&gt;vacate&lt;/a&gt;&lt;/span&gt; 
&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;Web translations&lt;/h3&gt; 
&lt;div&gt; 
&lt;h2 class="wd"&gt;abandon&lt;/h2&gt; 
&lt;div class="wbtr_cnt"&gt; 
&lt;ol&gt; 
&lt;li&gt; 
&lt;span class="wbtr_mn"&gt;放弃&lt;/span&gt; 
&lt;span class="wbtr_snp"&gt;&lt;b&gt;abandon放弃&lt;/b&gt;离弃遗弃They were accused of abandoning their own principles &lt;/span&gt; 
&lt;span class="wbtr_url"&gt; 
&lt;a href="http://www.google.com/url?q=http://i.eol.cn/gchat.php%3Fid%3D5402&amp;source=dictionary&amp;type=we&amp;usg=AFQjCNFpn25cb8sXwZ7B4vxhy9Rzg2Q33Q" mce_href="http://www.google.com/url?q=http://i.eol.cn/gchat.php%3Fid%3D5402&amp;source=dictionary&amp;type=we&amp;usg=AFQjCNFpn25cb8sXwZ7B4vxhy9Rzg2Q33Q" target="_blank"&gt;i.eol.cn&lt;/a&gt; 
&lt;/span&gt; -
&lt;span class="wbtr_rs"&gt; 
&lt;a href="http://www.google.com/search?hl=en&amp;q=%22abandon%22+%22%E6%94%BE%E5%BC%83%22&amp;ie=UTF-8&amp;oi=dict_we" mce_href="http://www.google.com/search?hl=en&amp;q=%22abandon%22+%22%E6%94%BE%E5%BC%83%22&amp;ie=UTF-8&amp;oi=dict_we" target="_blank"&gt; 
Related search
&lt;/a&gt; 
&lt;/span&gt; 
&lt;/li&gt; 
&lt;li&gt; 
&lt;span class="wbtr_mn"&gt;抛弃&lt;/span&gt; 
&lt;span class="wbtr_snp"&gt;&lt;b&gt;抛弃&lt;/b&gt;放弃 &lt;b&gt;abandon&lt;/b&gt; 阿巴诺喹 Abanoquil 减轻减少消除 abate. 在线英语学习. 阿贝氏&lt;/span&gt; 
&lt;span class="wbtr_url"&gt; 
&lt;a href="http://www.google.com/url?q=http://www.scientrans.com/vocabulary/pages/20080202134324_34_65_1.html&amp;source=dictionary&amp;type=we&amp;usg=AFQjCNHP7exeD0Iw8ck0Ps1yqu1yyu52SQ" mce_href="http://www.google.com/url?q=http://www.scientrans.com/vocabulary/pages/20080202134324_34_65_1.html&amp;source=dictionary&amp;type=we&amp;usg=AFQjCNHP7exeD0Iw8ck0Ps1yqu1yyu52SQ" target="_blank"&gt;www.scientrans.com&lt;/a&gt; 
&lt;/span&gt; -
&lt;span class="wbtr_rs"&gt; 
&lt;a href="http://www.google.com/search?hl=en&amp;q=%22abandon%22+%22%E6%8A%9B%E5%BC%83%22&amp;ie=UTF-8&amp;oi=dict_we" mce_href="http://www.google.com/search?hl=en&amp;q=%22abandon%22+%22%E6%8A%9B%E5%BC%83%22&amp;ie=UTF-8&amp;oi=dict_we" target="_blank"&gt; 
Related search
&lt;/a&gt; 
&lt;/span&gt; 
&lt;/li&gt; 
&lt;li&gt; 
&lt;span class="wbtr_mn"&gt;遗弃&lt;/span&gt; 
&lt;span class="wbtr_snp"&gt;&lt;b&gt;abandon&lt;/b&gt;放弃离弃&lt;b&gt;遗弃&lt;/b&gt;They were accused of abandoning their own principles &lt;/span&gt; 
&lt;span class="wbtr_url"&gt; 
&lt;a href="http://www.google.com/url?q=http://i.eol.cn/gchat.php%3Fid%3D5402&amp;source=dictionary&amp;type=we&amp;usg=AFQjCNFpn25cb8sXwZ7B4vxhy9Rzg2Q33Q" mce_href="http://www.google.com/url?q=http://i.eol.cn/gchat.php%3Fid%3D5402&amp;source=dictionary&amp;type=we&amp;usg=AFQjCNFpn25cb8sXwZ7B4vxhy9Rzg2Q33Q" target="_blank"&gt;i.eol.cn&lt;/a&gt; 
&lt;/span&gt; -
&lt;span class="wbtr_rs"&gt; 
&lt;a href="http://www.google.com/search?hl=en&amp;q=%22abandon%22+%22%E9%81%97%E5%BC%83%22&amp;ie=UTF-8&amp;oi=dict_we" mce_href="http://www.google.com/search?hl=en&amp;q=%22abandon%22+%22%E9%81%97%E5%BC%83%22&amp;ie=UTF-8&amp;oi=dict_we" target="_blank"&gt; 
Related search
&lt;/a&gt; 
&lt;/span&gt; 
&lt;/li&gt; 
&lt;li&gt; 
&lt;span class="wbtr_mn"&gt;舍弃&lt;/span&gt; 
&lt;span class="wbtr_snp"&gt;&lt;b&gt;舍弃 abandon&lt;/b&gt; 缩写地址呼号 abbreviated address calling 异常终止倾印 abend dump &lt;/span&gt; 
&lt;span class="wbtr_url"&gt; 
&lt;a href="http://www.google.com/url?q=http://www.scientrans.com/vocabulary/pages/20080317172247_106_65_1.html&amp;source=dictionary&amp;type=we&amp;usg=AFQjCNExbMe6li2ZJzqgDvGM23Qdt1smpw" mce_href="http://www.google.com/url?q=http://www.scientrans.com/vocabulary/pages/20080317172247_106_65_1.html&amp;source=dictionary&amp;type=we&amp;usg=AFQjCNExbMe6li2ZJzqgDvGM23Qdt1smpw" target="_blank"&gt;www.scientrans.com&lt;/a&gt; 
&lt;/span&gt; -
&lt;span class="wbtr_rs"&gt; 
&lt;a href="http://www.google.com/search?hl=en&amp;q=%22abandon%22+%22%E8%88%8D%E5%BC%83%22&amp;ie=UTF-8&amp;oi=dict_we" mce_href="http://www.google.com/search?hl=en&amp;q=%22abandon%22+%22%E8%88%8D%E5%BC%83%22&amp;ie=UTF-8&amp;oi=dict_we" target="_blank"&gt; 
Related search
&lt;/a&gt; 
&lt;/span&gt; 
&lt;/li&gt; 
&lt;li&gt; 
&lt;span class="wbtr_mn"&gt;丢弃&lt;/span&gt; 
&lt;span class="wbtr_snp"&gt;&lt;b&gt;abandon&lt;/b&gt; vt&lt;b&gt;丢弃&lt;/b&gt;放弃抛弃 ability n能力能耐本领 able a有能力的出色的 abnormal a不&lt;/span&gt; 
&lt;span class="wbtr_url"&gt; 
&lt;a href="http://www.google.com/url?q=http://www.51jnjj.cn/news_info.asp%3Fid%3D1602&amp;source=dictionary&amp;type=we&amp;usg=AFQjCNGk60J0xWH-ue-l_HZKfm3O1PNfgQ" mce_href="http://www.google.com/url?q=http://www.51jnjj.cn/news_info.asp%3Fid%3D1602&amp;source=dictionary&amp;type=we&amp;usg=AFQjCNGk60J0xWH-ue-l_HZKfm3O1PNfgQ" target="_blank"&gt;www.51jnjj.cn&lt;/a&gt; 
&lt;/span&gt; -
&lt;span class="wbtr_rs"&gt; 
&lt;a href="http://www.google.com/search?hl=en&amp;q=%22abandon%22+%22%E4%B8%A2%E5%BC%83%22&amp;ie=UTF-8&amp;oi=dict_we" mce_href="http://www.google.com/search?hl=en&amp;q=%22abandon%22+%22%E4%B8%A2%E5%BC%83%22&amp;ie=UTF-8&amp;oi=dict_we" target="_blank"&gt; 
Related search
&lt;/a&gt; 
&lt;/span&gt; 
&lt;/li&gt; 
&lt;/ol&gt; 
&lt;/div&gt; 
&lt;/div&gt; 
&lt;h3&gt;Usage examples&lt;/h3&gt; 
&lt;ul class="rlt-snt"&gt; 
&lt;li&gt;&lt;div&gt;"People died for this tournament, others were injured. We can't &lt;b&gt;abandon&lt;/b&gt; them and leave like cowards," Alaixys Romao told French sports agency L'Equipe. "If we stay here, it's for them. But also so as not to give satisfaction to the rebels....&lt;/div&gt;&lt;div&gt;&lt;span class="grey"&gt;Jan 10, 2010&lt;/span&gt;&nbsp;-&nbsp;&lt;span&gt; 
&lt;a class="lightblue" href="http://www.google.com/url?q=http://en.wikipedia.org/wiki/Alaixys_Romao&amp;source=dictionary&amp;usg=AFQjCNG0zCsZW1KyoHGeZnumG5E2-qMhSg" mce_href="http://www.google.com/url?q=http://en.wikipedia.org/wiki/Alaixys_Romao&amp;source=dictionary&amp;usg=AFQjCNG0zCsZW1KyoHGeZnumG5E2-qMhSg"&gt;Alaixys Romao&lt;/a&gt;&lt;/span&gt;&nbsp;-&nbsp;&lt;span&gt; 
&lt;a class="green" href="http://www.google.com/url?q=http://www.bbc.co.uk/blogs/piersedwards/2010/01/gun_attack_overshadows_africa.html&amp;source=dictionary&amp;usg=AFQjCNFXePJzwrZ-RG_9bgFB4QdVuCMbhg" mce_href="http://www.google.com/url?q=http://www.bbc.co.uk/blogs/piersedwards/2010/01/gun_attack_overshadows_africa.html&amp;source=dictionary&amp;usg=AFQjCNFXePJzwrZ-RG_9bgFB4QdVuCMbhg"&gt;BBC Sport (blog)&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;&lt;/li&gt; 
&lt;li&gt;&lt;div&gt;"The president would have us believe there are two choices: keep all of our troops in Iraq or &lt;b&gt;abandon&lt;/b&gt; these Iraqis," Obama said. "I reject this choice."&lt;/div&gt;&lt;div&gt;&lt;span class="grey"&gt;Sep 12, 2007&lt;/span&gt;&nbsp;-&nbsp;&lt;span&gt; 
&lt;a class="lightblue" href="http://www.google.com/url?q=http://en.wikipedia.org/wiki/Barack_Obama&amp;source=dictionary&amp;usg=AFQjCNHQ0yfPaaXFGqLKymRgcres0I2nuA" mce_href="http://www.google.com/url?q=http://en.wikipedia.org/wiki/Barack_Obama&amp;source=dictionary&amp;usg=AFQjCNHQ0yfPaaXFGqLKymRgcres0I2nuA"&gt;Barack Obama&lt;/a&gt;&lt;/span&gt;&nbsp;-&nbsp;&lt;span&gt; 
&lt;a class="green" href="http://www.google.com/url?q=http://www.forbes.com/feeds/ap/2007/09/12/ap4108235.html&amp;source=dictionary&amp;usg=AFQjCNE9DqEquDtHBRoJSv9cfvjUPrgevg" mce_href="http://www.google.com/url?q=http://www.forbes.com/feeds/ap/2007/09/12/ap4108235.html&amp;source=dictionary&amp;usg=AFQjCNE9DqEquDtHBRoJSv9cfvjUPrgevg"&gt;Forbes&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;&lt;/li&gt; 
&lt;li&gt;&lt;div&gt;"I am deeply disappointed that the governor has decided to &lt;b&gt;abandon&lt;/b&gt; the state and her constituents before her term has concluded," Murkowski said.&lt;/div&gt;&lt;div&gt;&lt;span class="grey"&gt;Jul 3, 2009&lt;/span&gt;&nbsp;-&nbsp;&lt;span&gt; 
&lt;a class="lightblue" href="http://www.google.com/url?q=http://en.wikipedia.org/wiki/Lisa_Murkowski&amp;source=dictionary&amp;usg=AFQjCNGfUU0pjzbEuDwnY81jySj6rKn9pA" mce_href="http://www.google.com/url?q=http://en.wikipedia.org/wiki/Lisa_Murkowski&amp;source=dictionary&amp;usg=AFQjCNGfUU0pjzbEuDwnY81jySj6rKn9pA"&gt;Lisa Murkowski&lt;/a&gt;&lt;/span&gt;&nbsp;-&nbsp;&lt;span&gt; 
&lt;a class="green" href="http://www.google.com/url?q=http://www.politico.com/blogs/bensmith/0709/L_Murkowski_Deeply_disappointed_Palin_has_decided_to_abandon_the_state_.html&amp;source=dictionary&amp;usg=AFQjCNGtnwsoPi3e6Y5XTizOkg87g-_AsQ" mce_href="http://www.google.com/url?q=http://www.politico.com/blogs/bensmith/0709/L_Murkowski_Deeply_disappointed_Palin_has_decided_to_abandon_the_state_.html&amp;source=dictionary&amp;usg=AFQjCNGtnwsoPi3e6Y5XTizOkg87g-_AsQ"&gt;Politico&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;&lt;/li&gt; 
&lt;/ul&gt; 
&lt;h3&gt;Web definitions&lt;/h3&gt; 
&lt;ul class="gls"&gt; 
&lt;li&gt; 
&lt;ul&gt; 
&lt;li&gt; 
forsake, leave behind; "We abandoned the old car in the empty parking lot" &lt;br&gt; 
&lt;/li&gt; 
&lt;div&gt; 
&lt;a href="http://www.google.com/url?q=http://wordnetweb.princeton.edu/perl/webwn%3Fs%3Dabandon&amp;source=dictionary&amp;type=de&amp;usg=AFQjCNHqLML70dHqzi04RiOEhnZ9Jvl71g" mce_href="http://www.google.com/url?q=http://wordnetweb.princeton.edu/perl/webwn%3Fs%3Dabandon&amp;source=dictionary&amp;type=de&amp;usg=AFQjCNHqLML70dHqzi04RiOEhnZ9Jvl71g"&gt; 
wordnetweb.princeton.edu/perl/webwn
&lt;/a&gt; 
&lt;/div&gt; 
&lt;/ul&gt; 
&lt;/li&gt; 
&lt;li&gt; 
&lt;ul&gt; 
&lt;li&gt; 
give up with the intent of never claiming again; "Abandon your life to God"; "She gave up her children to her ex-husband when she moved to Tahiti"; "We gave the drowning victim up for dead" &lt;br&gt; 
&lt;/li&gt; 
&lt;div&gt; 
&lt;a href="http://www.google.com/url?q=http://wordnetweb.princeton.edu/perl/webwn%3Fs%3Dabandon&amp;source=dictionary&amp;type=de&amp;usg=AFQjCNHqLML70dHqzi04RiOEhnZ9Jvl71g" mce_href="http://www.google.com/url?q=http://wordnetweb.princeton.edu/perl/webwn%3Fs%3Dabandon&amp;source=dictionary&amp;type=de&amp;usg=AFQjCNHqLML70dHqzi04RiOEhnZ9Jvl71g"&gt; 
wordnetweb.princeton.edu/perl/webwn
&lt;/a&gt; 
&lt;/div&gt; 
&lt;/ul&gt; 
&lt;/li&gt; 
&lt;li&gt; 
&lt;ul&gt; 
&lt;li&gt; 
vacate: leave behind empty; move out of; "You must vacate your office by tonight" &lt;br&gt; 
&lt;/li&gt; 
&lt;div&gt; 
&lt;a href="http://www.google.com/url?q=http://wordnetweb.princeton.edu/perl/webwn%3Fs%3Dabandon&amp;source=dictionary&amp;type=de&amp;usg=AFQjCNHqLML70dHqzi04RiOEhnZ9Jvl71g" mce_href="http://www.google.com/url?q=http://wordnetweb.princeton.edu/perl/webwn%3Fs%3Dabandon&amp;source=dictionary&amp;type=de&amp;usg=AFQjCNHqLML70dHqzi04RiOEhnZ9Jvl71g"&gt; 
wordnetweb.princeton.edu/perl/webwn
&lt;/a&gt; 
&lt;/div&gt; 
&lt;/ul&gt; 
&lt;/li&gt; 
&lt;/ul&gt; 
&lt;div class="mr-wds"&gt; 
&lt;a href="/dictionary?hl=en&amp;q=abandon&amp;sl=en&amp;tl=en" mce_href="dictionary?hl=en&amp;q=abandon&amp;sl=en&amp;tl=en"&gt; 
Show more Web definitions &raquo;&lt;/a&gt; 
&lt;/div&gt; 
&lt;/div&gt; 
&lt;/div&gt; 
&lt;div class="dct-rt-sct"&gt; 
&lt;div class="wl-hd"&gt; 
&lt;img src="/dictionary/image/starred.png" mce_src="dictionary/image/starred.png"&gt; 
&lt;a href="/dictionary/wordlist?hl=en" mce_href="dictionary/wordlist?hl=en"&gt;Starred words &raquo;&lt;/a&gt; 
&lt;/div&gt; 
&lt;div id="dict-hist" class="rt-sct-blk"&gt; 
&lt;h4&gt;Recent searches&lt;/h4&gt; 
&lt;div&gt; 
&lt;ul&gt; 
&lt;li&gt; 
&lt;a href="/dictionary?hl=en&amp;sl=en&amp;tl=en&amp;q=abeyance" mce_href="dictionary?hl=en&amp;sl=en&amp;tl=en&amp;q=abeyance"&gt;abeyance&lt;/a&gt; 
&lt;/li&gt; 
&lt;li&gt; 
&lt;a href="/dictionary?hl=en&amp;sl=en&amp;tl=zh-CN&amp;q=abeyance" mce_href="dictionary?hl=en&amp;sl=en&amp;tl=zh-CN&amp;q=abeyance"&gt;abeyance&lt;/a&gt; 
&lt;/li&gt; 
&lt;li&gt; 
&lt;a href="/dictionary?hl=en&amp;sl=en&amp;tl=zh-CN&amp;q=abandon" mce_href="dictionary?hl=en&amp;sl=en&amp;tl=zh-CN&amp;q=abandon"&gt;abandon&lt;/a&gt; 
&lt;/li&gt; 
&lt;li&gt; 
&lt;a href="/dictionary?hl=en&amp;sl=en&amp;tl=zh-CN&amp;q=abet" mce_href="dictionary?hl=en&amp;sl=en&amp;tl=zh-CN&amp;q=abet"&gt;abet&lt;/a&gt; 
&lt;/li&gt; 
&lt;li&gt; 
&lt;a href="/dictionary?hl=en&amp;sl=en&amp;tl=zh-CN&amp;q=Phonetic" mce_href="dictionary?hl=en&amp;sl=en&amp;tl=zh-CN&amp;q=Phonetic"&gt;Phonetic&lt;/a&gt; 
&lt;/li&gt; 
&lt;/ul&gt; 
&lt;div class="mrhist"&gt; 
&lt;a href="http://www.google.com/history/lookup?hl=en&amp;st=dict" mce_href="http://www.google.com/history/lookup?hl=en&amp;st=dict"&gt; 
All recent searches &raquo;&lt;/a&gt; 
&lt;/div&gt; 
&lt;/div&gt; 
&lt;/div&gt; 
&lt;/div&gt; 
&lt;br class="clear"&gt; 
&lt;/div&gt; 
&lt;div class="dscl-dct"&gt;&lt;p&gt; 
Results partly provided by &lt;a href="http://www.dreye.com.cn" mce_href="http://www.dreye.com.cn"&gt;Dr.eye&lt;/a&gt;.
&lt;/p&gt;&lt;/div&gt; 
&lt;div class="dscl-glb"&gt; 
The usage examples, images and web definitions on this page were selected automatically by a computer program. They do not necessarily reflect the views of Google Inc. or its employees.
&lt;/div&gt; 
&lt;center&gt; 
&lt;p/&gt; 
&lt;hr class="z"&gt; 
&lt;div class="" style="border-top: 1px solid rgb(204, 204, 240); padding: 15px 2px 2px;" mce_style="border-top: 1px solid #ccccf0; padding: 15px 2px 2px;"&gt; 
&lt;font size="-1"&gt; 
&lt;span &gt;&copy;2009 Google&lt;/span&gt; 
-
&lt;a href="http://www.google.com/webhp?hl=en" mce_href="http://www.google.com/webhp?hl=en"&gt;Google&nbsp;Home&lt;/a&gt; 
-
&lt;a href="http://www.google.com/intl/en/about.html" mce_href="http://www.google.com/intl/en/about.html"&gt;All About Google&lt;/a&gt; 
&lt;/font&gt; 
&lt;/div&gt; 
&lt;/center&gt; 
&lt;/div&gt; 
&lt;/body&gt; 
&lt;mce:script type="text/javascript"&gt;&lt;!--
 
(function() {
})();
if (!window.google) { window.google = {}; }
(function(){if(window.jstiming){window.jstiming.a={};window.jstiming.c=1;var j=function(a,c,e){var b=a.t[c],g=a.t.start;if(b&amp;&amp;(g||e)){b=a.t[c][0];g=e!=undefined?e:g[0];return b-g}},n=function(a,c,e){var b="";if(window.jstiming.pt){b+="&amp;srt="+window.jstiming.pt;delete window.jstiming.pt}try{if(window.external&amp;&amp;window.external.tran)b+="&amp;tran="+window.external.tran;else if(window.gtbExternal&amp;&amp;window.gtbExternal.tran)b+="&amp;tran="+window.gtbExternal.tran();else if(window.chrome&amp;&amp;window.chrome.csi)b+="&amp;tran="+window.chrome.csi().tran}catch(g){}var d=
window.chrome;if(d)if(d=d.loadTimes){if(d().wasFetchedViaSpdy)b+="&amp;p=s";if(d().wasNpnNegotiated)b+="&amp;npn=1";if(d().wasAlternateProtocolAvailable)b+="&amp;apa=1"}if(a.b)b+="&amp;"+a.b;d=a.t;var m=d.start,k=[],h=[];for(var f in d)if(f!="start")if(f.indexOf("_")!=0){var i=d[f][1];if(i)d[i]&amp;&amp;h.push(f+"."+j(a,f,d[i][0]));else m&amp;&amp;k.push(f+"."+j(a,f))}delete d.start;if(c)for(var l in c)b+="&amp;"+l+"="+c[l];return a=[e?e:"http://csi.gstatic.com/csi","?v=3","&amp;s="+(window.jstiming.sn||"dictionary")+"&amp;action=",a.name,
h.length?"&amp;it="+h.join(","):"","",b,"&amp;rt=",k.join(",")].join("")};window.jstiming.report=function(a,c,e){a=n(a,c,e);if(!a)return"";c=new Image;var b=window.jstiming.c++;window.jstiming.a[b]=c;c.onload=c.onerror=function(){delete window.jstiming.a[b]};c.src=a;c=null;return a}};})();
(function(){var b=true,g=null,h=h||{};h.global=this;h.v=b;h.w="en";h.d=g;h.Z=function(a){h.g(a)};h.g=function(a,c,d){a=a.split(".");d=d||h.global;!(a[0]in d)&amp;&amp;d.execScript&amp;&amp;d.execScript("var "+a[0]);for(var e;a.length&amp;&amp;(e=a.shift());)if(!a.length&amp;&amp;h.p(c))d[e]=c;else d=d[e]?d[e]:d[e]={}};h.K=function(a,c){for(var d=a.split("."),e=c||h.global,f;f=d.shift();)if(e[f])e=e[f];else return g;return e};h.M=function(a,c){var d=c||h.global;for(var e in a)d[e]=a[e]};h.A=function(){};h.da=false;h.aa=function(){};h.D="";
h.X=function(){};h.N=function(){return arguments[0]};h.z=function(){throw Error("unimplemented abstract method");};h.B=function(a){a.I=function(){return a.o||(a.o=new a)}};
h.a=function(a){var c=typeof a;if(c=="object")if(a){if(a instanceof Array||!(a instanceof Object)&amp;&amp;Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&amp;&amp;typeof a.splice!="undefined"&amp;&amp;typeof a.propertyIsEnumerable!="undefined"&amp;&amp;!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&amp;&amp;(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&amp;&amp;typeof a.propertyIsEnumerable!="undefined"&amp;&amp;!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(c=="function"&amp;&amp;typeof a.call=="undefined")return"object";return c};h.s=function(a,c){if(c in a)for(var d in a)if(d==c&amp;&amp;Object.prototype.hasOwnProperty.call(a,c))return b;return false};h.Y=function(a,c){return a instanceof Object?Object.prototype.propertyIsEnumerable.call(a,c):h.s(a,c)};h.p=function(a){return a!==undefined};h.U=function(a){return a===g};h.S=function(a){return a!=g};h.O=function(a){return h.a(a)=="array"};
h.P=function(a){var c=h.a(a);return c=="array"||c=="object"&amp;&amp;typeof a.length=="number"};h.R=function(a){return h.q(a)&amp;&amp;typeof a.getFullYear=="function"};h.W=function(a){return typeof a=="string"};h.Q=function(a){return typeof a=="boolean"};h.V=function(a){return typeof a=="number"};h.T=function(a){return h.a(a)=="function"};h.q=function(a){a=h.a(a);return a=="object"||a=="array"||a=="function"};h.n=function(a){return a[h.b]||(a[h.b]=++h.u)};
h.t=function(a){"removeAttribute"in a&amp;&amp;a.removeAttribute(h.b);try{delete a[h.b]}catch(c){}};h.b="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36);h.u=0;h.H=h.n;h.$=h.t;h.l=function(a){var c=h.a(a);if(c=="object"||c=="array"){if(a.k)return a.k();c=c=="array"?[]:{};for(var d in a)c[d]=h.l(a[d]);return c}return a};
h.c=function(a,c){var d=c||h.global;if(arguments.length&gt;2){var e=Array.prototype.slice.call(arguments,2);return function(){var f=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(f,e);return a.apply(d,f)}}else return function(){return a.apply(d,arguments)}};h.r=function(a){var c=Array.prototype.slice.call(arguments,1);return function(){var d=Array.prototype.slice.call(arguments);d.unshift.apply(d,c);return a.apply(this,d)}};h.i=function(a,c){for(var d in c)a[d]=c[d]};
h.now=Date.now||function(){return+new Date};
h.L=function(a){if(h.global.execScript)h.global.execScript(a,"JavaScript");else if(h.global.eval){if(h.d==g){h.global.eval("var _et_ = 1;");if(typeof h.global._et_!="undefined"){delete h.global._et_;h.d=b}else h.d=false}if(h.d)h.global.eval(a);else{var c=h.global.document,d=c.createElement("script");d.type="text/javascript";d.defer=false;d.appendChild(c.createTextNode(a));c.body.appendChild(d);c.body.removeChild(d)}}else throw Error("goog.globalEval not available");};h.ca=b;
h.G=function(a,c){var d=a+(c?"-"+c:"");return h.f&amp;&amp;d in h.f?h.f[d]:d};h.ba=function(a){h.f=a};h.J=function(a,c){var d=c||{};for(var e in d){var f=(""+d[e]).replace(//$/g,"$$");a=a.replace(RegExp("//{//$"+e+"//}","gi"),f)}return a};h.m=function(a,c,d){h.g(a,c,d)};h.F=function(a,c,d){a[c]=d};h.h=function(a,c){function d(){}d.prototype=c.prototype;a.e=c.prototype;a.prototype=new d;a.prototype.constructor=a};
h.C=function(a,c){var d=arguments.callee.caller;if(d.e)return d.e.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var e=Array.prototype.slice.call(arguments,2),f=false,i=a.constructor;i;i=i.e&amp;&amp;i.e.constructor)if(i.prototype[c]===d)f=b;else if(f)return i.prototype[c].apply(a,e);if(a[c]===d)return a.constructor.prototype[c].apply(a,e);else throw Error("goog.base called from a method of one name to a method of a different name");};h.scope=function(a){a.call(h.global)};h.j=b;
if(h.j){Function.prototype.c=function(a){if(arguments.length&gt;1){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return h.c.apply(g,c)}else return h.c(this,a)};Function.prototype.r=function(){var a=Array.prototype.slice.call(arguments);a.unshift(this,g);return h.c.apply(g,a)};Function.prototype.h=function(a){h.h(this,a)};Function.prototype.i=function(a){h.i(this.prototype,a)}};function j(){var a=window.jstiming.load;a.tick("ol");window.jstiming.report(a)}h.m("tickBodyLoadAndReport",j);})();
var installFunctions = function() {
window.google.ac.install(document.f,document.f.q,"d",true,
"close",true,"","","");
onUpdateLangpair(document.f['dct-slc']);
};
var hideShowEl = document.getElementById('dct-clk-a');
if (hideShowEl) {
hideShowEl.href = 'javascript:google.toggleDictionaryExample()';
}
function onUpdateLangpair(sel) {
langpair = sel.options[sel.selectedIndex].value;
window.google.ac.update(langpair);
};
window.setTimeout(installFunctions, 10);
// --&gt;&lt;/mce:script&gt; 
&lt;/html&gt; </pre>
<p> </span></span></p>
<p>注意到有一行信息：</p>
<p>
<pre>&lt;meta name="description" content="abandon : （不顾责任、义务等）离弃，遗弃，抛弃, 不得已而放弃；舍弃, 停止（支持或帮助）；放弃（信念）, 中止；放弃；不再有, 陷入，沉湎于（某种情感）, 放任；放纵 - Google's free online dictionary service."&gt; </pre>
<p>&nbsp;</p>
<p>&nbsp;包含单词abandon的中文释义。于是可以利用curl获取到Google Dictionary的翻译网页，然后直接在获取的网页中查找上面那一行信息。</p>
<p>&nbsp;</p>
<p><span style="font-family:monospace;font-size:x-small;"><span style="white-space:pre-wrap;">
<pre>#!/bin/bash
# Command line look up using Google's define feature - command line dictionary
# gd -i &lt;input_file&gt; -o &lt;output_file&gt; [-w &lt;word&gt;]
function query
{
	typeset wd=$1
	typeset TMPFILE=tmp.$wd
	typeset i=0
	while ((i&lt;5))
	do
		curl -s -A 'Mozilla/4.0' "http://www.google.com/dictionary?langpair=zh-CN|en&amp;hl=en&amp;aq=f&amp;q=$wd" &gt;$TMPFILE 2&gt;/dev/null
		if [ -s $TMPFILE ]; then
			break
		elif ((i=4)); then
			echo $wd &gt;&gt; failed.gd.$input
		fi
		((i=i+1))
		sleep 1
	done
	perl -i -p -e "print STDOUT /$1,/"/r/n/" if (m/($wd.*:.*)- Google.*/);" $TMPFILE
	rm -f $TMPFILE
}
##############################################
#	MAIN LINE START HERE
##############################################
typeset input=
typeset output=
typeset word=
typeset -i flag=0
while getopts 'i:o:w:' OPT
do
        case $OPT in
        i)	input=${OPTARG};;
        o)	output=${OPTARG};;
        w)	word=${OPTARG};flag=1;;
        *)      echo -u2 "ERROR: Invalid argument [$OPT]"
                ;;
        esac
done
shift `expr $OPTIND - 1`
if ((flag==0)); then
	perl -i.bk -p -e "s/^(/w+).*[/[//].*[/]//]//$1/;" $input # Eliminate the phonetic symbol
	WORDS=$(cat $input)
	for word in $WORDS
	do
		word_exp=$(query $word)
		if [ ${#word_exp} != 0 ]; then
			echo $word_exp &gt;&gt; $output
		else
			echo "$word:" &gt;&gt; $output
		fi
	done
else
	word_exp=$(query $word)
	if [ ${#word_exp} != 0 ]; then
		echo $word_exp
	else
		echo "$word:"
	fi
fi
</pre>
<p> </span></span></p>
<p>&nbsp;</p>
<p>2011-01-03 Update:</p>
<p>奉上完整版的程序：</p>
<p>
<pre>#!/bin/bash
# Command line look up using Google's define feature - command line dictionary
# od [-b] [-g]-i &lt;input_file&gt; -o &lt;output_file&gt; [-w &lt;word&gt;]
# gd - Query words using Google Dictionary
function gd
{
	typeset wd=$1
	typeset TMPFILE=tmp.gd.$wd
	typeset -i i=0
	while ((i&lt;5))
	do
		curl -s -A 'Mozilla/4.0' "http://www.google.com/dictionary?langpair=zh-CN|en&amp;hl=en&amp;aq=f&amp;q=$wd" &gt;$TMPFILE 2&gt;/dev/null
		if [ -s $TMPFILE ]; then
			break
		elif ((i=4)); then
			echo $wd &gt;&gt; failed.gd.$input
		fi
		((i=i+1))
		sleep 1
	done
	perl -i -p -e "print STDOUT /$1,/"/r/n/" if (m/($wd.*:.*)- Google.*/);" $TMPFILE
	rm -f $TMPFILE
}
# bd - Query words using Baidu Dictionary
#
function bd
{
	typeset wd=$1
	typeset TMPFILE=tmp.bd.$wd
	typeset -i i=0
	while ((i&lt;5))
	do
		curl -s -A 'Mozilla/4.0' "http://dict.baidu.com/s?tn=dict&amp;wd="$word | html2text &gt; $TMPFILE 2&gt;/dev/null
		if [ -s $TMPFILE ]; then
			break
		elif ((i=4)); then
			echo $wd &gt;&gt; failed.bd.$input
		fi
		((i=i+1))
		sleep 1
	done
	./censor.pl $TMPFILE $wd
	rm -f $TMPFILE
}
##############################################
#	MAIN LINE START HERE
##############################################
typeset input=
typeset output=
typeset word=
typeset dict=z"gd bd"
typeset -i word_flag=0
while getopts 'agbi:o:w:' OPT
do
        case $OPT in
        g)	dict=gd;;
        b)	dict=bd;;
        i)	input=${OPTARG};;
        o)	output=${OPTARG};;
        w)	word=${OPTARG};word_flag=1;;
        *)      echo -u2 "ERROR: Invalid argument [$OPT]"
                ;;
        esac
done
shift `expr $OPTIND - 1`
if ((word_flag==0)); then
#	perl -i.bk -p -e "s/^(/w+).*[/[//].*[/]//]//$1/;" $input # Eliminate the phonetic symbols
	WORDS=$(cat $input)
	for word in $WORDS
	do
		case $dict in
		*bd*)	echo "------------------ $word -------------------" &gt;&gt; $output;;
		esac
		
		for d in $dict
		do
			word_exp=$($d $word)
			if [ ${#word_exp} != 0 ]; then
				echo $word_exp &gt;&gt; $output
			else
				echo "$word:" &gt;&gt; $output
			fi
		done
	done
else
	for d in $dict
	do
		$d $word
	done
fi</pre>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>
<pre>#!/usr/bin/perl -w
############### censor.pl #################
# Handle the explanations got from online dictionary.
# Inputs:
#	ARGV[0] -- temparory file containning the explanations
#	ARGV[1] -- keyword
############################################
use strict;
use Encode;
my $syntax = Encode::decode('utf8', '语法标注解释 ');
my $internet = Encode::decode('utf8', '以下结果来自互联网网络释义');
my $yingyin = Encode::decode('utf8', '英音');
my $meiyin = Encode::decode('utf8', '美音');
my $baidu = Encode::decode('utf8', '此内容系百度根据您的指令自动搜索的结果');
my $write_flag=0;
open(EXP,$ARGV[0]);
while (my $nextline=&lt;EXP&gt;) {
	chomp($nextline);
	$nextline = Encode::decode('utf8', $nextline);
	if ($nextline =~ m/.*$syntax.*/) {
		$write_flag=1;
		$nextline =~ s/$syntax//;
	} elsif ($nextline =~ m/.*$internet.*/ || $nextline =~ m/.*$baidu.*/) {
		$write_flag=0;
	}
			
	if ($write_flag eq 1) {
		if ($nextline !~ m/.*/*/*/*/*.*/) { # Excluse lines containning ****
			# Add a space between the keyword and 英音/美音
			$nextline =~ s/$ARGV[1]([$yingyin|$meiyin])/$ARGV[1] $1/; 
			print encode("utf8",$nextline),"/r/n"; # In perl, /r/n is needed to add a new line
		}
	}
}
close(EXP);</pre>
<p>&nbsp;</p>

            
          </p>
        </div>
      
        <div class="post py3">
          <p class="post-meta">Dec 31, 2010</p>
          <a href="/unix/linux/2010/12/31/linux-shared-memory/" class="post-link"><h3 class="h2 post-title">Linux Shared Memory的查看与设置</h3></a>
          <p class="post-summary">
            
              <p>&nbsp;</p>
<h1 class="entry-title">1.&nbsp;<a href="http://www.cyberciti.biz/faq/linux-check-memory-usage/">Linux Check Memory Usage</a></h1>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h1 id="nointelliTXT" class="Heading1a">2.&nbsp;<a href="http://www.ehow.com/how_6849046_check-shared-memory-linux.html">How to Check Shared Memory on Linux</a></h1>
<p>&nbsp;</p>
<h1>3.&nbsp;<a href="http://www.unidata.ucar.edu/software/mcidas/2004/users_guide/workstation.html">Shared Memory Configuration</a></h1>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span>共享内存就是进程之间可以共享的一段内存，通过一个唯一的KEY值绑定<br />shmget()创建或获取<br />shmat()连接<br />shmdt()断连</p>
<p>共享内存的访问涉及同步措施，通常与信号灯一起使用<br />用ipcs -m命令可以查看系统中已有的共享内存段</span></p>
<p><span><span>/proc/sys/kernel/shm开头的几个文件是共享内存的参数</span></span></p>
<p><span><br />共享内存的访问涉及同步措施，通常与信号灯一起使用<br />用ipcs -m命令可以查看系统中已有的共享内存段</span></p>
<p><span><span>ipcs&nbsp;</span></span>-m 看Shared Memory 共享内存</p>
<p><span><span>ipcs -q 看Message Queues 消息队列<br />ipcs -s 看Semaphore Arrays 信号量</span></span></p>
<p>&nbsp;</p>
<p><span><span><span>使用命令：ipcs -al</p>
<p>------ Shared Memory Limits --------<br />max number of segments = 4096<br />max seg size (kbytes) = 4091826<br />max total shared memory (pages) = 2097152<br />min seg size (bytes) = 1<br /></span></span></span></p>
<p><span><br />
</span></p>
<div class="headline_area">
<h1 class="entry-title">1.&nbsp;<a href="http://www.cyberciti.biz/faq/linux-check-memory-usage/">Linux Check Memory Usage</a></h1>
<p class="headline_meta">by&nbsp;<span class="author vcard fn">VIVEK GITE</span>&nbsp;on&nbsp;<abbr class="published" title="2006-04-06">APRIL 6, 2006</abbr>&nbsp;&middot;&nbsp;<span><a rel="nofollow" href="http://www.cyberciti.biz/faq/linux-check-memory-usage/#comments">36 COMMENTS</a></span></p>
</div>
<div class="format_text entry-content">
<p><span class="drop_cap">H</span>ow do I check used and free RAM memory usage under Linux operating systems using command line and GUI tools?</p>
<p>Linux comes with different set of commands to check memory usage. The free command displays  the  total amount of free and used physical and swap memory in the system, as well as the buffers used by the kernel. The  vmstat command reports information about processes, memory, paging, block IO, traps, and cpu activity. Finally, you can use the top command which provides a dynamic real-time view of a running system.  It can display system summary information as well as a list of tasks currently being managed by the Linux kernel.</p>
<h2>free command </h2>
<p>Display free memory size in MB:</p>
<p><code>$ free -m</code>Output:</p>
<pre>             total       used       free     shared    buffers     cached
Mem:           750        625        125          0         35        335
-/+ buffers/cache:        254        496
Swap:          956          0        956</pre>
<p>Displays a line containing the totals memory in MB:<br />
<code>$ free -t -m</code><br /> <br />
Output:</p>
<pre>       total       used       free     shared    buffers     cached
Mem:           750        625        125          0         35        335
-/+ buffers/cache:        253        496
Swap:          956          0        956
Total:        1707        625       1082</pre>
<h2>vmstat command</h2>
<p>Type vmstat command at shell prompt:</p>
<p><code>$ vmstat</code><br /> <br />
Output:</p>
<pre>procs -----------memory---------- ---swap-- -----io---- --system-- ----cpu----
r  b   swpd   free   buff  cache   si   so    bi    bo   in    cs us sy id wa
1  0      0 131620  35432 341496    0    0    42    82  737  1364 15  3 81  1</pre>
<h2>top command</h2>
<p>Type top command at the shell prompt:<br />
<code>$ top</code><br /> <br />
Sample outputs:</p>
<div id="attachment_8468" class="wp-caption alignnone" style="width:599px;">
<a rel="attachment wp-att-8468" href="http://www.cyberciti.biz/faq/linux-check-memory-usage/linux-memory-usage-monitor-top-command/"><img class="size-full wp-image-8468" title="Find: Linux process memory usage command" src="http://files.cyberciti.biz/uploads/faq/2006/04/Linux-memory-usage-monitor-top-command.png" alt="Fig.01: top command displaying used memory" width="599" height="397" /></a></p>
<p class="wp-caption-text">Fig.01: top command displaying used memory</p>
</div>
<p> <br />
To exit from top command type q key. Read man page of free, vmstat, top command for more information.</p>
<p>&nbsp;</p>
<h2>GNOME Desktop: GUI Tool</h2>
<p>The Gnome System Monitor application enables you to display basic system information and monitor system processes, usage of system resources, and file systems. You can also use System Monitor to modify the behavior of your system. You can start System Monitor by visiting <span style="color:#996633;">System</span> menu &gt; Choose <span style="color:#996633;">Administration</span> &gt; <span style="color:#996633;">System Monitor</span> option. Or type the following command at the shell prompt:</p>
<pre class="bash">&nbsp;
gnome-system-monitor
&nbsp;</pre>
<p>Sample outputs:</p>
<div id="attachment_8471" class="wp-caption alignnone" style="width:599px;">
<a rel="attachment wp-att-8471" href="http://www.cyberciti.biz/faq/linux-check-memory-usage/screenshot-system-monitor/"><img class="size-full wp-image-8471" title="Linux See Memory Usage With GUI System Monitor Tool" src="http://files.cyberciti.biz/uploads/faq/2006/04/Screenshot-System-Monitor.png" alt="Fig.02: Linux See Memory Usage With GUI System Monitor Tool" width="599" height="468" /></a></p>
<p class="wp-caption-text">Fig.02: Linux See Memory Usage With GUI System Monitor Tool</p>
</div>
<p>&nbsp;</p>
<p>----------------------------------------------------------------------------------------</p>
<div class="intro FLC">
<h1 id="nointelliTXT" class="Heading1a">2. <a href="http://www.ehow.com/how_6849046_check-shared-memory-linux.html">How to Check Shared Memory on Linux</a></h1>
<div class="info">
<div class="byLine">
<div class="author"><cite><span>By</span>&nbsp;<a class="jsNoFollow" rel="http://www.ehow.com/members/ds_8351f73d-556e-44c4-8811-e5f67070c254.html" href="http://www.ehow.com/members/ds_8351f73d-556e-44c4-8811-e5f67070c254.html">Garrett Genet</a>,&nbsp;<span>eHow Contributor</span></cite></div>
<div class="dateUpdated"><span>updated: August 11, 2010</span></div>
</div>
<div class="Details">
<p id="intelliTxt">Shared memory is responsible for the smooth operation of your system; it acts as a space that multiple programs can access at once. This enables those programs to communicate in sync, while avoiding file redundancy. Shared memory can exist in the system's physical RAM or the swap file (which is virtual memory). In&nbsp;<a class="iAs" href="http://www.ehow.com/how_6849046_check-shared-memory-linux.html" target="_blank">Linux</a>&nbsp;operating systems, check the details of shared memory by typing in a few simple commands.</p>
</div>
</div>
</div>
<div class="article FLC">
<div class="sectionTitle FLC">
<div class="difficulty"><span>Difficulty:</span>&nbsp;Moderately Easy</div>
<h2 class="Heading1a Underline header"><span>Instructions</span></h2>
</div>
<ol id="intelliTxt">
<li id="jsArticleStep1">
<div class="stepNumber">1</div>
<p>Power on your&nbsp;<a class="iAs" href="http://www.ehow.com/how_6849046_check-shared-memory-linux.html" target="_blank">system</a>&nbsp;and log in.</p>
</li>
<li id="jsArticleStep2">
<div class="stepNumber">2</div>
<p>Open a "Terminal" window.</p>
</li>
<li id="jsArticleStep3">
<div class="stepNumber">3</div>
<p>Type in "cat /proc/sys/kernel/shmall" and press "Enter." You'll see the total amount of shared memory available displayed in bytes.&nbsp;<span class="goog_qs-tidbit goog_qs-tidbit-0">The max size of a shared memory segment is displayed with "cat</span>&nbsp;/proc/sys/kernel/shmmax", and the total number of segments in the system is displayed with "cat /proc/sys/kernel/shmmni".</p>
</li>
</ol>
</div>
<p>&nbsp;</p>
<p><span></p>
<p>Read more:&nbsp;<a href="http://www.ehow.com/how_6849046_check-shared-memory-linux.html#ixzz19eUg5rtL">How to Check Shared Memory on Linux | eHow.com</a>&nbsp;<a href="http://www.ehow.com/how_6849046_check-shared-memory-linux.html#ixzz19eUg5rtL">http://www.ehow.com/how_6849046_check-shared-memory-linux.html#ixzz19eUg5rtL</a></span></p>
<p>&nbsp;</p>
<p>-------------------------------------------------------------------------------------------</p>
<p><span><br />
</span></p>
<h1>3. <a href="http://www.unidata.ucar.edu/software/mcidas/2004/users_guide/workstation.html">Shared Memory Configuration</a></h1>
<p>
<span><img src="http://www.unidata.ucar.edu/software/mcidas/2004/users_guide/images/blueline.gif" alt="" /></span></p>
<p>McIDAS-X 200<em>x</em>&nbsp;uses shared memory for a variety of tasks including frame allocation. By default, the shared memory facility is activated and should have sufficient maximum segment size on HP, IBM and SGI systems. However, this is not true for Sun systems running Solaris 2.<em>x</em>&nbsp;or Digital systems running True64.&nbsp;<span class="goog_qs-tidbit goog_qs-tidbit-0">On Linux systems, the amount of available shared memory appears is equivalent to</span>&nbsp;the combination of physical RAM and swap.</p>
<p class="Body-Text">The system administrator should complete the steps below the first time McIDAS-X 200<em>x</em>&nbsp;is installed on Sun Solaris or Digital True64 workstations or if they desire to increase shared memory defaults on HP, IBM, or SGI systems.</p>
<p>
<span><a href="http://www.unidata.ucar.edu/software/mcidas/2004/users_guide/workstation.html#solaris">Sun Solaris 2.X</a></span><span><br /></span><span><a href="http://www.unidata.ucar.edu/software/mcidas/2004/users_guide/workstation.html#irix">SGI IRIX 6.x</a></span><span><br /></span><span><a href="http://www.unidata.ucar.edu/software/mcidas/2004/users_guide/workstation.html#hpux10">HP HP-UX 10, 11</a></span><span><br /></span><span><a href="http://www.unidata.ucar.edu/software/mcidas/2004/users_guide/workstation.html#aix">IBM AIX</a></span><span><br /></span><span><a href="http://www.unidata.ucar.edu/software/mcidas/2004/users_guide/workstation.html#osf1">Compaq Tru64 UNIX</a></span><span><br /></span><span><a href="http://www.unidata.ucar.edu/software/mcidas/2004/users_guide/workstation.html#linux">RedHat Linux</a></span><span><br /></span><span><a href="http://www.unidata.ucar.edu/software/mcidas/2004/users_guide/workstation.html#freebsd">FreeBSD 4.[789]</a></span><span><br /></span><span><a href="http://www.unidata.ucar.edu/software/mcidas/2004/users_guide/workstation.html#macos">MacOS-X 7.4.0</a></span></p>
<p>&nbsp;</p>
<h2 class="D-Head"><a name="solaris"></a>Sun Solaris 2.x</h2>
<p class="Body-Text"><a name="pgfId=31995"></a>The system administrator must complete the steps below the first time McIDAS-X is installed on a Sun workstation running Solaris 2.<em>&nbsp;x</em>&nbsp;.</p>
<ol>
<li>&nbsp;
<ul>
<p class="Type/Press"><a name="pgfId=28226"></a>Type:&nbsp;<strong>/usr/sbin/sysdef | grep SHMMAX</strong></p>
<table border="1">
<tbody>
<tr>
<td valign="TOP">
<pre class="Screen"><a name="pgfId=124517"></a>
536870912 max shared memory segment size (SHMMAX)</pre>
</td>
</tr>
</tbody>
</table>
</ul>
</li>
<p class="firstnum"><a name="pgfId=28222"></a>1.	Force the kernel to activate the shared memory system at boot time by adding the line below to the appropriate location in the file&nbsp;<br /><strong>/etc/system</strong>&nbsp;.</p>
<table border="1">
<tbody>
<tr>
<td valign="TOP">
<pre class="Screen"><a name="pgfId=28466"></a>
forceload: sys/shmsys</pre>
</td>
</tr>
</tbody>
</table>
<p class="Numbers"><a name="pgfId=28225"></a>2.	Check the maximum size of a shared memory segment using the command below. The value is indicated in bytes; the example lists a 512 MB maximum shared memory segment.</p>
<p class="Numbers-Text"><a name="pgfId=28228"></a>If your value is less than 512 MB, go to step 3. If your value is 512 MB or greater, go to step 4.</p>
<p class="Numbers"><a name="pgfId=28230"></a>3.	<span class="goog_qs-tidbit goog_qs-tidbit-1 goog_qs-tidbit-hilite">Set the shared memory size to 512 MB by adding the line below to the</span>&nbsp;appropriate location in the file&nbsp;<strong>/etc/system</strong>&nbsp;.</p>
<table border="1">
<tbody>
<tr>
<td valign="TOP">
<pre class="Screen"><a name="pgfId=28496"></a>
set shmsys:shminfo_shmmax = 536870912</pre>
</td>
</tr>
</tbody>
</table>
<p class="Numbers"><a name="pgfId=28233"></a>4.	Reboot the system so the forceload entry and 512 MB maximum shared memory size take effect.</p>
</ol>
<p><span><a name="irix"></a></span></p>
<h2 class="D-Head">SGI IRIX 6.x</h2>
<p class="Body-Text">On Irix, SHMMAX defaults to 512 MB (0x20000000 bytes), so tuning this parameter is unlikely to be needed. SHMMAX is found in&nbsp;<strong>/var/sysgen/mtune/shm</strong>.</p>
<p>
<span><a name="hpux10"></a></span></p>
<h2>HP HP-UX 10, 11</h2>
<p>On HP-UX 10 and 11, the maximum value for SHMMAX is 1024 MB (0x40000000; the default value for 64 MB (0x04000000). SHMMAX is found in&nbsp;<strong>/etc/conf/master.d/core-hpux</strong>.</p>
<p>The procedure for changing the parameter is similar, if not identical, to the one described for HP-UX 9.</p>
<p>One way to check the current value of SHMMAX is to enter the following command:</p>
<p class="Type/Press">Type:&nbsp;<strong>grep SHMMAX /etc/master</strong></p>
<p>If the grep does not print anything, you are using the default value of 64 MB. If the grep prints something, the output might look like this:</p>
<table border="1">
<tbody>
<tr>
<td valign="TOP">
<pre class="Screen"> shmmax          SHMMAX              0X20000000 </pre>
</td>
</tr>
</tbody>
</table>
<p>The value is&nbsp;<em>bytes</em>, so here the maximum segment size has been set to 512 MB.</p>
<p>
<span><a name="aix"></a></span></p>
<h2>IBM AIX 4.x</h2>
<p>The shmget(2) man page says that the maximum shared-memory segment size is 256 MB (0x10000000); this limit does not appear to be tunable.</p>
<p>
<span><a name="osf1"></a></span></p>
<h2>Compaq Tru64 UNIX</h2>
<p>The easiest way to increase shared-memory allocation on True64 is to use the GUI called&nbsp;<strong>dxkerneltuner</strong>, but one can also use the&nbsp;<strong>sysconfigdb</strong>&nbsp;command-line interface.</p>
<p>Running&nbsp;<strong>dxkerneltuner</strong>&nbsp;and increasing the shared-memory size to 64 MB will result in the following entry in the file /etc/sysconfigtab:</p>
<p>
<span><br />
</span></p>
<pre> ipc:
       shm-max=67108864
</pre>
<p>
<span>The following are the out-of-the-box defaults for the ipc subsystem for OSF/1 Version 4.0. They may be helpful for True64:</span><span><br />
</span></p>
<pre>% sysconfig -q ipc
ipc:
msg-max = 8192
msg-mnb = 16384
msg-mni = 64
msg-tql = 40
shm-max = 4194304
shm-min = 1
shm-mni = 128
shm-seg = 32
sem-mni = 16
sem-msl = 25
sem-opm = 10
sem-ume = 10
sem-vmx = 32767
sem-aem = 16384
num-of-sems = 60
max-kernel-ports = 22487
port-hash-max-num = 1124350
port-reserved-max-num = 22487
set-max-num = 1029
ssm-threshold = 8388608
ssm-enable-core-dump = 1
</pre>
<p>
<span><a name="linux"></a></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<h2>RedHat Linux</h2>
<p>There appears to be two ways of (re)defining the amount of shared memory in your system (tips thanks to Dave Glowacki of SSEC):</p>
<ul>
<li>add this line to your /etc/rc.d/rc.local file:
<p><tt>echo</tt>&nbsp;<em>shared_memory_size</em>&nbsp;<tt>&gt; /proc/sys/kernel/shmmax</tt></p>
<p>(where&nbsp;<em>shared_memory_size</em>&nbsp;is the amount of shared memory you want to declare in bytes) and reboot.</p>
<p><strong>Note:</strong>&nbsp;since this will be the last thing run before your system comes up, your McIDAS session won't get a larger shared memory segment if it's started during the boot process).</p>
<p>&nbsp;</p>
</li>
<li>a more permanent solution would be to change the value of SHMMAX in&nbsp;<tt>/usr/src/linux/include/asm/shmparam.h</tt>&nbsp;and rebuild your kernel</li>
</ul>
<p><a name="freebsd"></a></p>
<h2>FreeBSD 4.[789]</h2>
<p>Shared memory parameters are only read when the system goes from single user to multi user mode.</p>
<p>Add setting of shared memory max to&nbsp;<strong>/etc/sysctl.conf</strong></p>
<p>
<span><br />
</span></p>
<pre># $FreeBSD: src/etc/sysctl.conf,v 1.1.2.3 2002/04/15 00:44:13 dougb Exp $
#
#  This file is read when going to multi-user and its contents piped thru
#  ``sysctl'' to adjust kernel values.  ``man 5 sysctl.conf'' for details.
#
kern.ipc.shmmax=536870912
</pre>
<p>
<span>and then reboot.</span></p>
<p>&nbsp;</p>
<p><a name="macos"></a></p>
<h2>MacOS-X 7.4.0 (Panther)</h2>
<p>In the Panther release of MacOS-X, shared memory is set in the file&nbsp;<strong>/etc/rc</strong>. The default settings will look something like:</p>
<p>
<span><br />
</span></p>
<pre># System tuning
sysctl -w kern.maxvnodes=$(echo $(sysctl -n hw.physmem) '33554432 / 512 * 1024 +p'|dc)
sysctl -w kern.sysv.shmmax=4194304
sysctl -w kern.sysv.shmmin=1
sysctl -w kern.sysv.shmmni=32
sysctl -w kern.sysv.shmseg=8
sysctl -w kern.sysv.shmall=1024
</pre>
<p>&nbsp;</p>
<p>We recommend changing this to:</p>
<p>
<span><br />
</span></p>
<pre># System tuning
sysctl -w kern.maxvnodes=$(echo $(sysctl -n hw.physmem) '33554432 / 512 * 1024 +p'|dc)
sysctl -w kern.sysv.shmmax=536870912
sysctl -w kern.sysv.shmmin=1
sysctl -w kern.sysv.shmmni=4096
sysctl -w kern.sysv.shmseg=4096
sysctl -w kern.sysv.shmall=131072
</pre>
<p>&nbsp;</p>
<p>After making these changes, the system will need to be rebooted for the changes to take effect.</p>
<p><img src="http://www.unidata.ucar.edu/software/mcidas/2004/users_guide/images/blueline.gif" alt="" /></p>
<p>&nbsp;</p>
</div>

            
          </p>
        </div>
      
        <div class="post py3">
          <p class="post-meta">Dec 2, 2010</p>
          <a href="/unix/linux/2010/12/02/kshell-tips/" class="post-link"><h3 class="h2 post-title">Ksh的几点小技巧</h3></a>
          <p class="post-summary">
            
              <ol>
<li>在一个函数(function)中，如果不希望局部变量影响到全局变量或环境变量，可以用typeset来定义。</li>
<li>对于多个参数的函数或脚本，对多个输入参数的处理有两种办法：</li>
</ol>
<ul>
<li>一是利用如下方式：</li>
</ul>
<p>
<pre>while (($# != 0)) 
do 
      # process $1 
      shift 
done </pre>
<p>&nbsp;</p>
<ul>
<li>另一种方法是利用如下方式：</li>
</ul>
<p>
<pre>while getopts :A:B:c:d:e:E:C:i:G:L:M:R:hD:V OPT; do
	case $OPT in
	A)	export E_CONFIG=${OPTARG}
		;;
	B)	Banner=$(echo "$OPTARG" | tr '%' ' ');;
	C)	Mach="-m $OPTARG"; MachName=$OPTARG;;
	D)	DBDir=$OPTARG;;
	G)	TRCellGen=$OPTARG;;
	i)	iconic='-iconic';;
	L)  Lab3BEM=$OPTARG;;
	M)  NumMobileSub=$OPTARG;;
	esac
done
shift OPTIND-1</pre>
<p>&nbsp;</p>

            
          </p>
        </div>
      
        <div class="post py3">
          <p class="post-meta">Nov 28, 2010</p>
          <a href="/plan%209/2010/11/28/plan9-intro-note-1/" class="post-link"><h3 class="h2 post-title">Notes of Introduction to OS Abstractions Using Plan 9 from Bell Labs(I)</h3></a>
          <p class="post-summary">
            
              <p>&nbsp;</p>
<h3 id="zw-1290949398860sDJ1ah"><span id="zw-1290949398861ePu1_6">1. Loaded Programs</span></h3>
<h4 id="zw-1290949398861DeKRaD"><span id="zw-1290949398861A4v4rA">1.1 Command&nbsp;</span><span id="zw-1290949398861w1u2Ml">nm</span></h4>
<p id="zw-1290949398861M8Fq2q"><span id="zw-1290949398861Bp3Ccc">Command&nbsp;</span><span id="zw-1290949398861G3bweg">nm</span><span id="zw-1290949398861scTbjG">&nbsp;can be used to display symbol information in both objects and binary files, because it looks at the symbol table stored in the binary for debugging purposes. Command&nbsp;</span><span id="zw-1290949398861vCM8Bc">strip</span><span id="zw-1290949398862uxpNeZ">&nbsp;can be used to remove the symbol table.</span></p>
<p id="zw-1290949398862fWV4Na"><span id="zw-1290949398862lx4zWW">&nbsp;</span></p>
<p id="zw-1290949398862puncr7"><span id="zw-1290949398862bTX1vU">Option&nbsp;</span><span id="zw-1290949398862xqkLFX">&ndash;n</span><span id="zw-1290949398862uZgaHC">&nbsp;asks&nbsp;</span><span id="zw-1290949398862bL2tUS">nm</span><span id="zw-1290949398862J8ZHZT">&nbsp;to sort the output by symbol address. The addresses are virtual memory addresses, because the system uses the virtual memory hardware to keep each process in its own virtual address space.</span></p>
<p id="zw-1290949398862k6pDEH"><span id="zw-1290949398862DVbJhp">&nbsp;</span></p>
<p id="zw-1290949398862O_WbxH"><span id="zw-1290949398863UiL4fd">In the output of nm,&nbsp;</span><span id="zw-1290949398863YoRHZ6">etext</span><span id="zw-1290949398863HprQPn">&nbsp;is a symbol defined by the linker to let you know where the end of test is, and&nbsp;</span><span id="zw-1290949398863xgx-UA">edata</span><span id="zw-1290949398863_mjveS">&nbsp;reports the address where the initialized data terminates.</span></p>
<h4 id="zw-1290949398863NmsG5X"><span id="zw-1290949398863tm46dV">1.2 What does the system (kernel) loader do?</span></h4>
<p id="zw-1290949398863Jg06Kq"><span id="zw-1290949398863AZoq7F">&middot;</span><span id="zw-1290949398864Pw2OoW">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="zw-1290949398864Tl2rEF">The header in the binary file reports the memory size required for the program text, and the file keeps the memory image of that text. Therefore, the system can just copy all this into memory. For a given system and architecture, there is a convention regarding which addresses the program must use. Therefore, the system knows where to load the program.</span></p>
<p id="zw-12909493988641Ah34P"><span id="zw-1290949398864MwPqj1">&middot;</span><span id="zw-129094939886431kLs_">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="zw-12909493988644HOTq2">The header in the binary reports the memory size required for initialized variables (global) and file contains a memory image for them. Thus, the system can copy those bytes to memory. Note that the system has no idea regarding where does one variable start or how big it is. The system only knows how many bytes it has to copy to memory, and at which address should they be copied.</span></p>
<p id="zw-1290949398864lF3mfu"><span id="zw-1290949398864Qa1fiF">&middot;</span><span id="zw-1290949398864I57fm8">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="zw-1290949398864_vLJAo">For uninitialized global variables, the binary header reports their total size. The system allocates that amount of memory for the program. That is all it has to do. As a courtesy, Plan 9 guarantees that such memory is initialized with all bytes being zero. This means that all your global variables are initialized to null values by default.</span></p>
<h4 id="zw-1290949398864GGzoov"><span id="zw-1290949398865GPNwpr">1.3 Memory image for the global program</span></h4>
<p id="zw-1290949398865-KYSgI"><img src="http://xiexie.baihui.com/image.do?imgurl=3babf56062fe04d195271acb7edaebe17c7335448c4ed3af69eac61090566d9dffab3b423280599ed59da39279912dc4" alt="" align="bottom" /></p>
<p id="zw-129094939886505L7F-"><span id="zw-1290949398865sZMOgN">&nbsp;</span></p>
<p id="zw-1290949398865fHb7OC"><span id="zw-1290949398865R52pna">The virtual memory of a process in Plan 9 has several segments. A memory segment is a portion of contiguous memory with some properties. Segments used by a Plan 9 process are:</span></p>
<p id="zw-1290949398865WLGo3b"><span id="zw-129094939886516vPlJ">&middot;</span><span id="zw-1290949398865ayOOVt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="zw-1290949398865VpK3iM">The&nbsp;</span><span id="zw-1290949398866OAh3Sy">test segment</span><span id="zw-1290949398866zwgO7E">. It contains instructions that can be executed but not modified. The hardware is used by the system to enforce these permissions. The memory is initialized by the system with the program text (code) kept within the binary file for the program.</span></p>
<p id="zw-1290949398866DzjDRR"><span id="zw-1290949398866kzzKuu">&middot;</span><span id="zw-1290949398866dWZ4WJ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="zw-1290949398866rxmiFl">The&nbsp;</span><span id="zw-1290949398866XM0SSt">data segment</span><span id="zw-1290949398866rdIwt5">. It contains the initialized data for the program. Protection is set to allow both read and write operations on it, but you cannot execute instructions on it. The memory is initialized by the system using the initialized data kept within the binary file for the program.</span></p>
<p id="zw-12909493988665NjJfd"><span id="zw-12909493988668LYe2n">&middot;</span><span id="zw-1290949398866H86UPQ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="zw-1290949398867ujbq5l">The uninitialized data segment, called&nbsp;</span><span id="zw-1290949398867z9DJ4Q">bss segment</span><span id="zw-1290949398867jBIH8H">, which is almost like the data segment. However, this one is initialized by zeroing its memory. The name of the segment comes from an arcane instruction used to implement it on a machine that no longer exists. How much memory is given depends on the size recorded in the binary file. Moreover, this segment can&nbsp;</span><span id="zw-1290949398867woapo8">grow</span><span id="zw-1290949398867eXmEXm">, by using a system call that allocates more memory for it. Function libraries like&nbsp;</span><span id="zw-1290949398867LZTz0R">malloc</span><span id="zw-12909493988674pKHmJ">&nbsp;cause this segment to grow when they consume all the available memory in this segment. This is the reason for the gap between this segment and the stack segment, to leave room for the segment to grow.</span></p>
<p id="zw-12909493988678T1Cts"><span id="zw-1290949398867O08V4b">&middot;</span><span id="zw-1290949398867sojzlo">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="zw-1290949398868wui-dY">The&nbsp;</span><span id="zw-1290949398868EUaLcV">stack segment</span><span id="zw-1290949398868txeB9B">&nbsp;is also used for reading and writing memory. Unlike other segments, this segment seems to grow automatically when more space is used. It is used to keep the stack for the process.</span></p>
<h4 id="zw-1290949398868bt1ji2"><span id="zw-12909493988683H5_S8">1.4 Process Arguments</span></h4>
<p id="zw-1290949398868k0kuo-"><span id="zw-1290949398868acWAD4">The macros&nbsp;</span><span id="zw-1290949398868jo_aR3">ARGBEGIN</span><span id="zw-1290949398868GtChIf">&nbsp;and&nbsp;</span><span id="zw-1290949398868F52ej8">ARGEND</span><span id="zw-1290949398869bjzOxh">&nbsp;loop through the argument list, removing and processing</span></p>
<p id="zw-1290949398869EpgRq7"><span id="zw-1290949398869-ejVsC">options. After ARGEND, both argc and argv reflect the argument list without any option.</span></p>
<p id="zw-1290949398869-WyGTM"><span id="zw-1290949398869Gzm4-H">Between both macros, we must write the body for a switch statement (supplied by</span></p>
<p id="zw-1290949398869cUXFi3"><span id="zw-1290949398869ydg8j3">ARGBEGIN), with a case per option.</span></p>
<p id="zw-12909493988690ytyjT"><span id="zw-1290949398869PmpX8D">&nbsp;</span></p>
<p id="zw-1290949398869qAGTtJ"><span id="zw-1290949398870g5fJpf">&nbsp;</span></p>
<p id="zw-1290949398870w7UeKc"><span id="zw-1290949398870VnjgC1">Macros defined in plan9.h</span></p>
<p id="zw-1290949398870B0qO8e">
<pre>extern char *argv0;
#define ARGBEGIN for((void)(argv0||(argv0=*argv)),argv++,argc--;/
       argv[0] &amp;&amp; argv[0][0]=='-' &amp;&amp; argv[0][1];/
       argc--, argv++) {/
    char *_args, *_argt;/
    Rune _argc;/
    _args = &amp;argv[0][1];/
    if(_args[0]=='-' &amp;&amp; _args[1]==0){/
     argc--; argv++; break;/
    }/
    _argc = 0;/
    while(*_args &amp;&amp; (_args += chartorune(&amp;_argc, _args)))/
    switch(_argc)
#define ARGEND  SET(_argt);USED(_argt);USED(_argc);USED(_args);}/
     USED(argv);USED(argc);
#define ARGF()  (_argt=_args, _args="",/
    (*_argt? _argt: argv[1]? (argc--, *++argv): 0))
#define EARGF(x)  (_argt=_args, _args="",/
    (*_argt? _argt: argv[1]? (argc--, *++argv): ((x), abort(), (char*)0)))
 
#define ARGC()  _argc
 
#define SET(x) (x) = 0
#define USED(x) (void)(x)</pre>
<p>&nbsp;</p>
<p id="zw-1290949398889_XtEPK"><span id="zw-1290949398889kDGLRd">&nbsp;</span></p>
<p id="zw-12909493988895SfS4z"><span id="zw-1290949398889ZrdrFv">Most of the Plan 9 programs that accept multiple options use these macros to process their</span></p>
<p id="zw-12909493988894ZVhLV"><span id="zw-12909493988902Xxg3y">argument list in search for options. This means that the invocation syntax is similar for most pro-grams. You may combine options in a single argument, use multiple arguments, supply arguments for options immediately after the option letter, or use another argument,</span></p>
<p id="zw-12909493988907I3lpd"><span id="zw-12909493988905VTK78">terminate the option list by giving a -- argument, and so on.</span></p>
<p id="zw-1290949398890bVD_ls"><span id="zw-1290949398890H5Ub46">&nbsp;</span></p>
<p id="zw-1290949398890kIS9C9"><span id="zw-1290949398890-gm04p">Source code of bind.c</span></p>
<p id="zw-1290949398890dTxp09"><span id="zw-1290949398890_CB4vy">&nbsp;</span></p>
<p id="zw-129094939889033vUJu">
<pre>#include &lt;u.h&gt;
#include &lt;libc.h&gt;
 
void usage(void);
 
void
main(int argc, char *argv[])
{
 ulong flag = 0;
 int qflag = 0;
 
 ARGBEGIN{
 case 'a':
  flag |= MAFTER;
  break;
 case 'b':
  flag |= MBEFORE;
  break;
 case 'c':
  flag |= MCREATE;
  break;
 case 'q':
  qflag = 1;
  break;
 default:
  usage();
 }ARGEND
 
 if(argc != 2 || (flag&amp;MAFTER)&amp;&amp;(flag&amp;MBEFORE))
  usage();
 
 if(bind(argv[0], argv[1], flag) &lt; 0){
  if(qflag)
   exits(0);
  /* try to give a less confusing error than the default */
  if(access(argv[0], 0) &lt; 0)
   fprint(2, "bind: %s: %r/n", argv[0]);
  else if(access(argv[1], 0) &lt; 0)
   fprint(2, "bind: %s: %r/n", argv[1]);
  else
   fprint(2, "bind %s %s: %r/n", argv[0], argv[1]);
  exits("bind");
 }
 exits(0);
}
 
void
usage(void)
{
 fprint(2, "usage: bind [-b|-a|-c|-bc|-ac] new old/n");
 exits("usage");
}</pre>
<p>&nbsp;</p>
<p id="zw-12909493989145UBIdA"><span id="zw-1290949398914vjkUvQ">&nbsp;</span></p>
<h4 id="zw-1290949398915ChZiV0"><span id="zw-1290949398915TCUl-e">1.5 System call errors</span></h4>
<p id="zw-1290949398915_VKY7S"><span id="zw-1290949398915F5dVz0">There are several ways of printing out the error string. The most convenient way is using the format &ldquo;%r&rdquo; in print.</span></p>
<p id="zw-12909493989157rVDOc"><img src="http://xiexie.baihui.com/image.do?imgurl=3babf56062fe04d195271acb7edaebe1bcd1e98698a1ec92775ff5b32fbc87711fb8c1f0d288bb2569e488233a0046f0" alt="" width="553" height="360" /><br /><span id="zw-1290949398915QTjDll">T</span><span id="zw-12909493989150XDKGb">here is a function that both prints a message and exits. It is called&nbsp;</span><span id="zw-1290949398915Bp-iGv">sysfatal</span><span id="zw-1290949398915qZW_Qg">, and is used like follows.</span></p>
<p id="zw-1290949398915JM2CbI"><img src="http://xiexie.baihui.com/image.do?imgurl=3babf56062fe04d195271acb7edaebe1bcd1e98698a1ec92775ff5b32fbc87714333f017beea4d0004e0d5dd93db05f9" alt="" width="553" height="54" /><br /><span id="zw-1290949398916lQU6kE">T</span><span id="zw-1290949398916JAEBUs">he system call&nbsp;</span><span id="zw-1290949398916UPzKnY">rerrstr</span><span id="zw-12909493989164aLHY8">&nbsp;reads the error string. It stores the string at the buffer you supply.</span></p>
<p id="zw-1290949398916skGOn9"><img src="http://xiexie.baihui.com/image.do?imgurl=3babf56062fe04d195271acb7edaebe1bcd1e98698a1ec92775ff5b32fbc8771160ef69fcdf2c7af6f12e05e8ca4c254" alt="" width="453" height="74" /></p>
<p id="zw-12909493989169W1gXj"><span id="zw-1290949398916MxAr7x">The system call&nbsp;</span><span id="zw-12909493989161fVjqL">werrstr</span><span id="zw-1290949398917h2rCfn">&nbsp;writes a new value for the error string. It is used like the&nbsp;</span><span id="zw-1290949398917qviIxD">print</span><span id="zw-12909493989175CwNJH">. Using it, we can implement a function that&nbsp;</span><span id="zw-12909493989175OAYWp">pops</span><span id="zw-1290949398917S6aKR1">&nbsp;an element from a stack and reports errors nicely:</span></p>
<p id="zw-1290949398917hDQMag"><img src="http://xiexie.baihui.com/image.do?imgurl=3babf56062fe04d195271acb7edaebe1bcd1e98698a1ec92775ff5b32fbc87719994ac148aa292b2e7ef0f1a2485d55f" alt="" width="553" height="348" /></p>
<h4 id="zw-1290949398917aCF5lL"><span id="zw-1290949398917qHrEEA">1.6 Environment</span></h4>
<p id="zw-1290949398917jwrhJO"><span id="zw-1290949398918MSMy13">To obtain the value for a environment variable, from a C program, we can use the&nbsp;</span><span id="zw-12909493989185bMn7Y">getenv</span><span id="zw-1290949398918bQHoi3">&nbsp;system call. If the variable is not defined,&nbsp;</span><span id="zw-1290949398918wEHPTG">getenv</span><span id="zw-1290949398918l_JfXG">&nbsp;returns a null string. A related call is&nbsp;</span><span id="zw-1290949398918oWlB7I">putenv</span><span id="zw-1290949398918HwNsEz">, which accepts a name and a value, and set the corresponding environment variable accordingly.</span></p>
<p id="zw-12909493989186BVTwQ"><span id="zw-1290949398918bg2D2m">&nbsp;</span></p>
<p id="zw-1290949398918McGxWt"><span id="zw-1290949398918uivMkt">&nbsp;
<pre>#include &lt;u.h&gt;
#include &lt;libc.h&gt;
 
void main()
 
{
 char * path;
 
 path=getenv("path");
 if(path==nil)
  sysfatal("path not defined!");
 print("PATH is %s /n", path);
 
 exits(nil);
}</pre>
<p>&nbsp;</span></p>
<h4 id="zw-1290949398922zFzlXN"><span id="zw-1290949398922cjDuqK">1.7 Process States</span></h4>
<h4 id="zw-1290949398922FHaTF_"><img src="http://xiexie.baihui.com/image.do?imgurl=3babf56062fe04d195271acb7edaebe1bcd1e98698a1ec92775ff5b32fbc8771c6957ae765ad8d3426137f5235e54399" alt="" width="554" height="238" /><br /><span id="zw-1290949398923RrMZM8">1</span><span id="zw-1290949398923Hc3DDf">.8 Debugging</span></h4>
<p id="zw-1290949398923k00tpl"><span id="zw-1290949398923s7rFjn">The program&nbsp;</span><span id="zw-1290949398923yroZES">src</span><span id="zw-1290949398923kwDqpL">&nbsp;knows how to obtain the source file name and line number that corresponds to that program counter.</span></p>
<p id="zw-1290949398923mpe_pi"><span id="zw-129094939892316ZOlD">&nbsp;</span></p>
<p id="zw-1290949398923wSLiq0"><img class="zohotab" src="http://xiexie.baihui.com/images/spacer.gif" alt="" height="1px" /><span id="zw-12909493989230nQWXw">&nbsp;</span><span id="zw-1290949398924-7QokX">; <em>src -n -s 0x000016ff 8.hi</em></span></p>
<p id="zw-12909493989244YZqMH"><span id="zw-1290949398924unvzWE">&nbsp;</span><img class="zohotab" src="http://xiexie.baihui.com/images/spacer.gif" alt="" height="1px" /><span id="zw-1290949398924OBCoqn">&nbsp;</span><span id="zw-1290949398924iOBEui">/sys/src/libc/fmt/dofmt.c:37</span></p>
<p id="zw-1290949398924tRfkHj"><span id="zw-1290949398924RdI--q">&nbsp;</span></p>
<p id="zw-1290949398924PoVDYf"><span id="zw-1290949398924aW_tFP">Option -n causes the source file name and line to be printed. Otherwise src would ask your editor to display your file and line. Option -s permits you to give a memory address or a symbol name to locate its source.</span></p>
<p id="zw-1290949398924oOAlGc"><span id="zw-1290949398924KsySpY">&nbsp;</span></p>
<p id="zw-1290949398925BOhqJ0"><span id="zw-1290949398925hOxtFT">acid</span><span id="zw-1290949398925xmeTc4">&nbsp;is the debugger can be used to dump the stack (function stk()), memory (function mem()) and so on.</span></p>
<p>&nbsp;</p>

            
          </p>
        </div>
      
    </div>

    <div class="pagination clearfix mb1 mt4">
  <div class="left">
    
      
        <a class="pagination-item" href="/page11/">Newer</a>
      
    
  </div>
  <div class="right">
    
      <a class="pagination-item" href="/page13/">Older</a>
    
  </div>
</div>

  
</div>

      </div>
    </div>
  </div>

  <footer class="center">
  <div class="measure">
      <small>
      <p>&copy; 2007-2016 by <a href="http://www.bo-yang.net/">Bo Yang. </a></p>
         
      Theme crafted with &lt;3 by <a href="http://johnotander.com">John Otander</a> (<a href="https://twitter.com/4lpine">@4lpine</a>).<br>
      &lt;/&gt; available on <a href="https://github.com/johnotander/pixyll">Github</a>.
    </small>
  </div>
</footer>

</body>
</html>
