
<!DOCTYPE HTML>
<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml" xmlns:wb="http://open.weibo.com/wb">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bo Yang | Bo's Blog</title>
  
  <meta name="author" content="Bo Yang" />
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <!--
  <link href="/assets/themes/clear/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  -->

  <!-- Bootstrap -->
  <link href="/assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="/assets/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet">

  <!-- font-awesome -->
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">

  <!-- Google Prettify -->
  <link href="/assets/google-code-prettify/desert.css" rel="stylesheet" type="text/css" media="all">
  <!-- Google Pretty end -->

  <link href="/assets/style/blog.css" rel="stylesheet">
  
  <script src="/assets/bootstrap/js/jquery-1.10.2.js"></script>
  <script src="/assets/bootstrap/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>

<body>

   <!-- navigation bar -->
	<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
				<a class="navbar-brand" href="/"><b>bo-yang</b></a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse navbar-ex1-collapse">
				<ul class="nav navbar-nav">
					<li><a href="/archive.html"><b>Archive</b></a>
					</li>
					<li><a href="/tags.html"><b>Tags</b></a>
                    </li>
                    <li><a href="/about.html"><b>About</b></a>
                    </li>
                    <li><a href="/messages.html"><b>Messages</b></a>
                    </li>
				</ul>
				<ul class="nav navbar-nav pull-right">
		          <li>
		            <form class="navbar-form navbar-search" method="get" action="http://www.google.com/search" target="google_window">
		              <input id="g_search" type="text" class="search-query" placeholder="Search..." name="q" />
		              <input type="submit" name="btnG" style="display:none" id="searchsubmit" value="Search" />
		              <input type="hidden" name="ie" value="UTF-8" />
		              <input type="hidden" name="oe" value="UTF-8" />
		              <input type="hidden" name="hl" value="en-US" />
		              <input type="hidden" name="domains" value="http://bo-yang.github.io/" />
					  <input type="hidden" name="sitesearch" value="http://bo-yang.github.io/" />
					  <button type="submit" class="button button-rounded button-flat-blue">Go</button>
		            </form>
		          </li>
		        </ul>
            </div>
			<!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

  <div class="container">
    <div class="row" id="content-row">
      
<div class="page-header">
	<h1>Bo Yang  <small style="margin-left:20px;"><font face="cursive"><i>Beginner's mind.</i></font></small></h1>
</div>

<div class="container">
    <div class="row" id="content-row">
		<div class="col-md-9">
	<!-- blog entry -->
	
	<div class="post paper">	
    <h2 class="header"><a href="/2008/07/10/advanced-programming-in-unix">《Advanced Programming in the UNIX Environment》读书笔记（1）</a></h2>
    <p>
    	<span class="glyphicon glyphicon-time"></span> Posted by <strong>Bo Yang</strong> at <strong>2008-07-10</strong> with tags <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#Unix/Linux-ref" rel="nofollow">Unix/Linux</a>
	</p>
	<hr>
    
    <div class="post_at_index thepost">
    	<div id="mnm0">
<p id="i6v1" style="font-family:Verdana;"><font size="2"><span id="kf-u0">1、系统口令文件通常为/etc/passwd。口令文件中的登录项由7个以冒号分隔的字段组成：登录名、加密口令、数字用户ID、数字组&nbsp;ID、注释字段、起始目录以及shell程序。</span></font></p>
<p id="i6v10" style="font-family:Verdana;"><font size="2"><span id="kf-u1"> 2、不能出现在文件名中的字符只有两个：/和空操作符(null)。</span></font></p>
<p id="i6v12" style="font-family:Verdana;"><font size="2"><span id="kf-u2"> &nbsp;&nbsp;&nbsp; 当创建一个新目录时，自动创建了两个文件名：.和..。.引用当前目录，..引用父目录。</span></font></p>
<p id="n50c" style="font-family:Verdana;"><font size="2"><span id="n50c1">&nbsp;&nbsp;&nbsp;&nbsp; A process can change its working directory with the <span style="color:rgb(255,0,0);" id="n50c2"><strong>chdir</strong> </span>function.<br /></span></font></p>
<p id="i6v14" style="font-family:Verdana;"><font size="2"><span id="kf-u3"> 3、</span><img alt="" /><span id="kf-u4">ls(1)用以引用UNIX手册集中的一个特定项，它引用第一部分中的ls项。各部分通常用数字1～8表示，在每个部分中的各项则按字母顺序排列。</span></font></p>
<p><font size="2">4、</font>UNIX目录操作函数：opendir, readdir, closedir。<br />&nbsp;&nbsp;&nbsp; 三个用于进程控制的主要函数：fork, exec, waitpid。<br />5、头文件&lt;unistd.h&gt;中包含了许多UNIX系统服务的函数原型，函数原型是ANSI&nbsp;C标准的组成部分。<br />6、当度量一个进程的执行时间时，UNIX系统使用三个进程时间值：</p>
<ul id="ri8j0">
<li id="ri8j1">时钟时间</li>
<li id="ri8j2">用户CPU时间 </li>
<li id="ri8j4">系统CPU时间&nbsp;</li>
</ul>
</div>
<p>&nbsp;&nbsp;&nbsp; 时钟时间又称为墙上时钟时间（wall clock time），是进程运行的时间总量，其值与系统中同时运行的进程数有关。<br />&nbsp;&nbsp;&nbsp; 用户CPU时间是执行用户指令所用的时间量。<br />&nbsp;&nbsp;&nbsp; 系统CPU时间是为该进程执行内核所经历的时间。<br />&nbsp;&nbsp;&nbsp; 用户CPU时间 和 系统CPU时间的<strong>和</strong>被称为CPU时间。<br />&nbsp;&nbsp;&nbsp; 要取得任一进程的时钟时间、用户时间和系统时间很简单，只需执行命令time(1), 其参数是要度量其执行时间的命令。如：<br />[bonn@localhost unix_advance]$ time ps<br />&nbsp; PID TTY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TIME CMD<br />&nbsp;3734 pts/2&nbsp;&nbsp;&nbsp; 00:00:00 bash<br />&nbsp;6743 pts/2&nbsp;&nbsp;&nbsp; 00:00:00 ps</p>
<p>real&nbsp;&nbsp;&nbsp; 0m0.023s<br />user&nbsp;&nbsp;&nbsp; 0m0.010s<br />sys&nbsp;&nbsp;&nbsp; 0m0.013s</p>
<p>7、BSD: the Berkeley Software Distribution</p>

	</div>
	</div>
    
	<div class="post paper">	
    <h2 class="header"><a href="/2008/06/27/open-source-license">开源授权协议</a></h2>
    <p>
    	<span class="glyphicon glyphicon-time"></span> Posted by <strong>Bo Yang</strong> at <strong>2008-06-27</strong> with tags <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#Unix/Linux-ref" rel="nofollow">Unix/Linux</a>
	</p>
	<hr>
    
    <div class="post_at_index thepost">
    	<p style="margin-bottom:0;"><font face="Times New Roman, serif">［说明］：本文摘自《程序员》2008年06月刊许洪波教授的《开源授权协议（License）初探》一文，版权归原作者所有。</font></p>
<p style="margin-bottom:0;"><font face="Times New Roman, serif"><br />
</font></p>
<p style="margin-bottom:0;"><font face="Times New Roman, serif">1</font>、<font face="Times New Roman, serif">OSI(<a href="http://www.opensource.org/">www.opensource.org</a>)</font>是目前世界上针对开源软件授权进行认证的唯一机构。 </p>
<p style="margin-bottom:0;"><font face="Times New Roman, serif">2</font>、开源软件的特点： </p>
<ul>
<li>
<p style="margin-bottom:0;">免费的再发布：软件授权拥有者必须允许，包括软件的获得者和使用者将软件重新分发给其他人，而不向版权的拥有者支付版权相关的费用。</p>
</li>
<li>
<p style="margin-bottom:0;">源代码的访问：开源授权需要提供源代码。</p>
</li>
<li>
<p style="margin-bottom:0;">衍生作品：授权必须允许使用者修改软件，并在其基础上做出创新工作。授权必须允许这些修改和衍生作品在和原来的软件版权条件相同下发布。</p>
</li>
<li>
<p style="margin-bottom:0;">杜绝歧视：只要遵守开源许可版权，人人都可以使用开源软件；同时，开源软件版权不得限制任何人在特定领域使用该软件。</p>
</li>
</ul>
<p style="margin-bottom:0;"><font face="Times New Roman, serif">3</font>、开源授权模式：</p>
<p style="margin-bottom:0;">  （<font face="Times New Roman, serif">1</font>）强开源约束授权&mdash;&mdash;<font face="Times New Roman, serif">GNU GPL</font>。基于<font face="Times New Roman, serif">GPL</font>的任何软件及衍生应用程序，其源代码必须公开，并不得因此收费。</p>
<p style="margin-bottom:0;">  （<font face="Times New Roman, serif">2</font>）弱开源约束授权&mdash;&mdash;<font face="Times New Roman, serif">Mozilla</font>公用授权（<font face="Times New Roman, serif">MPL</font>）和<font face="Times New Roman, serif">LGPL</font>。<font face="Times New Roman, serif">MPL</font>协议要求假如你修改了一个基于<font face="Times New Roman, serif">MPL</font>协议的源代码，则必须列入或公开你所做的修改。假如你的软件采用了基于<font face="Times New Roman, serif">LGPL</font>的开源软件，<font face="Times New Roman, serif">LGPL</font>要求任何针对<font face="Times New Roman, serif">LGPL</font>开源软件的修改必须公开其源代码，但不要求基于源代码之上的衍生应用开放其源代码。</p>
<p style="margin-bottom:0;">  （<font face="Times New Roman, serif">3</font>）无开源约束授权&mdash;&mdash;<font face="Times New Roman, serif">BSD</font>授权协议。<font face="Times New Roman, serif">BSD</font>几乎允许用户做任何他们想要想要在<font face="Times New Roman, serif">BSD</font>的授权代码上做的事情；他们也可以将软件用于免费或商业目的；他们也可以发布或不发布变更后的源代码。<font face="Times New Roman, serif">BSD</font>的唯一要求就是软件使用者声明他们使用了软件原作者的著作权。</p>
<p style="margin-bottom:0;">（4）其他开源授权。</p>

	</div>
	</div>
    
	<div class="post paper">	
    <h2 class="header"><a href="/2008/06/06/fedora9-hard-disk">硬盘安装Fedora 9时死机？</a></h2>
    <p>
    	<span class="glyphicon glyphicon-time"></span> Posted by <strong>Bo Yang</strong> at <strong>2008-06-06</strong> with tags <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#Unix/Linux-ref" rel="nofollow">Unix/Linux</a>
	</p>
	<hr>
    
    <div class="post_at_index thepost">
    	<p>
    前天晚上在Fedora9下装完ATI显卡的驱动以后，升级系统，昨天早晨起来一看，我的本本过热休眠了（发现Fedora下经常出现这种情况，而Windows下很少出现，可见Linux的电源管理确实还有问题），当时没有管它。</p>
<p>昨天晚上到了半夜，决定切换到Fedora下玩一玩，结果发现进不了图形界面了，字符界面也还闪来闪去的，实在没办法，重装。非常不幸的是，重装到一半的时候，CPU过热又歇菜了。</p>
<p>这时重启发现只能进grub控制台，无法进Windows了。顿时傻了。</p>
<p>今天早晨来实验室上网搜索修复MBR的方法，最简单的就是用Windows安装盘。拿出Win2003的盘插到光驱一试，没反应，My God！光驱又坏了！！！难道我辛辛苦苦好几年积攒的文档就眼看要人间蒸发付诸东流了吗？</p>
<p>我不甘心，继续搜索grub的使用方法，试着敲入如下的命令：</p>
<pre>kernel (hd0,6)/isolinux/vmlinuz &lt;br  /&gt;initrd (hd0,6)/isolinux/initrd.img &lt;br  /&gt;boot</pre>
<p>成功了，终于可以进入继续安装Fedora 9的界面了！<br />只要能够进入一个操作系统就好说了，不管它是Windows还是Linux！</p>

	</div>
	</div>
    
	<div class="post paper">	
    <h2 class="header"><a href="/2008/06/05/emc-cbr-4">EMC-CBR故障诊断研究（四）</a></h2>
    <p>
    	<span class="glyphicon glyphicon-time"></span> Posted by <strong>Bo Yang</strong> at <strong>2008-06-05</strong> with tags <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#AI-ref" rel="nofollow">AI</a>, <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#C/C++-ref" rel="nofollow">C/C++</a>, <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#EMC-ref" rel="nofollow">EMC</a>
	</p>
	<hr>
    
    <div class="post_at_index thepost">
    	<p><font size="3"><span><span style="font-size:12pt;line-height:173%;font-family:宋体;">1、系统组成</span></span><span></span><span lang="EN-US" style='font-size:12pt;line-height:173%;font-family:"Times New Roman", "serif";'></span><span style="font-size:12pt;font-family:宋体;"><br />&nbsp;&nbsp; 本系统是由</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>CBR</span><span style="font-size:12pt;font-family:宋体;">和</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>RBR</span><span style="font-size:12pt;font-family:宋体;">组成的混合系统。系统结构如下图</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'></span><span style="font-size:12pt;font-family:宋体;">所示。系统的核心是推理机，推理机根据用户输入的故障描述，既可以将故障描述转化为新的案例，从而进行对案例库进行操作；又可以将故障描述转化为事实，对规则库进行操作。但</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>CBR</span><span style="font-size:12pt;font-family:宋体;">和</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>RBR</span><span style="font-size:12pt;font-family:宋体;">的地位并不是等同的，</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>CBR</span><span style="font-size:12pt;font-family:宋体;">起主导作用，</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>RBR</span><span style="font-size:12pt;font-family:宋体;">对</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>CBR</span><span style="font-size:12pt;font-family:宋体;">起监督作用，二者的推理结果由综合机制进行综合。本系统采用友好的人机界面，普通用户输入故障描述后，系统经推理后给出诊断建议，并对给出的建议进行解释。另外，为了便于对系统知识（案例库、知识库和事实库）进行管理，系统可以由知识工程师进行修改。</span></font></p>
<p align="left" style="text-align:left;text-indent:22.7pt;line-height:22pt;" class="MsoNormal"><font size="3"><img src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/系统结构.JPG" alt="" /></font></p>
<p align="left" style="text-align:left;text-indent:22.7pt;line-height:22pt;" class="MsoNormal"><font size="3">2、案例表示与存储</font></p>
<p align="left" style="text-align:left;text-indent:22.7pt;line-height:22pt;" class="MsoNormal"><font size="3">参见博文&ldquo;EMC-CBR故障诊断研究（一、二）&rdquo;</font></p>
<p align="left" style="text-align:left;text-indent:22.7pt;line-height:22pt;" class="MsoNormal"><font size="3">3、案例检索</font></p>
<p align="left" style="text-align:left;text-indent:22.7pt;line-height:22pt;" class="MsoNormal"><font size="3">参见博文&ldquo;EMC-CBR故障诊断研究（三）&rdquo;</font></p>
<p align="left" style="text-align:left;text-indent:22.7pt;line-height:22pt;" class="MsoNormal"><font size="3">4、<span style="font-size:12pt;line-height:173%;font-family:宋体;">案例重用</span><span lang="EN-US" style='font-size:12pt;line-height:173%;font-family:"Times New Roman", "serif";'></span></font> </p>
<p align="left" style="text-align:left;text-indent:21pt;line-height:22pt;" class="MsoNormal"><font size="3"><span style="font-size:12pt;font-family:宋体;">案例重用的主要任务是对检索到的案例的结论进行修正。基本思想就是将案例库中与目标案例最相似的案例的结论与次相似的案例的结论进行对比，如果二者仅仅是谓词函数的参数不同，可以认定无需对最佳匹配案例进行修改；如果二者不仅参数不同而且有谓词上的出入，则需启用基于规则的推理，最终利用</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>CBR</span><span style="font-size:12pt;font-family:宋体;">和</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>RBR</span><span style="font-size:12pt;font-family:宋体;">的综合机制利用</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>RBR</span><span style="font-size:12pt;font-family:宋体;">的结论对最佳匹配案例的结论进行修正。</span></font></p>
<p align="left" style="text-align:left;text-indent:21pt;line-height:22pt;" class="MsoNormal"><font size="3">5、 </font></p>
<p><font size="3"><span style="font-size:12pt;line-height:173%;font-family:宋体;">案例的保存</span><span lang="EN-US" style='font-size:12pt;line-height:173%;font-family:"Times New Roman", "serif";'></span></font> </p>
<p style="line-height:22pt;" class="MsoListParagraph"><font size="3"><span style="font-size:12pt;font-family:宋体;">&nbsp;&nbsp;&nbsp; 在案例保存时要进行模式归纳（</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>Schema Induction</span><span style="font-size:12pt;font-family:宋体;">）。模式归纳的含义就是指：如果类比导致了一个解，则执行两类似体的泛化过程，以便形成一个抽象的案例模式。简而言之，就是寻找两类似体的共性，然后加以抽象和泛化。</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'></span></font></p>
<p><font size="3"><span style="font-size:12pt;font-family:宋体;">案例保存的过程可以看作一个归纳学习的过程，很多归纳学习的方法都可以应用于案例保存，如产生预测试方法（</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>INDUCE1.2</span><span style="font-size:12pt;font-family:宋体;">）。</span></font></p>
<p align="left" style="text-align:left;text-indent:21pt;line-height:22pt;" class="MsoNormal"><font size="3">6、案例的维护</font></p>
<p align="left" style="text-align:left;text-indent:21pt;line-height:22pt;" class="MsoNormal">
<p style="text-indent:21pt;line-height:22pt;" class="MsoNormal"><font size="3"><span style="font-size:12pt;font-family:宋体;">心理学家在研究记忆机理时，提出了著名的遗忘曲线理论，即长期不用的信息将会被逐渐遗忘。在基于案例推理中，案例库的维护很重要，必须将长期不用的案例删除，因为这种案例很可能是噪声案例，例如误诊的病例、误判的案件等。</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>Aha</span><span style="font-size:12pt;font-family:宋体;">建议对案例库中的每个案例建立一个匹配记录，就可以删除那些噪声或无用的案例，以维护案例库的有效性。</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>Aha</span><span style="font-size:12pt;font-family:宋体;">提出案例求精算法</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>IB3</span><span style="font-size:12pt;font-family:宋体;">，表述如下</span><sup><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>[51]</span></sup><span style="font-size:12pt;font-family:宋体;">：</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'></span></font></p>
<p style="text-indent:21pt;line-height:22pt;" class="MsoNormal"><font size="3"><span style="font-size:12pt;font-family:宋体;">输入：案例库</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>S</span><span style="font-size:12pt;font-family:宋体;">和测试案例集</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>T</span></font></p>
<p style="text-indent:21pt;line-height:22pt;" class="MsoNormal"><font size="3"><span style="font-size:12pt;font-family:宋体;">输出：精化案例库</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>S&rsquo;</span></font></p>
<p style="text-indent:21pt;line-height:22pt;" class="MsoNormal"><font size="3"><span style="font-size:12pt;font-family:宋体;">过程：</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'></span></font></p>
<p style="margin-left:57pt;text-indent:-36pt;line-height:22pt;" class="MsoNormal"><!--[if !supportLists]--><font size="3"><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'><span>（1）<span style='font-family:"Times New Roman";font-style:normal;font-variant:normal;font-weight:normal;font-size:7pt;line-height:normal;font-size-adjust:none;font-stretch:normal;'>&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-size:12pt;font-family:宋体;">从测试案例集</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>T</span><span style="font-size:12pt;font-family:宋体;">中任选一个测试案例</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>t</span><span style="font-size:12pt;font-family:宋体;">；</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'></span></font><!--[endif]--></p>
<p style="margin-left:57pt;text-indent:-36pt;line-height:22pt;" class="MsoNormal"><!--[if !supportLists]--><font size="3"><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'><span>（2）<span style='font-family:"Times New Roman";font-style:normal;font-variant:normal;font-weight:normal;font-size:7pt;line-height:normal;font-size-adjust:none;font-stretch:normal;'>&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-size:12pt;font-family:宋体;">设法从案例库</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>S</span><span style="font-size:12pt;font-family:宋体;">中找到一个案例</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>s</span><span style="font-size:12pt;font-family:宋体;">，它与</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>t</span><span style="font-size:12pt;font-family:宋体;">有最佳匹配，其相似度超过某个阈值；</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'></span></font><!--[endif]--></p>
<p style="margin-left:57pt;text-indent:-36pt;line-height:22pt;" class="MsoNormal"><!--[if !supportLists]--><font size="3"><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'><span>（3）<span style='font-family:"Times New Roman";font-style:normal;font-variant:normal;font-weight:normal;font-size:7pt;line-height:normal;font-size-adjust:none;font-stretch:normal;'>&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-size:12pt;font-family:宋体;">如果找不到这样的</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>s</span><span style="font-size:12pt;font-family:宋体;">，则转到（</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>8</span><span style="font-size:12pt;font-family:宋体;">）；</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'></span></font><!--[endif]--></p>
<p style="margin-left:57pt;text-indent:-36pt;line-height:22pt;" class="MsoNormal"><!--[if !supportLists]--><font size="3"><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'><span>（4）<span style='font-family:"Times New Roman";font-style:normal;font-variant:normal;font-weight:normal;font-size:7pt;line-height:normal;font-size-adjust:none;font-stretch:normal;'>&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-size:12pt;font-family:宋体;">若确认</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>t</span><span style="font-size:12pt;font-family:宋体;">和</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>s</span><span style="font-size:12pt;font-family:宋体;">属于同一类，则转（</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>9</span><span style="font-size:12pt;font-family:宋体;">）；否则把</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>t</span><span style="font-size:12pt;font-family:宋体;">加上它所属的类</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>c</span><span style="font-size:12pt;font-family:宋体;">的标志后存入库</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>S</span><span style="font-size:12pt;font-family:宋体;">；</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'></span></font><!--[endif]--></p>
<p style="margin-left:57pt;text-indent:-36pt;line-height:22pt;" class="MsoNormal"><!--[if !supportLists]--><font size="3"><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'><span>（5）<span style='font-family:"Times New Roman";font-style:normal;font-variant:normal;font-weight:normal;font-size:7pt;line-height:normal;font-size-adjust:none;font-stretch:normal;'>&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-size:12pt;font-family:宋体;">从库</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>S</span><span style="font-size:12pt;font-family:宋体;">中找出所有这样的案例</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>s<sub>i</sub></span><span style="font-size:12pt;font-family:宋体;">，它们和</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>t</span><span style="font-size:12pt;font-family:宋体;">的相似程度至多不大于</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>s</span><span style="font-size:12pt;font-family:宋体;">和</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>t</span><span style="font-size:12pt;font-family:宋体;">的相似程度，所有这些</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>s<sub>i</sub></span><span style="font-size:12pt;font-family:宋体;">的匹配记录要扣分；</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'></span></font><!--[endif]--></p>
<p style="margin-left:57pt;text-indent:-36pt;line-height:22pt;" class="MsoNormal"><!--[if !supportLists]--><font size="3"><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'><span>（6）<span style='font-family:"Times New Roman";font-style:normal;font-variant:normal;font-weight:normal;font-size:7pt;line-height:normal;font-size-adjust:none;font-stretch:normal;'>&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-size:12pt;font-family:宋体;">从库</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>S</span><span style="font-size:12pt;font-family:宋体;">中删除记录分数小于某个规定值的所有案例；</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'></span></font><!--[endif]--></p>
<p style="margin-left:57pt;text-indent:-36pt;line-height:22pt;" class="MsoNormal"><!--[if !supportLists]--><font size="3"><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'><span>（7）<span style='font-family:"Times New Roman";font-style:normal;font-variant:normal;font-weight:normal;font-size:7pt;line-height:normal;font-size-adjust:none;font-stretch:normal;'>&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-size:12pt;font-family:宋体;">如果测试集的案例已经用完，则算法结束，否则转（</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>1</span><span style="font-size:12pt;font-family:宋体;">）；</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'></span></font><!--[endif]--></p>
<p style="margin-left:57pt;text-indent:-36pt;line-height:22pt;" class="MsoNormal"><!--[if !supportLists]--><font size="3"><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'><span>（8）<span style='font-family:"Times New Roman";font-style:normal;font-variant:normal;font-weight:normal;font-size:7pt;line-height:normal;font-size-adjust:none;font-stretch:normal;'>&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-size:12pt;font-family:宋体;">从库</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>S</span><span style="font-size:12pt;font-family:宋体;">中任选一个案例</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>s</span><span style="font-size:12pt;font-family:宋体;">，转到（</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>4</span><span style="font-size:12pt;font-family:宋体;">）；</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'></span></font><!--[endif]--></p>
<p style="margin-left:57pt;text-indent:-36pt;line-height:22pt;" class="MsoNormal"><!--[if !supportLists]--><font size="3"><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'><span>（9）<span style='font-family:"Times New Roman";font-style:normal;font-variant:normal;font-weight:normal;font-size:7pt;line-height:normal;font-size-adjust:none;font-stretch:normal;'>&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-size:12pt;font-family:宋体;">从库</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>S</span><span style="font-size:12pt;font-family:宋体;">中找出所有这样的案例</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>s<sub>i</sub></span><span style="font-size:12pt;font-family:宋体;">，它们和</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>t</span><span style="font-size:12pt;font-family:宋体;">的相似程度至少不亚于</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>s</span><span style="font-size:12pt;font-family:宋体;">和</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>t</span><span style="font-size:12pt;font-family:宋体;">的相似程度；</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'></span></font><!--[endif]--></p>
<p style="margin-left:57pt;text-indent:-36pt;line-height:22pt;" class="MsoNormal"><!--[if !supportLists]--><font size="3"><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'><span>（10）</span></span><span style="font-size:12pt;font-family:宋体;">转到（</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>7</span><span style="font-size:12pt;font-family:宋体;">）。</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'></span></font><!--[endif]--></p>
<p><font size="3"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  7、 </font></p>
<p><font size="3"><span style="font-size:12pt;line-height:173%;font-family:宋体;">基于规则的推理</span><span lang="EN-US" style='font-size:12pt;line-height:173%;font-family:"Times New Roman", "serif";'></span></font></p>
<p align="left" style="text-align:left;text-indent:21pt;line-height:22pt;" class="MsoNormal"><font size="3"><span style="font-size:12pt;font-family:宋体;">基于规则推理（</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>RBR</span><span style="font-size:12pt;font-family:宋体;">）子系统是一个简化的专家系统。</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>RBR</span><span style="font-size:12pt;font-family:宋体;">子系统由事实库和规则库组成，规则库中存放由专家经验中提取出来的专家规则，以产生式表示；事实库是由推理机通过人机界面从用户的输入中提取出来的事实，以命题逻辑表示。</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'></span></font></p>
<p align="left" style="text-align:left;text-indent:21pt;line-height:22pt;" class="MsoNormal"><font size="3"><span style="font-size:12pt;font-family:宋体;">例如，和上面讨论的</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>case6</span><span style="font-size:12pt;font-family:宋体;">相关的规则有&ldquo;</span><span style="font-size:12pt;font-family:楷体_GB2312;">使用导电橡胶、衬垫之类的屏蔽材料时，不但要保证接触面上的良好的导电性（接触面去除所有漆），而且还要保证一定的压缩量。&rdquo;</span><span style="font-size:12pt;font-family:宋体;">，可以用产生式规则表述如下：</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";color:rgb(0,176,80);'></span></font></p>
<p align="left" style="margin-left:21pt;text-align:left;line-height:22pt;" class="MsoNormal"><font size="3"><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>Shielding(product, conductive_tape) </span><span style="font-size:12pt;font-family:宋体;">&or;</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'> Shielding(product, condutive_gasket) =&gt; Wipe_off(interface, lacquer) </span><span style="font-size:12pt;font-family:宋体;">&and;</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'> (Compress(conductive_tape) </span><span style="font-size:12pt;font-family:宋体;">&or;</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'> Compress(conductive_ gasket))</span></font></p>
<p><font size="3"><span style="font-size:12pt;font-family:宋体;">&nbsp;&nbsp; </span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>RBR</span><span style="font-size:12pt;font-family:宋体;">的推理采用不确定性推理。不确定推理包括前提条件的不确定性、结论的不确定性以及推理过程的不确定性。根据电磁兼容知识的特点，必须综合利用这三种不确定性才能比较确切的模拟电磁兼容专家的推理过程。不确定推理的通用表示方法为</span><sup><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>[20]</span></sup><span style="font-size:12pt;font-family:宋体;">：</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'></span></font></p>
<p style="line-height:22pt;" class="MsoListParagraph"><font size="3"><strong><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IF</span></strong><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'> [(p<sub>1</sub>, f<sub>1</sub>, t<sub>1</sub>) <strong>AND</strong> (p<sub>2</sub>, f<sub>2</sub>, t<sub>2</sub>) <strong>AND</strong> &hellip; <strong>AND</strong> (p<sub>m</sub>, f<sub>m</sub>, t<sub>m</sub>)]</span></font></p>
<p style="line-height:22pt;" class="MsoListParagraph"><font size="3"><strong><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; THEN</span></strong><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'> [((q<sub>1</sub>, g<sub>1</sub>, s<sub>1</sub>), (q<sub>2</sub>, g<sub>2</sub>, s<sub>2</sub>)&hellip;)] <strong>WITH CF</strong>(R)</span></font></p>
<p style="text-indent:0;line-height:22pt;" class="MsoListParagraph"><font size="3"><span style="font-size:12pt;font-family:宋体;">其中，</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>p<sub>i</sub></span><span style="font-size:12pt;font-family:宋体;">表示模糊前提条件，</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>q<sub>i</sub></span><span style="font-size:12pt;font-family:宋体;">表示模糊结论及动作，</span><strong><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>CF</span></strong><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>(R)</span><span style="font-size:12pt;font-family:宋体;">为可信度，</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>f<sub>i</sub></span><span style="font-size:12pt;font-family:宋体;">是表达前件的可能性分布，</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>t<sub>i</sub></span><span style="font-size:12pt;font-family:宋体;">是前件的确信程度，</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>g<sub>i</sub></span><span style="font-size:12pt;font-family:宋体;">是表达结论的可能性分布，</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>s<sub>1</sub></span><span style="font-size:12pt;font-family:宋体;">是结论的确信程度。</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'></span></font></p>
<p style="line-height:22pt;" class="MsoListParagraph"><font size="3"><span style="font-size:12pt;font-family:宋体;">&nbsp;&nbsp;&nbsp; 对于前件，可以采用表达方案：</span><span lang="EN-US" style='font-family:"Times New Roman", "serif";'><span style="position:relative;top:12pt;"><!--[if !vml]--></span></span><span style="font-family:宋体;"><img src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/p.JPG" alt="" />,<span style="font-style:italic;">p</span></span><span lang="EN-US" style='font-family:"Times New Roman", "serif";'><span style="position:relative;top:5pt;"><!--[if !vml]--></span></span><span style="font-size:12pt;font-family:宋体;">为模糊命题，<span style="font-style:italic;">x</span></span><span lang="EN-US" style='font-family:"Times New Roman", "serif";'><span style="position:relative;top:3pt;"><!--[endif]--></span></span><span style="font-size:12pt;font-family:宋体;">为对象名，</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>A</span><span style="font-size:12pt;font-family:宋体;">是</span><span lang="EN-US" style='font-family:"Times New Roman", "serif";'><span style="position:relative;top:3pt;"><!--[if !vml]--></span></span><span style="font-size:12pt;font-family:宋体;"><span style="font-style:italic;">x</span>的属性名，</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>D</span><span style="font-size:12pt;font-family:宋体;">是确定性状态表达，</span><span lang="EN-US" style='font-family:"Times New Roman", "serif";'><span style="position:relative;top:5pt;"><!--[if !vml]--></span></span><span style="font-size:12pt;font-family:宋体;">是</span><span lang="EN-US" style='font-family:"Times New Roman", "serif";'><span style="position:relative;top:12pt;"><!--[if !vml]--></span></span><span style="font-size:12pt;font-family:宋体;"><span style="font-style:italic;">p</span>的相应的确定性命题，</span><span lang="EN-US" style='font-family:"Times New Roman", "serif";'><span style="position:relative;top:3pt;"><!--[if !vml]--><img height="16" width="9" src="/DOCUME~1/ADMINI~1/LOCALS~1/Temp/msohtmlclip1/01/clip_image021.gif" alt="" /><!--[endif]--></span></span><span style="font-size:12pt;font-family:宋体;">是命题的不确定性度量。</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'></span></font></p>
<p style="line-height:22pt;" class="MsoListParagraph"><font size="3"><span style="font-size:12pt;font-family:宋体;">例如，某模糊命题为：</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'></span></font></p>
<p style="line-height:22pt;" class="MsoListParagraph"><font size="3"><span style="font-size:12pt;font-family:楷体_GB2312;">如果为感应耦合</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>(</span><span style="font-size:12pt;font-family:楷体_GB2312;">可信度</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>0.9)</span><span style="font-size:12pt;font-family:楷体_GB2312;">，且电路频率很高</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>(</span><span style="font-size:12pt;font-family:楷体_GB2312;">模糊数</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>0.8)</span><span style="font-size:12pt;font-family:楷体_GB2312;">，则耦合为容性耦合</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>(</span><span style="font-size:12pt;font-family:楷体_GB2312;">可信度</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>0.7)</span><span style="font-size:12pt;font-family:楷体_GB2312;">。</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'></span></font></p>
<p style="line-height:22pt;" class="MsoListParagraph"><font size="3"><span style="font-size:12pt;font-family:宋体;">则该命题可以表述为：</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'></span></font></p>
<p style="line-height:22pt;" class="MsoListParagraph"><font size="3"><strong><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IF</span></strong><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'> [(p<sub>1</sub>,0.9) <strong>AND</strong> (p<sub>2</sub>,0.8)] <strong>THEN</strong>[(q<sub>1</sub>, 0.7)] <strong>WITH CF</strong>(R)</span></font></p>
<p style="text-indent:0;line-height:22pt;" class="MsoListParagraph"><font size="3"><span style="font-size:12pt;font-family:宋体;">其中，<img src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/p1.JPG" alt="" /></span><span lang="EN-US" style='font-family:"Times New Roman", "serif";'><span style="position:relative;top:5pt;"><!--[if !vml]--><!--[endif]--></span></span><span style="font-family:宋体;">，<img src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/p2.JPG" alt="" /></span><span lang="EN-US" style='font-family:"Times New Roman", "serif";'><span style="position:relative;top:5pt;"><!--[if !vml]--><!--[endif]--></span></span><span style="font-family:宋体;">，</span><span lang="EN-US" style='font-family:"Times New Roman", "serif";'></span></font></p>
<p style="text-indent:0;line-height:22pt;" class="MsoListParagraph"><font size="3"><span lang="EN-US" style='font-family:"Times New Roman", "serif";'><span style="position:relative;top:5pt;"><!--[if !vml]--></span></span><span style="font-family:宋体;"><img src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/q1.JPG" alt="" />，</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>R</span><span style="font-size:12pt;font-family:宋体;">为根据不确定推理理论计算出的整个命题的可信度。</span></font></p>
<p style="text-indent:0;line-height:22pt;" class="MsoListParagraph"><font size="3">&nbsp;&nbsp;&nbsp;&nbsp; 8、 </font></p>
<p><font size="3"><span lang="EN-US" style='font-size:12pt;line-height:173%;font-family:"Times New Roman", "serif";'>CBR</span><span style="font-size:12pt;line-height:173%;font-family:宋体;">和</span><span lang="EN-US" style='font-size:12pt;line-height:173%;font-family:"Times New Roman", "serif";'>RBR</span><span style="font-size:12pt;line-height:173%;font-family:宋体;">的综合机制</span><span lang="EN-US" style='font-size:12pt;line-height:173%;font-family:"Times New Roman", "serif";'></span> <span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-size:12pt;font-family:宋体;"><br /></span></font></p>
<p style="text-indent:0;line-height:22pt;" class="MsoListParagraph"><font size="3"><span style="font-size:12pt;font-family:宋体;">&nbsp;&nbsp; 当目标案例和</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>CBR</span><span style="font-size:12pt;font-family:宋体;">案例库中的源案例的相似度低于阈值时，启用</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>RBR</span><span style="font-size:12pt;font-family:宋体;">。如果利用</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>RBR</span><span style="font-size:12pt;font-family:宋体;">能够推导出结果，则将</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>RBR</span><span style="font-size:12pt;font-family:宋体;">的结论作为最终诊断结果，将</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>CBR</span><span style="font-size:12pt;font-family:宋体;">的结论作为建议一同提交给用户；如果由于规则的不完整</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>RBR</span><span style="font-size:12pt;font-family:宋体;">无法推导出结论，则将</span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'>CBR</span><span style="font-size:12pt;font-family:宋体;">的结论作为诊断结果提交给用户，但此时必须注明该结论的可信度（可信度可以用目标案例和源案例的相似度表示）。</span></font></p>
<p><font size="3"><span style="font-size:12pt;font-family:宋体;"></span><span lang="EN-US" style='font-size:12pt;font-family:"Times New Roman", "serif";'></span></font></p>
<p>&nbsp;</p>

	</div>
	</div>
    
	<div class="post paper">	
    <h2 class="header"><a href="/2008/05/27/logic-parser-result">逻辑表达式词法分析器分析结果的显示</a></h2>
    <p>
    	<span class="glyphicon glyphicon-time"></span> Posted by <strong>Bo Yang</strong> at <strong>2008-05-27</strong> with tags <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#AI-ref" rel="nofollow">AI</a>, <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#Algorithm-ref" rel="nofollow">Algorithm</a>, <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#C/C++-ref" rel="nofollow">C/C++</a>
	</p>
	<hr>
    
    <div class="post_at_index thepost">
    	<p>
<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 上篇博客文章《<a href="void(0);/*1211894183336*/"><span style="font-family:宋体;">简易逻辑表达式词法分析器</span></a>》讲到设计了一个逻辑表达式词法分析器，这次以那个词法分析器作为后端，利用VC搭建前端界面，展示一下分析效果。</p>
<p><img src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/词法分析器结果.JPG" alt="" /></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 分析结果以树的形式表示：同一级节点表示具有相同的等级，参数比它的谓词的等级要高，比如Missile(x)中Missile等级为0级，x为1级。分析之后各个节点存储在Parser.list中，可以根据该链表的节点的level属性将各节点插入树种的相应位置。<br />&nbsp;&nbsp;&nbsp;&nbsp; 分析以上逻辑表达式可知，各个节点的等级如下：<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Missile&nbsp; x&nbsp; AND&nbsp; Owns&nbsp; Nono&nbsp; Sub&nbsp; x&nbsp; =&gt;&nbsp; Sells&nbsp; West&nbsp; x&nbsp; Nono<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp; 2&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1<br />&nbsp;&nbsp;&nbsp;&nbsp; 可见，利用堆栈来辅助将节点插入树中是最理想的方法。思路如下：将树的TVI_ROOT压栈；若当前节点的等级大于其前一个节点，将前一个节点压栈；若当前节点等级小于前一个节点，出栈前一节点等级 和&nbsp; 当前节点等级之差次；若当前节点等级等于前一节点等级，既不压栈也不出栈。每个当前节点的父节点为栈顶元素。</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 源代码如下：</p>
<div style="border:.5pt solid windowtext;padding:4px 5.4pt;background:rgb(230,230,230) none repeat scroll 0 0;-moz-background-clip:-moz-initial;-moz-background-origin:-moz-initial;width:95%;">
<div><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" alt="" /><span style="color:rgb(0,0,255);">void</span><span style="color:rgb(0,0,0);">&nbsp;CPPageFaultLogicExpression::OnBnClickedButtonParse()<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockStart.gif" alt="" /><img align="top" style="display:none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedBlock.gif" alt="" /></span><span style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;" id="_58_1515_Closed_Text">...</span><span id="_58_1515_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;TODO:&nbsp;在此添加控件通知处理程序代码</span><span style="color:rgb(0,128,0);"><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;UpdateData(TRUE);<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" /><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">if</span><span style="color:rgb(0,0,0);">(m_strLogicExpression</span><span style="color:rgb(0,0,0);">==</span><span style="color:rgb(0,0,0);">L</span><span style="color:rgb(0,0,0);">&quot;&quot;</span><span style="color:rgb(0,0,0);">)<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" /><img align="top" style="display:none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;" id="_137_168_Closed_Text">...</span><span id="_137_168_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MessageBox(L</span><span style="color:rgb(0,0,0);">&quot;</span><span style="color:rgb(0,0,0);">请输入逻辑表达式！</span><span style="color:rgb(0,0,0);">&quot;</span><span style="color:rgb(0,0,0);">);<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color:rgb(0,0,0);"><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">else</span><span style="color:rgb(0,0,0);"><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" /><img align="top" style="display:none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;" id="_177_1499_Closed_Text">...</span><span id="_177_1499_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_parser.Parse((wstring)m_strLogicExpression);&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;进行词法分析</span><span style="color:rgb(0,128,0);"><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_bIsParsed</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">TRUE;<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" /><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" /><img align="top" style="display:none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;" id="_261_284_Closed_Text">/**/</span><span id="_261_284_Open_Text"><span style="color:rgb(128,128,128);">///</span><span style="color:rgb(0,128,0);">/&nbsp;向词法分析树种添加分析结果&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(128,128,128);">///</span><span style="color:rgb(0,128,0);">/</span><span style="color:rgb(128,128,128);"></span></span><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" /><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m_tLexer.DeleteAllItems();&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;清除所有节点</span><span style="color:rgb(0,128,0);"><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" /></span><span style="color:rgb(0,0,0);"><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NodeList_It&nbsp;it</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">m_parser.list.begin();<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NodeList_It&nbsp;tmp_it</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">it;<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wchar_t&nbsp;tmp[</span><span style="color:rgb(0,0,0);">128</span><span style="color:rgb(0,0,0);">];<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wcscpy(tmp,it</span><span style="color:rgb(0,0,0);">-&gt;</span><span style="color:rgb(0,0,0);">content.c_str());<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" /><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stack</span><span style="color:rgb(0,0,0);">&lt;</span><span style="color:rgb(0,0,0);">HTREEITEM</span><span style="color:rgb(0,0,0);">&gt;</span><span style="color:rgb(0,0,0);">&nbsp;st;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;定义堆栈</span><span style="color:rgb(0,128,0);"><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" /></span><span style="color:rgb(0,0,0);"><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TVINSERTSTRUCT&nbsp;tvInsert;<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tvInsert.hParent&nbsp;</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">&nbsp;TVI_ROOT;<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tvInsert.hInsertAfter&nbsp;</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">&nbsp;TVI_LAST;<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tvInsert.item.mask&nbsp;</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">&nbsp;TVIF_TEXT;<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tvInsert.item.pszText&nbsp;</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">&nbsp;tmp;<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" /><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HTREEITEM&nbsp;hcur</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">TVI_ROOT;<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;st.push(hcur);<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hcur</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">m_tLexer.InsertItem(</span><span style="color:rgb(0,0,0);">&amp;</span><span style="color:rgb(0,0,0);">tvInsert);&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;插入根节点</span><span style="color:rgb(0,128,0);"><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HTREEITEM&nbsp;hprev;<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hprev</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">hcur;<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" /></span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;level=0,max_level=0;</span><span style="color:rgb(0,128,0);"><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" /></span><span style="color:rgb(0,0,0);"><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it</span><span style="color:rgb(0,0,0);">++</span><span style="color:rgb(0,0,0);">;<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" /><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">for</span><span style="color:rgb(0,0,0);">(it;it</span><span style="color:rgb(0,0,0);">!=</span><span style="color:rgb(0,0,0);">m_parser.list.end();it</span><span style="color:rgb(0,0,0);">++</span><span style="color:rgb(0,0,0);">)<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" /><img align="top" style="display:none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;" id="_846_1474_Closed_Text">...</span><span id="_846_1474_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wcscpy(tmp,it</span><span style="color:rgb(0,0,0);">-&gt;</span><span style="color:rgb(0,0,0);">content.c_str());<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" /><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">if</span><span style="color:rgb(0,0,0);">(it</span><span style="color:rgb(0,0,0);">-&gt;</span><span style="color:rgb(0,0,0);">level&nbsp;</span><span style="color:rgb(0,0,0);">&gt;</span><span style="color:rgb(0,0,0);">&nbsp;tmp_it</span><span style="color:rgb(0,0,0);">-&gt;</span><span style="color:rgb(0,0,0);">level)&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;当前节点深度大于前一节点时，前一节点所在的树的位置入栈</span><span style="color:rgb(0,128,0);"><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" /><img align="top" style="display:none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;" id="_952_1042_Closed_Text">...</span><span id="_952_1042_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;st.push(hprev);<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hcur</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">m_tLexer.InsertItem(tmp,hprev,TVI_LAST);&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;插入新的节点</span><span style="color:rgb(0,128,0);"><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color:rgb(0,0,0);"><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">else</span><span style="color:rgb(0,0,0);">&nbsp;</span><span style="color:rgb(0,0,255);">if</span><span style="color:rgb(0,0,0);">(it</span><span style="color:rgb(0,0,0);">-&gt;</span><span style="color:rgb(0,0,0);">level&nbsp;</span><span style="color:rgb(0,0,0);">&lt;</span><span style="color:rgb(0,0,0);">&nbsp;tmp_it</span><span style="color:rgb(0,0,0);">-&gt;</span><span style="color:rgb(0,0,0);">level)&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;当前节点深度小于前一节点时，根据两节点深度之差将保存的节点出栈</span><span style="color:rgb(0,128,0);"><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" /><img align="top" style="display:none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;" id="_1120_1292_Closed_Text">...</span><span id="_1120_1292_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">int</span><span style="color:rgb(0,0,0);">&nbsp;level</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">tmp_it</span><span style="color:rgb(0,0,0);">-&gt;</span><span style="color:rgb(0,0,0);">level;<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">while</span><span style="color:rgb(0,0,0);">(it</span><span style="color:rgb(0,0,0);">-&gt;</span><span style="color:rgb(0,0,0);">level&nbsp;</span><span style="color:rgb(0,0,0);">&lt;</span><span style="color:rgb(0,0,0);">&nbsp;level</span><span style="color:rgb(0,0,0);">--</span><span style="color:rgb(0,0,0);">)<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" /><img align="top" style="display:none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;" id="_1186_1207_Closed_Text">...</span><span id="_1186_1207_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;st.pop();<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color:rgb(0,0,0);"><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hprev</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">st.top();<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hcur</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">m_tLexer.InsertItem(tmp,hprev,TVI_LAST);&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;插入新的节点</span><span style="color:rgb(0,128,0);"><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color:rgb(0,0,0);"><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">else</span><span style="color:rgb(0,0,0);">&nbsp;</span><span style="color:rgb(0,0,255);">if</span><span style="color:rgb(0,0,0);">(it</span><span style="color:rgb(0,0,0);">-&gt;</span><span style="color:rgb(0,0,0);">level&nbsp;</span><span style="color:rgb(0,0,0);">==</span><span style="color:rgb(0,0,0);">&nbsp;tmp_it</span><span style="color:rgb(0,0,0);">-&gt;</span><span style="color:rgb(0,0,0);">level)&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;当前节点深度等于前一节点时，根据栈顶元素插入新节点</span><span style="color:rgb(0,128,0);"><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" alt="" /><img align="top" style="display:none;" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" alt="" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;" id="_1365_1440_Closed_Text">...</span><span id="_1365_1440_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hprev</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">st.top();<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hcur</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">m_tLexer.InsertItem(tmp,hprev,TVI_LAST);<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color:rgb(0,0,0);"><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" /><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hprev</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">hcur;<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmp_it</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">it;<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color:rgb(0,0,0);"><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" /><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;UpdateData(FALSE);<br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" alt="" />&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;end&nbsp;of&nbsp;else</span><span style="color:rgb(0,128,0);"><br /><img align="top" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockEnd.gif" alt="" /></span><span style="color:rgb(0,0,0);">}</span></span></div>
</div>
<p>&nbsp;&nbsp; PS1:&nbsp; 当初考虑到中文的支持，利用wstring定义节点内容，现在发现是个错误，在字符转换的过程中很是麻烦，耽误了不少时间，走了不少弯路。<br />&nbsp; PS2: 也许因为我对STL不是很熟悉，感觉比较麻烦，不知道如何被C++标准委员会接纳的？</p>

	</div>
	</div>
    
	<div class="post paper">	
    <h2 class="header"><a href="/2008/05/24/vc-logic-parser">利用VC设计简易逻辑表达式词法分析器</a></h2>
    <p>
    	<span class="glyphicon glyphicon-time"></span> Posted by <strong>Bo Yang</strong> at <strong>2008-05-24</strong> with tags <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#AI-ref" rel="nofollow">AI</a>, <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#Algorithm-ref" rel="nofollow">Algorithm</a>, <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#C/C++-ref" rel="nofollow">C/C++</a>
	</p>
	<hr>
    
    <div class="post_at_index thepost">
    	<p class="MsoNormal" style="text-align:center;" align="center"><span style="font-family:宋体;">简易逻辑表达式词法分析器</span></p>
<p class="MsoNormal" style="text-align:center;" align="center"><span style="font-family:宋体;"></span></p>
<p class="MsoNormal" style="text-indent:21pt;"><span style="font-family:宋体;">待分析的逻辑表达式如下：</span></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="font-size:9pt;font-family:新宋体;color:rgb(163,21,21);" lang="EN-US">EXISTS(x)(Missile(x) AND Owns(Father(Nono),Part_of(x))) =&gt; Sells(West,x,Nono)</span></p>
<p class="MsoNormal" style="text-indent:21pt;"><span style="font-family:宋体;">为了处理逻辑表达式，必须首先提取出逻辑表达式的各个部分：关键字</span><span lang="EN-US">(AND, OR, NOT, FORALL, EXISTS, =&gt;)</span><span style="font-family:宋体;">、谓词和参数，同时必须对于表达式中多余的空格必须删除。这项工作由一个词法分析器完成。</span></p>
<p class="MsoNormal" style="text-indent:21pt;"><span style="font-family:宋体;">该词法分析器最基础的部分是一个自定义节点</span><span lang="EN-US">Node</span><span style="font-family:宋体;">，定义如下：</span></p>
<div style="border:.5pt solid windowtext;padding:4px 5.4pt;background:rgb(230,230,230) none repeat scroll 0 0;-moz-background-clip:-moz-initial;-moz-background-origin:-moz-initial;width:95%;">
<div><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" align="top" /><span style="color:rgb(0,0,255);">class</span><span style="color:rgb(0,0,0);">&nbsp;Node<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockStart.gif" align="top" /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedBlock.gif" style="display:none;" align="top" /></span><span id="_11_489_Closed_Text" style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;">...</span><span id="_11_489_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color:rgb(0,0,255);">public</span><span style="color:rgb(0,0,0);">:<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;VARIABLEs</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" style="display:none;" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">enum</span><span style="color:rgb(0,0,0);">&nbsp;NodeType&nbsp;</span><span id="_50_76_Closed_Text" style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;">...</span><span id="_50_76_Open_Text"><span style="color:rgb(0,0,0);">{KEYWORD,&nbsp;PREDICATE,&nbsp;PARAM}</span></span><span style="color:rgb(0,0,0);">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;Types&nbsp;of&nbsp;the&nbsp;node.</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">static</span><span style="color:rgb(0,0,0);">&nbsp;wstring&nbsp;KeyWord[];<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;NodeType&nbsp;type;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;wstring&nbsp;content;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;content&nbsp;of&nbsp;the&nbsp;node.</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">int</span><span style="color:rgb(0,0,0);">&nbsp;level;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;Record&nbsp;the&nbsp;level&nbsp;of&nbsp;the&nbsp;node,for&nbsp;example:&nbsp;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;Owns(Nono,Sub(x))---"Owns"&nbsp;in&nbsp;level&nbsp;0,"Nono""Sub"&nbsp;in&nbsp;level&nbsp;1&nbsp;and&nbsp;x&nbsp;in&nbsp;level&nbsp;2.<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;FUNCTIONs</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;Node();<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;Node(wstring&nbsp;con,NodeType&nbsp;type_</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">KEYWORD,</span><span style="color:rgb(0,0,255);">int</span><span style="color:rgb(0,0,0);">&nbsp;lev</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">0</span><span style="color:rgb(0,0,0);">);<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,0);">~</span><span style="color:rgb(0,0,0);">Node();<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">virtual</span><span style="color:rgb(0,0,0);">&nbsp;Node</span><span style="color:rgb(0,0,0);">&amp;</span><span style="color:rgb(0,0,0);">&nbsp;</span><span style="color:rgb(0,0,255);">operator</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">(Node</span><span style="color:rgb(0,0,0);">&amp;</span><span style="color:rgb(0,0,0);">);&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;Overrides&nbsp;of&nbsp;operator=</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color:rgb(0,0,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color:rgb(0,0,255);">protected</span><span style="color:rgb(0,0,0);">:<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockEnd.gif" align="top" />}</span></span><span style="color:rgb(0,0,0);">;</span></div>
</div>
<p></p>
<p class="MsoNormal" style="margin-left:10.5pt;text-indent:21pt;"><span style="font-size:9pt;font-family:新宋体;" lang="EN-US"></span></p>
<p class="MsoNormal" style="text-indent:21pt;"><span lang="EN-US">Node</span><span style="font-family:宋体;">主要有三个部分：该节点内容、节点类型、节点的等级（用以对提取出的表达式进行进一步的分析）。</span></p>
<p class="MsoNormal" style="text-indent:21pt;"><span style="font-family:宋体;">同时定义了一个链表：</span></p>
<p class="MsoNormal" style="text-indent:21pt;"><span style="font-size:9pt;font-family:新宋体;color:blue;" lang="EN-US">typedef</span><span style="font-size:9pt;font-family:新宋体;" lang="EN-US"> list&lt;Node&gt; NodeList; <span style="color:green;">// Define List.</span></span></p>
<p class="MsoNormal" style="text-indent:21pt;"><span style="font-family:宋体;">该链表用于存储整个逻辑表达式。</span></p>
<p class="MsoNormal" style="text-indent:21pt;"><span style="font-family:宋体;">同时定义了一个类</span><span lang="EN-US">Parser</span><span style="font-family:宋体;">，封装了</span><span style="font-size:9pt;font-family:新宋体;" lang="EN-US">NodeList</span><span style="font-size:9pt;font-family:新宋体;">，</span><span style="font-family:宋体;">用于对逻辑表达式进行操作。</span></p>
<p class="MsoNormal" style="text-indent:21pt;"><span style="font-family:宋体;"></p>
<div style="border:.5pt solid windowtext;padding:4px 5.4pt;background:rgb(230,230,230) none repeat scroll 0 0;-moz-background-clip:-moz-initial;-moz-background-origin:-moz-initial;width:95%;">
<div><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" align="top" /><span style="color:rgb(0,0,255);">class</span><span style="color:rgb(0,0,0);">&nbsp;Parser<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockStart.gif" align="top" /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedBlock.gif" style="display:none;" align="top" /></span><span id="_13_201_Closed_Text" style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;">...</span><span id="_13_201_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color:rgb(0,0,255);">public</span><span style="color:rgb(0,0,0);">:<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;VARIABLEs</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;NodeList&nbsp;list;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;Node</span><span style="color:rgb(0,0,0);">*</span><span style="color:rgb(0,0,0);">&nbsp;node;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;FUNCTIONs</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" style="display:none;" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;Parser()</span><span id="_91_103_Closed_Text" style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;">...</span><span id="_91_103_Open_Text"><span style="color:rgb(0,0,0);">{&nbsp;node</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">NULL;}</span></span><span style="color:rgb(0,0,0);">;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,0);">~</span><span style="color:rgb(0,0,0);">Parser();<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;Node</span><span style="color:rgb(0,0,0);">*</span><span style="color:rgb(0,0,0);">&nbsp;Parse(wstring&nbsp;str,</span><span style="color:rgb(0,0,255);">int</span><span style="color:rgb(0,0,0);">&nbsp;cur_pos</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">0</span><span style="color:rgb(0,0,0);">);&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;function&nbsp;to&nbsp;parse&nbsp;a&nbsp;string.</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color:rgb(0,0,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color:rgb(0,0,255);">private</span><span style="color:rgb(0,0,0);">:<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockEnd.gif" align="top" />}</span></span><span style="color:rgb(0,0,0);">;</span></div>
</div>
<p></span></p>
<p class="MsoNormal" style="text-indent:21pt;"><span style="font-size:9pt;font-family:新宋体;color:rgb(163,21,21);" lang="EN-US"></span></p>
<p class="MsoNormal" style="text-indent:21pt;"><span style="font-family:宋体;">词法分析器的核心函数就是</span><span style="font-size:9pt;font-family:新宋体;" lang="EN-US">Node* Parser::Parse(wstring str,<span style="color:blue;">int</span> cur_pos)</span><span style="font-size:9pt;font-family:新宋体;">，</span><span style="font-family:宋体;">该函数主要针对逻辑表达式中的</span><span style="font-family:新宋体;" lang="EN-US">'('</span><span style="font-family:新宋体;">、<span lang="EN-US">' '</span>、<span lang="EN-US">','</span>以及<span lang="EN-US">')'</span>进行分析，流程图如下：</span></p>
<p class="MsoNormal" style="text-indent:21pt;"><span style="font-family:新宋体;"><img src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/%E8%AF%8D%E6%B3%95%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B%E5%9B%BE.JPG" alt="" /></span></p>
<p class="MsoNormal" style="text-indent:21pt;"></p>
<p class="MsoNormal" style="text-indent:21pt;">运行结果如下：</p>
<p class="MsoNormal" style="text-indent:21pt;"><img alt="词法分析器运行结果" src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/%E8%AF%8D%E6%B3%95%E5%88%86%E6%9E%90%E5%99%A8%E7%BB%93%E6%9E%9C.JPG" align="center" /></p>
<p class="MsoNormal" style="text-indent:21pt;"></p>
<p class="MsoNormal" style="text-indent:21pt;">&nbsp;<br />
分析结果以树的形式表示：同一级节点表示具有相同的等级，参数比它的谓词的等级要高，比如Missile(x)中Missile等级为0级，x为1级。分<br />
析之后各个节点存储在Parser.list中，可以根据该链表的节点的level属性将各节点插入树种的相应位置。<br />&nbsp;&nbsp;&nbsp;&nbsp; 分析以上逻辑表达式可知，各个节点的等级如下：<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Missile&nbsp; x&nbsp; AND&nbsp; Owns&nbsp; Nono&nbsp; Sub&nbsp; x&nbsp; =&gt;&nbsp; Sells&nbsp; West&nbsp; x&nbsp; Nono<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp; 2&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />
可见，利用堆栈来辅助将节点插入树中是最理想的方法。思路如下：将树的TVI_ROOT压栈；若当前节点的等级大于其前一个节点，将前一个节点压栈；若当<br />
前节点等级小于前一个节点，出栈前一节点等级 和&nbsp;<br />
当前节点等级之差次；若当前节点等级等于前一节点等级，既不压栈也不出栈。每个当前节点的父节点为栈顶元素。<br /><span style="font-family:新宋体;"></span></p>
<p class="MsoNormal" style="text-indent:21pt;"><span style="font-family:新宋体;"><br /></span></p>
<p class="MsoNormal" style="text-indent:21pt;"><span style="font-family:新宋体;">源代码如下：</span></p>
<p class="MsoNormal" style="text-indent:21pt;">
<div style="border:.5pt solid windowtext;padding:4px 5.4pt;background:rgb(230,230,230) none repeat scroll 0 0;-moz-background-clip:-moz-initial;-moz-background-origin:-moz-initial;width:95%;">
<div><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockStart.gif" align="top" /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedBlock.gif" style="display:none;" align="top" /><span id="_0_50_Closed_Text" style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;">/**/</span><span id="_0_50_Open_Text"><span style="color:rgb(128,128,128);">////////////////////////////////////////////////</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(128,128,128);"></span></span><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" align="top" /><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;&nbsp;&nbsp;&nbsp;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" align="top" /></span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;&nbsp;&nbsp;&nbsp;Function&nbsp;Name:&nbsp;Parse<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" align="top" /></span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;&nbsp;&nbsp;&nbsp;Input:&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;wstring(must),&nbsp;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" align="top" /></span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;start&nbsp;position&nbsp;of&nbsp;being&nbsp;parsed(choiced).<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" align="top" /></span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;&nbsp;&nbsp;&nbsp;Output:&nbsp;a&nbsp;parsed&nbsp;list's&nbsp;head.<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" align="top" /></span><span style="color:rgb(0,128,0);">//<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockStart.gif" align="top" /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedBlock.gif" style="display:none;" align="top" /></span><span id="_193_243_Closed_Text" style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;">/**/</span><span id="_193_243_Open_Text"><span style="color:rgb(128,128,128);">////////////////////////////////////////////////</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(128,128,128);"></span></span><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/None.gif" align="top" /><span style="color:rgb(0,0,0);">Node</span><span style="color:rgb(0,0,0);">*</span><span style="color:rgb(0,0,0);">&nbsp;Parser::Parse(wstring&nbsp;str,</span><span style="color:rgb(0,0,255);">int</span><span style="color:rgb(0,0,0);">&nbsp;cur_pos)<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockStart.gif" align="top" /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedBlock.gif" style="display:none;" align="top" /></span><span id="_289_3089_Closed_Text" style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;">...</span><span id="_289_3089_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;start=cur_pos;</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;Node</span><span style="color:rgb(0,0,0);">*</span><span style="color:rgb(0,0,0);">&nbsp;tmpNode</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">NULL;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;wchar_t&nbsp;pstr[</span><span style="color:rgb(0,0,0);">40</span><span style="color:rgb(0,0,0);">]</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">L</span><span style="color:rgb(0,0,0);">""</span><span style="color:rgb(0,0,0);">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;temp&nbsp;var&nbsp;to&nbsp;record&nbsp;words.</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">int</span><span style="color:rgb(0,0,0);">&nbsp;k</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">0</span><span style="color:rgb(0,0,0);">;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;used&nbsp;together&nbsp;with&nbsp;pstr.</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">int</span><span style="color:rgb(0,0,0);">&nbsp;level</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">0</span><span style="color:rgb(0,0,0);">;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">int</span><span style="color:rgb(0,0,0);">&nbsp;space_pos</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">0</span><span style="color:rgb(0,0,0);">;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;Deal&nbsp;with&nbsp;the&nbsp;first&nbsp;keywords&nbsp;of&nbsp;a&nbsp;propositional&nbsp;fuction.<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;Such&nbsp;as&nbsp;NOT,&nbsp;EXISTS(x),&nbsp;FORALL(y)&nbsp;and&nbsp;so&nbsp;on.<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;EXAMPLE:&nbsp;EXISTS(x)(Missile(x)&nbsp;AND&nbsp;Owns(Nono,x))&nbsp;=&gt;&nbsp;Sells(West,x,Nono)<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;EXAMPLE:&nbsp;NOT(Missile(x))&nbsp;AND&nbsp;Owns(Nono,Sub(x))&nbsp;=&gt;&nbsp;Sells(West,x,Nono)<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;EXAMPLE:&nbsp;Missile(x)&nbsp;AND&nbsp;Owns(Nono,Sub(x))&nbsp;=&gt;&nbsp;Sells(West,x,Nono)</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">while</span><span style="color:rgb(0,0,0);">(cur_pos</span><span style="color:rgb(0,0,0);">!=</span><span style="color:rgb(0,0,0);">str.length())<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" style="display:none;" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="_814_3064_Closed_Text" style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;">...</span><span id="_814_3064_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">if</span><span style="color:rgb(0,0,0);">(str[cur_pos]</span><span style="color:rgb(0,0,0);">==</span><span style="color:rgb(0,0,0);">L</span><span style="color:rgb(0,0,0);">'</span><span style="color:rgb(0,0,0);">(</span><span style="color:rgb(0,0,0);">'</span><span style="color:rgb(0,0,0);">)&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;Words&nbsp;before&nbsp;'('&nbsp;only&nbsp;can&nbsp;be&nbsp;KEYWORD&nbsp;or&nbsp;PREDICATE.</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" style="display:none;" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="_897_1409_Closed_Text" style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;">...</span><span id="_897_1409_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">bool</span><span style="color:rgb(0,0,0);">&nbsp;isKeyWord</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,255);">false</span><span style="color:rgb(0,0,0);">;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">for</span><span style="color:rgb(0,0,0);">(</span><span style="color:rgb(0,0,255);">int</span><span style="color:rgb(0,0,0);">&nbsp;i</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">0</span><span style="color:rgb(0,0,0);">;i</span><span style="color:rgb(0,0,0);">&lt;</span><span style="color:rgb(0,0,255);">sizeof</span><span style="color:rgb(0,0,0);">(Node::KEYWORD);</span><span style="color:rgb(0,0,0);">++</span><span style="color:rgb(0,0,0);">i)<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" style="display:none;" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="_971_1192_Closed_Text" style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;">...</span><span id="_971_1192_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">if</span><span style="color:rgb(0,0,0);">(</span><span style="color:rgb(0,0,0);">!</span><span style="color:rgb(0,0,0);">wcscmp(pstr,Node::KeyWord[i].c_str()))&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">pstr==Node::KeyWord[i]</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" style="display:none;" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="_1049_1187_Closed_Text" style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;">...</span><span id="_1049_1187_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isKeyWord</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,255);">true</span><span style="color:rgb(0,0,0);">;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpNode</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,255);">new</span><span style="color:rgb(0,0,0);">&nbsp;Node(pstr,Node::KEYWORD,level);<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list.push_back(</span><span style="color:rgb(0,0,0);">*</span><span style="color:rgb(0,0,0);">tmpNode);&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;Insert&nbsp;keyword.</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">break</span><span style="color:rgb(0,0,0);">;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color:rgb(0,0,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color:rgb(0,0,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">if</span><span style="color:rgb(0,0,0);">(</span><span style="color:rgb(0,0,0);">!</span><span style="color:rgb(0,0,0);">isKeyWord&nbsp;</span><span style="color:rgb(0,0,0);">&amp;&amp;</span><span style="color:rgb(0,0,0);">&nbsp;wcscmp(pstr,L</span><span style="color:rgb(0,0,0);">""</span><span style="color:rgb(0,0,0);">))&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">pstr&nbsp;is&nbsp;not&nbsp;keyword&nbsp;or&nbsp;NULL</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" style="display:none;" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="_1265_1371_Closed_Text" style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;">...</span><span id="_1265_1371_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpNode</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,255);">new</span><span style="color:rgb(0,0,0);">&nbsp;Node(pstr,Node::PREDICATE,level);<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list.push_back(</span><span style="color:rgb(0,0,0);">*</span><span style="color:rgb(0,0,0);">tmpNode);&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;Insert&nbsp;PREDICATE.</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color:rgb(0,0,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,0);">++</span><span style="color:rgb(0,0,0);">level;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,0);">++</span><span style="color:rgb(0,0,0);">cur_pos;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">0</span><span style="color:rgb(0,0,0);">;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color:rgb(0,0,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">else</span><span style="color:rgb(0,0,0);">&nbsp;</span><span style="color:rgb(0,0,255);">if</span><span style="color:rgb(0,0,0);">(str[cur_pos]</span><span style="color:rgb(0,0,0);">==</span><span style="color:rgb(0,0,0);">L</span><span style="color:rgb(0,0,0);">'</span><span style="color:rgb(0,0,0);">&nbsp;</span><span style="color:rgb(0,0,0);">'</span><span style="color:rgb(0,0,0);">)<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" style="display:none;" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="_1443_2068_Closed_Text" style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;">...</span><span id="_1443_2068_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">if</span><span style="color:rgb(0,0,0);">(str[cur_pos</span><span style="color:rgb(0,0,0);">-</span><span style="color:rgb(0,0,0);">1</span><span style="color:rgb(0,0,0);">]</span><span style="color:rgb(0,0,0);">!=</span><span style="color:rgb(0,0,0);">L</span><span style="color:rgb(0,0,0);">'</span><span style="color:rgb(0,0,0);">)</span><span style="color:rgb(0,0,0);">'</span><span style="color:rgb(0,0,0);">)&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;if&nbsp;a&nbsp;'&nbsp;'&nbsp;follows&nbsp;')',then&nbsp;compare&nbsp;the&nbsp;following&nbsp;to&nbsp;or&nbsp;three&nbsp;with&nbsp;keyword.</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" style="display:none;" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="_1553_2010_Closed_Text" style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;">...</span><span id="_1553_2010_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">if</span><span style="color:rgb(0,0,0);">(wcscmp(pstr,L</span><span style="color:rgb(0,0,0);">""</span><span style="color:rgb(0,0,0);">))&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;pstr&nbsp;is&nbsp;not&nbsp;empty&nbsp;</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" style="display:none;" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="_1606_2005_Closed_Text" style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;">...</span><span id="_1606_2005_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wstring&nbsp;strAND(str,cur_pos</span><span style="color:rgb(0,0,0);">-</span><span style="color:rgb(0,0,0);">3</span><span style="color:rgb(0,0,0);">,</span><span style="color:rgb(0,0,0);">3</span><span style="color:rgb(0,0,0);">);<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wstring&nbsp;strOR(str,cur_pos</span><span style="color:rgb(0,0,0);">-</span><span style="color:rgb(0,0,0);">2</span><span style="color:rgb(0,0,0);">,</span><span style="color:rgb(0,0,0);">2</span><span style="color:rgb(0,0,0);">);<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">if</span><span style="color:rgb(0,0,0);">(</span><span style="color:rgb(0,0,0);">!</span><span style="color:rgb(0,0,0);">strAND.compare(L</span><span style="color:rgb(0,0,0);">"</span><span style="color:rgb(0,0,0);">AND</span><span style="color:rgb(0,0,0);">"</span><span style="color:rgb(0,0,0);">)&nbsp;</span><span style="color:rgb(0,0,0);">||</span><span style="color:rgb(0,0,0);">&nbsp;</span><span style="color:rgb(0,0,0);">!</span><span style="color:rgb(0,0,0);">strOR.compare(L</span><span style="color:rgb(0,0,0);">"</span><span style="color:rgb(0,0,0);">OR</span><span style="color:rgb(0,0,0);">"</span><span style="color:rgb(0,0,0);">)&nbsp;</span><span style="color:rgb(0,0,0);">||</span><span style="color:rgb(0,0,0);">&nbsp;</span><span style="color:rgb(0,0,0);">!</span><span style="color:rgb(0,0,0);">strOR.compare(L</span><span style="color:rgb(0,0,0);">"</span><span style="color:rgb(0,0,0);">=&gt;</span><span style="color:rgb(0,0,0);">"</span><span style="color:rgb(0,0,0);">))<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" style="display:none;" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="_1771_1963_Closed_Text" style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;">...</span><span id="_1771_1963_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpNode</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,255);">new</span><span style="color:rgb(0,0,0);">&nbsp;Node(pstr,Node::KEYWORD,level);<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list.push_back(</span><span style="color:rgb(0,0,0);">*</span><span style="color:rgb(0,0,0);">tmpNode);&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;Insert&nbsp;keyword.</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,0);">++</span><span style="color:rgb(0,0,0);">cur_pos;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">0</span><span style="color:rgb(0,0,0);">;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;memset(pstr,L</span><span style="color:rgb(0,0,0);">'</span><span style="color:rgb(0,0,0);"></span><span style="color:rgb(0,0,0);">'</span><span style="color:rgb(0,0,0);">,</span><span style="color:rgb(0,0,255);">sizeof</span><span style="color:rgb(0,0,0);">(pstr));<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">continue</span><span style="color:rgb(0,0,0);">;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color:rgb(0,0,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">else</span><span style="color:rgb(0,0,0);">&nbsp;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(</span><span style="color:rgb(0,0,0);">0</span><span style="color:rgb(0,0,0);">);&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;Error!</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color:rgb(0,0,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color:rgb(0,0,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,0);">++</span><span style="color:rgb(0,0,0);">cur_pos;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;Ignore&nbsp;whitespace.</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">continue</span><span style="color:rgb(0,0,0);">;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color:rgb(0,0,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">else</span><span style="color:rgb(0,0,0);">&nbsp;</span><span style="color:rgb(0,0,255);">if</span><span style="color:rgb(0,0,0);">(str[cur_pos]</span><span style="color:rgb(0,0,0);">==</span><span style="color:rgb(0,0,0);">L</span><span style="color:rgb(0,0,0);">'</span><span style="color:rgb(0,0,0);">,</span><span style="color:rgb(0,0,0);">'</span><span style="color:rgb(0,0,0);">)&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;pstr&nbsp;must&nbsp;be&nbsp;a&nbsp;param</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" style="display:none;" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="_2126_2542_Closed_Text" style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;">...</span><span id="_2126_2542_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">if</span><span style="color:rgb(0,0,0);">(</span><span style="color:rgb(0,0,0);">!</span><span style="color:rgb(0,0,0);">wcscmp(pstr,L</span><span style="color:rgb(0,0,0);">""</span><span style="color:rgb(0,0,0);">)&nbsp;</span><span style="color:rgb(0,0,0);">&amp;&amp;</span><span style="color:rgb(0,0,0);">&nbsp;str[cur_pos</span><span style="color:rgb(0,0,0);">-</span><span style="color:rgb(0,0,0);">1</span><span style="color:rgb(0,0,0);">]</span><span style="color:rgb(0,0,0);">==</span><span style="color:rgb(0,0,0);">L</span><span style="color:rgb(0,0,0);">'</span><span style="color:rgb(0,0,0);">)</span><span style="color:rgb(0,0,0);">'</span><span style="color:rgb(0,0,0);">)&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;In&nbsp;a&nbsp;case&nbsp;like:&nbsp;Owns(Father(Nono),Sub(x))</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" style="display:none;" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="_2225_2245_Closed_Text" style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;">...</span><span id="_2225_2245_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,0);">++</span><span style="color:rgb(0,0,0);">cur_pos;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color:rgb(0,0,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">else</span><span style="color:rgb(0,0,0);">&nbsp;</span><span style="color:rgb(0,0,255);">if</span><span style="color:rgb(0,0,0);">(wcscmp(pstr,L</span><span style="color:rgb(0,0,0);">""</span><span style="color:rgb(0,0,0);">))&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;pstr&nbsp;is&nbsp;not&nbsp;empty&nbsp;</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" style="display:none;" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="_2301_2527_Closed_Text" style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;">...</span><span id="_2301_2527_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">if</span><span style="color:rgb(0,0,0);">(str[cur_pos</span><span style="color:rgb(0,0,0);">-</span><span style="color:rgb(0,0,0);">1</span><span style="color:rgb(0,0,0);">]</span><span style="color:rgb(0,0,0);">==</span><span style="color:rgb(0,0,0);">L</span><span style="color:rgb(0,0,0);">'</span><span style="color:rgb(0,0,0);">)</span><span style="color:rgb(0,0,0);">'</span><span style="color:rgb(0,0,0);">)&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;Something&nbsp;between&nbsp;a&nbsp;')'&nbsp;and&nbsp;a&nbsp;',',&nbsp;Error!</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(</span><span style="color:rgb(0,0,0);">1</span><span style="color:rgb(0,0,0);">);<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">else</span><span style="color:rgb(0,0,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" style="display:none;" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="_2404_2521_Closed_Text" style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;">...</span><span id="_2404_2521_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpNode</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,255);">new</span><span style="color:rgb(0,0,0);">&nbsp;Node(pstr,Node::PARAM,level);<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list.push_back(</span><span style="color:rgb(0,0,0);">*</span><span style="color:rgb(0,0,0);">tmpNode);&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;Insert&nbsp;PARAM.</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,0);">++</span><span style="color:rgb(0,0,0);">cur_pos;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">0</span><span style="color:rgb(0,0,0);">;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color:rgb(0,0,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">else</span><span style="color:rgb(0,0,0);">&nbsp;</span><span style="color:rgb(0,0,255);">if</span><span style="color:rgb(0,0,0);">(str[cur_pos]</span><span style="color:rgb(0,0,0);">==</span><span style="color:rgb(0,0,0);">L</span><span style="color:rgb(0,0,0);">'</span><span style="color:rgb(0,0,0);">)</span><span style="color:rgb(0,0,0);">'</span><span style="color:rgb(0,0,0);">)&nbsp;&nbsp;&nbsp;&nbsp;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" style="display:none;" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="_2577_2968_Closed_Text" style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;">...</span><span id="_2577_2968_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">if</span><span style="color:rgb(0,0,0);">(</span><span style="color:rgb(0,0,0);">!</span><span style="color:rgb(0,0,0);">wcscmp(pstr,L</span><span style="color:rgb(0,0,0);">""</span><span style="color:rgb(0,0,0);">)&nbsp;</span><span style="color:rgb(0,0,0);">&amp;&amp;</span><span style="color:rgb(0,0,0);">&nbsp;str[cur_pos</span><span style="color:rgb(0,0,0);">-</span><span style="color:rgb(0,0,0);">1</span><span style="color:rgb(0,0,0);">]</span><span style="color:rgb(0,0,0);">==</span><span style="color:rgb(0,0,0);">L</span><span style="color:rgb(0,0,0);">'</span><span style="color:rgb(0,0,0);">)</span><span style="color:rgb(0,0,0);">'</span><span style="color:rgb(0,0,0);">)&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;In&nbsp;a&nbsp;case&nbsp;like:&nbsp;Owns(Father(Nono),Sub(x))</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" style="display:none;" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="_2676_2696_Closed_Text" style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;">...</span><span id="_2676_2696_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,0);">++</span><span style="color:rgb(0,0,0);">cur_pos;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color:rgb(0,0,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">else</span><span style="color:rgb(0,0,0);">&nbsp;</span><span style="color:rgb(0,0,255);">if</span><span style="color:rgb(0,0,0);">(wcscmp(pstr,L</span><span style="color:rgb(0,0,0);">""</span><span style="color:rgb(0,0,0);">))&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">if&nbsp;pstr&nbsp;is&nbsp;not&nbsp;empty</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" style="display:none;" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="_2753_2943_Closed_Text" style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;">...</span><span id="_2753_2943_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">if</span><span style="color:rgb(0,0,0);">(str[cur_pos</span><span style="color:rgb(0,0,0);">-</span><span style="color:rgb(0,0,0);">1</span><span style="color:rgb(0,0,0);">]</span><span style="color:rgb(0,0,0);">==</span><span style="color:rgb(0,0,0);">L</span><span style="color:rgb(0,0,0);">'</span><span style="color:rgb(0,0,0);">)</span><span style="color:rgb(0,0,0);">'</span><span style="color:rgb(0,0,0);">)&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;Error!</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exit(</span><span style="color:rgb(0,0,0);">1</span><span style="color:rgb(0,0,0);">);<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">else</span><span style="color:rgb(0,0,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" style="display:none;" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="_2821_2938_Closed_Text" style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;">...</span><span id="_2821_2938_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmpNode</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,255);">new</span><span style="color:rgb(0,0,0);">&nbsp;Node(pstr,Node::PARAM,level);<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list.push_back(</span><span style="color:rgb(0,0,0);">*</span><span style="color:rgb(0,0,0);">tmpNode);&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,128,0);">//</span><span style="color:rgb(0,128,0);">&nbsp;Insert&nbsp;PARAM.</span><span style="color:rgb(0,128,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /></span><span style="color:rgb(0,0,0);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,0);">++</span><span style="color:rgb(0,0,0);">cur_pos;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color:rgb(0,0,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color:rgb(0,0,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,0);">--</span><span style="color:rgb(0,0,0);">level;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">0</span><span style="color:rgb(0,0,0);">;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color:rgb(0,0,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">else</span><span style="color:rgb(0,0,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockStart.gif" align="top" /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ContractedSubBlock.gif" style="display:none;" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="_2979_3025_Closed_Text" style="border:1px solid rgb(128,128,128);background-color:rgb(255,255,255);display:none;">...</span><span id="_2979_3025_Open_Text"><span style="color:rgb(0,0,0);">{<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pstr[k</span><span style="color:rgb(0,0,0);">++</span><span style="color:rgb(0,0,0);">]</span><span style="color:rgb(0,0,0);">=</span><span style="color:rgb(0,0,0);">str[cur_pos</span><span style="color:rgb(0,0,0);">++</span><span style="color:rgb(0,0,0);">];<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">continue</span><span style="color:rgb(0,0,0);">;<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color:rgb(0,0,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" /><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;memset(pstr,L</span><span style="color:rgb(0,0,0);">'</span><span style="color:rgb(0,0,0);"></span><span style="color:rgb(0,0,0);">'</span><span style="color:rgb(0,0,0);">,</span><span style="color:rgb(0,0,255);">sizeof</span><span style="color:rgb(0,0,0);">(pstr));<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedSubBlockEnd.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;}</span></span><span style="color:rgb(0,0,0);"><br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/InBlock.gif" align="top" />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color:rgb(0,0,255);">return</span><span style="color:rgb(0,0,0);">&nbsp;</span><span style="color:rgb(0,0,0);">&amp;</span><span style="color:rgb(0,0,0);">list.front();<br /><img alt="" src="http://images.csdn.net/syntaxhighlighting/OutliningIndicators/ExpandedBlockEnd.gif" align="top" />}</span></span></div>
</div>
<p><span style="font-family:新宋体;"></span><span lang="EN-US"></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p></p>

	</div>
	</div>
    
	<div class="post paper">	
    <h2 class="header"><a href="/2008/05/23/draw-emc-test-curve">线性坐标系到对数坐标系的变换——EMC测试曲线的绘制</a></h2>
    <p>
    	<span class="glyphicon glyphicon-time"></span> Posted by <strong>Bo Yang</strong> at <strong>2008-05-23</strong> with tags <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#C/C++-ref" rel="nofollow">C/C++</a>, <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#EMC-ref" rel="nofollow">EMC</a>
	</p>
	<hr>
    
    <div class="post_at_index thepost">
    	<p>        <span style="font-size:10.5pt;font-family:宋体;"><br />&nbsp;&nbsp;&nbsp; 绘制测试曲线的核心函数为</span><span lang="EN-US" style='font-size:10.5pt;font-family:"Calibri", "sans-serif";'>CEMCView::DrawFrameCurve()</span><span style="font-size:10.5pt;font-family:宋体;">函数。该函数可以根据测试的频段和该频段的测试数据在对数坐标系的对应位置绘制测试曲线。</span><span lang="EN-US" style='font-size:10.5pt;font-family:"Calibri", "sans-serif";'>DrawFrameCurve()</span><span style="font-size:10.5pt;font-family:宋体;">函数绘制曲线的流程图如图</span><span lang="EN-US" style='font-size:10.5pt;font-family:"Calibri", "sans-serif";'>1</span><span style="font-size:10.5pt;font-family:宋体;">所示：</p>
<p></span></p>
<div style="text-align:center;"><span style="font-size:10.5pt;font-family:宋体;"><img alt="" src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/测试流程图.JPG" /><br />图1 测试流程图</p>
<p></span><span style="font-size:10.5pt;font-family:宋体;"></span></div>
<div style="text-align:center;"><span style="font-size:10.5pt;font-family:宋体;"><img alt="" src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/R3131A.JPG" /></span><br /><span style="font-size:10.5pt;font-family:宋体;"></span></div>
<p><span style="font-size:10.5pt;font-family:宋体;">&nbsp;<br /></span></p>
<p class="MsoNormal" style="text-align:center;"><span style="font-family:宋体;">&nbsp;&nbsp;&nbsp; 图2 R3131A屏幕显示的线性坐标系</span></p>
<p class="MsoNormal" style="text-align:center;"><span style="font-family:宋体;"><br /></span></p>
<p align="left" class="MsoNormal" style="text-align:left;"><span style="font-family:宋体;">&nbsp;&nbsp;&nbsp; 每次测试，</span><span lang="EN-US">Advantest R3131A</span><span style="font-family:宋体;">频谱仪都会对所测频段采样</span><span lang="EN-US">501</span><span style="font-family:宋体;">个点，每个点对应的测试值不小于</span><span lang="EN-US">512</span><span style="font-family:宋体;">，如图</span><span lang="EN-US">3-29</span><span style="font-family:宋体;">所示。大于</span><span lang="EN-US">3392</span><span style="font-family:宋体;">的数值不在频谱仪屏幕上显示，但会记录下这个值，因为这个值也是有效的。</span><span lang="EN-US">Advantest R3131A</span><span style="font-family:宋体;">频谱仪默认纵轴每格代表</span><span lang="EN-US">10dB</span><span style="font-family:宋体;">，因此频谱仪的测试值</span><span lang="EN-US">3392-512=2880</span><span style="font-family:宋体;">对应着</span><span lang="EN-US">80dB</span><span style="font-family:宋体;">。对于在计算机上绘制的对数坐标系而言，若纵轴表示</span><span lang="EN-US">0</span><span style="font-family:宋体;">～</span><span lang="EN-US">M dB</span><span style="font-family:宋体;">，因此对数坐标系纵坐标最大值对应的频谱仪测试值为：</span><span lang="EN-US"></span></p>
<p align="center" class="MsoNormal" style="text-align:center;"><span lang="EN-US"><img alt="" src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/dtop.JPG" /><br /><span style="position:relative;top:12pt;"><!--[if !vml]--></span></span></p>
<p align="center" class="MsoNormal" style="text-align:center;"><span lang="EN-US"><span style="position:relative;top:12pt;"><!--[endif]--></span></span></p>
<p align="left" class="MsoNormal" style="text-align:left;"><span lang="EN-US"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:宋体;">设<span style="font-style:italic;">Y</span><sub>top</sub></span><span lang="EN-US" style="font-style:italic;"><span style="position:relative;top:7pt;"><!--[if !vml]--><!--[endif]--></span></span><span style="font-family:宋体;">为对数坐标系左上角对应的计算机屏幕上的纵坐标值，</span><span lang="EN-US"><span style="position:relative;top:6pt;"></span></span><span style="font-family:宋体;"><span style="font-style:italic;">Y</span><sub>bot</sub>表示对数坐标系左下角对应的计算机屏幕上的纵坐标值，<span style="font-style:italic;">y</span></span><span lang="EN-US"><span style="position:relative;top:5pt;"><!--[endif]--></span></span><span style="font-family:宋体;">表示对数坐标系中某个测试点对应的计算机屏幕上的纵坐标值，<span style="font-style:italic;">d</span></span><span lang="EN-US"><span style="position:relative;top:3pt;"><!--[endif]--></span></span><span style="font-family:宋体;">表示该测试点对应的频谱仪测试值，对数坐标系纵坐标从</span><span lang="EN-US">0</span><span style="font-family:宋体;">开始，则：</span><span lang="EN-US"></span></p>
<p align="center" class="MsoNormal" style="text-align:center;"><span lang="EN-US"><span style="position:relative;top:16pt;"><!--[if !vml]--><img alt="" src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/dtop2.JPG" /><!--[endif]--></span></span></p>
<p align="left" class="MsoNormal" style="text-align:left;"><span style="font-family:宋体;"><br /></span></p>
<p align="left" class="MsoNormal" style="text-align:left;"><span style="font-family:宋体;">因此，</span><span lang="EN-US"></span></p>
<p class="MsoNormal" style="text-align:center;"><span lang="EN-US"><span style="position:relative;top:16pt;"><!--[if !vml]--></span><span><img alt="" src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/y.JPG" /><br /></span></span></p>
<p align="right" class="MsoNormal" style="text-align:right;"><span lang="EN-US"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:red;">(3-1)</span></span></p>
<p align="left" class="MsoNormal" style="text-align:left;text-indent:21pt;"><span style="font-family:宋体;">对于横坐标，如果已知测试的起始频率为</span><span lang="EN-US"><span style="position:relative;top:6pt;"><!--[if !vml]--></span></span><span style="font-family:宋体;">f<sub>start</sub>，起始频率对应的计算机横坐标为</span><span lang="EN-US"><span style="position:relative;top:6pt;"><!--[if !vml]--></span><span>x<sub>start</sub></span></span><span style="font-family:宋体;">，测试终止频率为</span><span lang="EN-US"><span style="position:relative;top:7pt;"><!--[if !vml]--></span></span><span style="font-family:宋体;">f<sub>stop</sub>，测试终止频率对应的计算机横坐标为</span><span lang="EN-US"><span style="position:relative;top:7pt;"><!--[if !vml]--></span></span><span style="font-family:宋体;">x<sub>stop</sub>，该频段的起始频率为</span><span lang="EN-US"><span style="position:relative;top:7pt;"><!--[if !vml]--></span></span><span style="font-family:宋体;">f<sub>frmstart</sub>，结合图</span><span lang="EN-US">3-16</span><span style="font-family:宋体;">可得该频段起始频率对应的计算机坐标</span><span lang="EN-US"><span style="position:relative;top:7pt;"><!--[if !vml]--></span></span><span style="font-family:宋体;">有：</span></p>
<p class="MsoNormal" style="text-align:center;text-indent:21pt;"><img alt="" src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/x.JPG" /><span style="font-family:宋体;"></span></p>
<p class="MsoNormal" style="text-align:center;text-indent:21pt;"><span style="font-family:宋体;"><br /></span></p>
<p align="center" class="MsoNormal" style="text-align:center;"><span lang="EN-US"><span style="position:relative;top:16pt;"><!--[if !vml]--><!--[endif]--></span></span></p>
<p align="left" class="MsoNormal" style="text-align:left;"><span style="font-family:宋体;">因此</span></p>
<p class="MsoNormal" style="text-align:center;"><span style="font-family:宋体;"><img alt="" src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/xfrmstart.JPG" /></span></p>
<p align="left" class="MsoNormal" style="text-align:left;">&nbsp;</p>
<p align="left" class="MsoNormal" style="text-align:left;">&nbsp;</p>
<p align="left" class="MsoNormal" style="text-align:left;"><span style="font-family:宋体;"></span><span lang="EN-US"></span></p>
<p align="center" class="MsoNormal" style="text-align:center;"><span lang="EN-US"><span style="position:relative;top:35pt;"><!--[if !vml]--><!--[endif]--></span></span></p>
<p align="left" class="MsoNormal" style="text-align:left;"><span lang="EN-US"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:宋体;">如果每个测试频段有</span><span lang="EN-US"><span style="position:relative;top:3pt;"><!--[if !vml]--></span></span><span style="font-family:宋体;">N个采样点，也即有</span><span lang="EN-US"><span style="position:relative;top:3pt;"><!--[if !vml]--></span></span><span style="font-family:宋体;">N个测试数据，那么该频段中第</span><span lang="EN-US"><span style="position:relative;top:3pt;"><!--[if !vml]--></span></span><span style="font-family:宋体;">i个数据对应的频率为</span><span lang="EN-US"><span style="position:relative;top:6pt;"><!--[if !vml]--><!--[endif]--></span></span><span style="font-family:宋体;">f<sub>i</sub>，且</span><span lang="EN-US"></span></p>
<p align="center" class="MsoNormal" style="text-align:center;"><span lang="EN-US"><span style="position:relative;top:12pt;"><!--[if !vml]--></span></span><span style="font-family:宋体;"><img alt="" src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/fi.JPG" /></span><span lang="EN-US"><span style="position:relative;top:5pt;"><!--[endif]--></span></span></p>
<p align="left" class="MsoNormal" style="text-align:left;"><span style="font-family:宋体;">式中，</span><span lang="EN-US"><span>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span lang="EN-US"><span style="position:relative;top:7pt;"><!--[if !vml]--></span></span><span style="font-family:宋体;">f<sub>frmstop</sub>&mdash;&mdash;测试频段的终止频率。</span><span lang="EN-US"></span></p>
<p align="left" class="MsoNormal" style="text-align:left;"><span style="font-family:宋体;">第</span><span lang="EN-US"><span style="position:relative;top:3pt;"><!--[if !vml]--></span></span><span style="font-family:宋体;">i个数据对应的计算机横坐标为：</span></p>
<p class="MsoNormal" style="text-align:center;"><img alt="" src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/xi.JPG" /></p>
<p class="MsoNormal" style="text-align:center;"><span style="font-family:宋体;"></span><span lang="EN-US"></span></p>
<p align="right" class="MsoNormal" style="text-align:right;"><span lang="EN-US"><span style="position:relative;top:35pt;"><!--[if !vml]--></span></span><span lang="EN-US"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color:red;">(3-2)</span></span></p>
<p align="left" class="MsoNormal" style="text-align:left;"><span lang="EN-US"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:宋体;">如果在某个测试频段内的第</span><span lang="EN-US"><span style="position:relative;top:3pt;"><!--[if !vml]--></span></span><span style="font-family:宋体;">i个数据的测试值为</span><span lang="EN-US"><span style="position:relative;top:3pt;"><!--[if !vml]--><!--[endif]--></span></span><span style="font-family:宋体;">d，则该点对应的计算机屏幕坐标为(x<sub>i</sub>,y<sub>i</sub>)</span><span lang="EN-US"><span style="position:relative;top:6pt;"><!--[if !vml]--><!--[endif]--></span></span><span style="font-family:宋体;">，</span><span lang="EN-US"><span style="position:relative;top:6pt;"><!--[if !vml]--></span></span><span style="font-family:宋体;">x<sub>i</sub>、y<sub>i</sub></span><span lang="EN-US"><span style="position:relative;top:6pt;"><!--[endif]--></span></span><span style="font-family:宋体;">可分别根据式</span><span lang="EN-US" style="color:red;">(3-1)</span><span style="font-family:宋体;">和式</span><span lang="EN-US" style="color:red;">(3-2)</span><span style="font-family:宋体;">求出。</span></p>
<p align="left" class="MsoNormal" style="text-align:left;">&nbsp;</p>
<p align="left" class="MsoNormal" style="text-align:left;">PS:</p>
<p align="left" class="MsoNormal" style="text-align:left;">&nbsp;&nbsp;&nbsp; <font size="4"><span style="color:rgb(255,0,0);">CSDN不支持把Word中的公式自动保存为图片实在是太难用了，每次都要自己先把公式转化为图片然后再插入到文章里，麻烦！</span></font><span style="font-family:宋体;"></span><span lang="EN-US"></span></p>

	</div>
	</div>
    
	<div class="post paper">	
    <h2 class="header"><a href="/2008/05/22/emc-cbr-3">案例检索——EMC-CBR故障诊断研究（三）</a></h2>
    <p>
    	<span class="glyphicon glyphicon-time"></span> Posted by <strong>Bo Yang</strong> at <strong>2008-05-22</strong> with tags <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#AI-ref" rel="nofollow">AI</a>, <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#EMC-ref" rel="nofollow">EMC</a>
	</p>
	<hr>
    
    <div class="post_at_index thepost">
    	<p style="text-indent:18pt;" class="MsoListParagraph"><span style="font-family:宋体;"><br /></span></p>
<p style="text-indent:18pt;" class="MsoListParagraph"><font size="3"><span style="font-family:宋体;">案例检索的核心任务就是计算新案例和案例库中的案例的相似度，而相似度要由案例的故障特征和系统结构确定。</span></font></p>
<p style="text-indent:18pt;" class="MsoListParagraph"><font size="3"><span style="font-family:宋体;"></span><span lang="EN-US"></span></font></p>
<p style="text-indent:18pt;" class="MsoListParagraph"><font size="3"><span style="font-family:宋体;">（</span><span lang="EN-US">1</span><span style="font-family:宋体;">）案例属性之间的距离</span><span lang="EN-US"></span></font></p>
<p style="text-indent:18pt;" class="MsoListParagraph"><font size="3"><span style="font-family:宋体;">由于系统结构直接影响着</span><span lang="EN-US">EMI</span><span style="font-family:宋体;">的大小，即便两个设备具有相同的物理布局但采用不同的元件或材料，其</span><span lang="EN-US">EMC</span><span style="font-family:宋体;">的效果也是不同的，因此两个案例之间的&ldquo;系统结构&rdquo;之间的距离不仅和谓词相关，而且要考虑到谓词函数的参数&mdash;&mdash;谓词往往表示结构布局，而参数往往表示材料或元件。因此，在计算案例属性之间的距离时，对于案例属性中的谓词和参数要赋予不同的权值。</span><span lang="EN-US"></span></font></p>
<p style="text-indent:18pt;" class="MsoListParagraph"><font size="3"><span style="font-family:宋体;">设</span><span lang="EN-US" style='font-family:"Times New Roman", "serif";'>case-i</span><span style="font-family:宋体;">的某个属性</span><span lang="EN-US" style='font-family:"Times New Roman", "serif";'>(</span><span style="font-family:宋体;">故障特征或系统结构</span><span lang="EN-US" style='font-family:"Times New Roman", "serif";'>)</span><span style="font-family:宋体;">有</span><span lang="EN-US" style='font-family:"Times New Roman", "serif";'>m</span><span style="font-family:宋体;">个谓词，</span><span lang="EN-US" style='font-family:"Times New Roman", "serif";'>case-j</span><span style="font-family:宋体;">对应的该属性有</span><span lang="EN-US" style='font-family:"Times New Roman", "serif";'>n</span><span style="font-family:宋体;">个谓词，且二者相同的谓词个数为</span><span lang="EN-US" style='font-family:"Times New Roman", "serif";'>k</span><span style="font-family:宋体;">，其中</span><span lang="EN-US" style='font-family:"Times New Roman", "serif";'>min(m,n)</span><span style="font-family:宋体;">&ge;</span><span lang="EN-US" style='font-family:"Times New Roman", "serif";'>k</span><span style="font-family:宋体;">。若该属性中，谓词权重为<img alt="" src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/Omegap.JPG" /></span><span lang="EN-US"><span style="position:relative;top:7pt;"><!--[if !vml]--><!--[endif]--></span></span><span style="font-family:宋体;">，参数权重为</span><span lang="EN-US"><span style="position:relative;top:7pt;"><!--[if !vml]--><!--[endif]--></span></span><span style="font-family:宋体;"><img alt="" src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/Omegaq.JPG" />，<img alt="" src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/OmegaAdd.JPG" /></span><span lang="EN-US"><span style="position:relative;top:7pt;"><!--[if !vml]--><!--[endif]--></span></span><span style="font-family:宋体;">，则定义两案例在该属性的距离为</span><span lang="EN-US"></span></font></p>
<p align="center" style="text-align:center;text-indent:18pt;" class="MsoListParagraph"><font size="3"><span lang="EN-US"><span style="position:relative;top:12pt;"><!--[if !vml]--><img alt="" src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/dij.JPG" /><!--[endif]--></span></span><span lang="EN-US"></span></font></p>
<p align="left" style="text-align:left;text-indent:0;" class="MsoListParagraph"><font size="3"><span style="font-family:宋体;">其中，</span> <span lang="EN-US"><span style="position:relative;top:7pt;"><!--[if !vml]--><!--[endif]--></span></span><span style="font-family:宋体;"><img alt="" src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/bijh.JPG" />为</span><span lang="EN-US" style='font-family:"Times New Roman", "serif";'>case-i</span><span style="font-family:宋体;">、</span><span lang="EN-US" style='font-family:"Times New Roman", "serif";'>case-j</span><span style="font-family:宋体;">中第</span><span lang="EN-US" style='font-family:"Times New Roman", "serif";'><span style="position:relative;top:3pt;"><!--[if !vml]--><!--[endif]--></span></span><span style="font-family:宋体;"><span style="font-style:italic;">h</span>个相同的谓词的参数之间的匹配程度，有</span><span lang="EN-US" style='font-family:"Times New Roman", "serif";'></span></font></p>
<p align="center" style="text-align:center;text-indent:18pt;" class="MsoListParagraph"><font size="3"><span lang="EN-US"><span style="position:relative;top:16pt;"><!--[if !vml]--><img alt="" src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/bij2.JPG" /><!--[endif]--></span></span><span lang="EN-US"></span></font></p>
<p align="left" style="text-align:left;text-indent:0;" class="MsoListParagraph"><font size="3"><span lang="EN-US"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br /></span></span></font></p>
<p align="left" style="text-align:left;text-indent:0;" class="MsoListParagraph"><font size="3"><span lang="EN-US"><span></span></span><span style="font-family:宋体;">该定义只考虑了相同的谓词以及相同谓词对应的参数之间的关系，两案例相同的谓词越多，则这两个案例之间的距离越短。</span></font></p>
<p align="left" style="text-align:left;text-indent:0;" class="MsoListParagraph"><font size="3"><span style="font-family:宋体;"></span><span lang="EN-US"></span></font></p>
<p align="left" style="text-align:left;text-indent:0;" class="MsoListParagraph"><font size="3"><span lang="EN-US"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:宋体;">（</span><span lang="EN-US">2</span><span style="font-family:宋体;">）案例的相似度</span><span lang="EN-US"></span></font></p>
<p align="left" style="text-align:left;text-indent:0;" class="MsoListParagraph"><font size="3"><span lang="EN-US"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:宋体;">设<span style="font-style:italic;">d</span><sub>1</sub></span><span lang="EN-US" style="font-style:italic;"><span style="position:relative;top:5pt;"><!--[if !vml]--><!--[endif]--></span></span><span style="font-family:宋体;">为两案例&ldquo;</span><span style="font-family:宋体;">故障特征</span><span style="font-family:宋体;">&rdquo;属性的距离，</span><span lang="EN-US"><span style="position:relative;top:5pt;"><!--[if !vml]--><!--[endif]--></span></span><span style="font-family:宋体;"><span style="font-style:italic;">d</span><sub>2</sub>为两案例&ldquo;</span><span style="font-family:宋体;">系统结构</span><span style="font-family:宋体;">&rdquo;属性的距离，由于<span style="font-style:italic;">0&lt;=d<sub>1</sub></span></span><span lang="EN-US"><span style="position:relative;top:5pt;"><!--[if !vml]--><!--[endif]--></span></span><span lang="EN-US">,</span><span lang="EN-US"><span style="position:relative;top:5pt;"><!--[if !vml]--><!--[endif]--></span></span><span style="font-family:宋体;"><span style="font-style:italic;">d</span><sub>2</sub>&lt;=1，则可以定义两案例的相似度为：</span><span lang="EN-US"></span></font></p>
<p align="center" style="text-align:center;text-indent:0;" class="MsoListParagraph"><font size="3"><span lang="EN-US"><img src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/SIM.JPG" alt="" /><span style="position:relative;top:5pt;"><!--[endif]--></span></span><span lang="EN-US"></span></font></p>
<p align="left" style="text-align:left;text-indent:0;" class="MsoListParagraph"><font size="3"><span style="font-family:宋体;">其中，</span><span lang="EN-US"><span style="position:relative;top:5pt;"><!--[if !vml]--><!--[endif]--></span></span><span style="font-family:宋体;">SIM<sub>1</sub>、</span><span lang="EN-US"><span style="position:relative;top:5pt;"><!--[if !vml]-->SIM<sub>2</sub><!--[endif]--></span></span><span style="font-family:宋体;">分别为两案例&ldquo;</span><span style="font-family:宋体;">故障特征</span><span style="font-family:宋体;">&rdquo;属性、&ldquo;</span><span style="font-family:宋体;">系统结构</span><span style="font-family:宋体;">&rdquo;属性对应的相似度，且</span><span lang="EN-US"></span></font></p>
<p align="center" style="text-align:center;text-indent:0;" class="MsoListParagraph"><font size="3"><span lang="EN-US"><span style="position:relative;top:6pt;"><!--[if !vml]--><!--[endif]--></span></span><span style="font-family:宋体;"><img src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/SIMi.JPG" alt="" />，</span><span lang="EN-US"><span style="position:relative;top:5pt;"><!--[if !vml]-->i=1,2<!--[endif]--></span></span></font></p>
<p align="left" style="text-align:left;" class="MsoNormal"><font size="3"><span lang="EN-US"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="font-family:宋体;">案例库中和目标案例相似度最大的案例，就是最佳匹配案例。当然，有可能出现即便是最佳匹配案例和目标案例的相似度也比较小的情况。可以为了保证最终结果的正确性，设定一个相似度的阈值，低于该阈值的相似度的案例不能作为最终结果使用，必须利用专家系统对结果进行修正。</span></font><span lang="EN-US"></span></p>

	</div>
	</div>
    
	<div class="post paper">	
    <h2 class="header"><a href="/2008/05/19/wenchuan-earthquake">半旗.默哀.国歌</a></h2>
    <p>
    	<span class="glyphicon glyphicon-time"></span> Posted by <strong>Bo Yang</strong> at <strong>2008-05-19</strong> with tags <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#Personal-ref" rel="nofollow">Personal</a>
	</p>
	<hr>
    
    <div class="post_at_index thepost">
    	<p>	    document.domain="qq.com";<br />
	    //parent.qZEditor.callback();<br />
	   function init(){<br />
		    var key = location.hash.substr(1);<br />
		    document.editorID  = key;<br />
		    parent.editorHash[key].callback();<br />
	   }</p>
<div>&nbsp;&nbsp;&nbsp;<font size="4">&nbsp;今天下午，2008年5月19日14：28分，我来到北京理工大学东操场，和其他近万名师生一起，集体为汶川大地震遇难者默哀。这次活动是学校倡议的，本没有安排我们即将毕业的硕士参加，但我们还是去了。下午2点操场上已经占满了人，BTV对这次活动现场直播。默哀前，低年级的小朋友们的表现令我很不满，他（她）们的态度很不严肃，部分女生的着装也不庄重，表现不合时宜。但是当开始默哀时，他/她们能够迅速进入状态，没有人交谈，没有手机响起，没有骚动，还是难能可贵的。</p>
<p>&nbsp;&nbsp;&nbsp; 默哀过程中，防空警报声、汽车鸣笛声此起彼伏，为逝者而悲号，为生者而祈祷。尽管我还年轻，尽管我远离灾区，但我脑海中再一次涌现出那句话&mdash;&mdash;&ldquo;人应该赶快生活&rdquo;。<br /></font></div>
<div><font size="4">&nbsp;&nbsp;&nbsp; </font></div>
<div><font size="4">&nbsp;&nbsp;&nbsp;&nbsp;默哀完毕，根据指挥老师的提议，我们和自己身边的同学手拉手，唱起了久违的国歌。国歌是那么熟悉有那么陌生&mdash;&mdash;熟悉是因为从小就听着国歌长大，陌生是因为很少有机会自己亲口唱起它。今天，总算给了我们一个唱响国歌的机会。</font></div>
<div><font size="4">&nbsp;</font></div>
<div><font size="4">&nbsp;&nbsp;&nbsp;  今天凌晨1：30从女朋友家出发走向她们县的火车站，3点多坐火车回北京。在由北京西站回学校的公交车上，看到了（确切地说是听到了，人多，只能听到电视的声音，却看不到图像）电视里天安门降半旗的情景。国旗护卫队迈着整齐的步伐走到旗杆前，奏国歌，升国旗，国旗升好后，只听一位国旗护卫队员高喊&ldquo;降&mdash;&mdash;半&mdash;&mdash;旗&mdash;&mdash;&rdquo;，我身体一颤，莫名的辛酸油然而生，之后就是很长时间的寂静。平时公交车里即便寥寥数人也异常热闹，但今天早晨，却非常安静。尽管只有少数人能看到电视屏幕，但大多数人都在倾听，神情都很肃穆。</font></div>
<div><font size="4">&nbsp;</font></div>
<div><font size="4">&nbsp;&nbsp;&nbsp; 路过几家宾馆和国营机构，鲜艳的五星红旗都在旗杆的半空中摇晃着，向路人诉说着这个国家正在经历的苦难&hellip;&hellip;</font></div>

	</div>
	</div>
    
	<div class="post paper">	
    <h2 class="header"><a href="/2008/05/14/fedora9-install-hard-disk">硬盘安装Fedora 9成功</a></h2>
    <p>
    	<span class="glyphicon glyphicon-time"></span> Posted by <strong>Bo Yang</strong> at <strong>2008-05-14</strong> with tags <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#Unix/Linux-ref" rel="nofollow">Unix/Linux</a>
	</p>
	<hr>
    
    <div class="post_at_index thepost">
    	<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 昨天晚上半夜（5月13日晚23：56分）我登陆到fedora项目的主页一看，My God，Fedora 9已经可以下载了！我立马开始下载。由于速度只有几百K/S，只好先睡觉。<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 今天早上6：30就起来了，第一件事就是准备将Fedora 9刻录到光盘，然后准备安装。几天前就已经将光盘买好了，Nero也装好了，就等着刻呢。非常恶心的是，我一连试了三张白盘，一次也没刻录成功！气得我七窍生烟！还不到两年，破本本的刻录光驱就不能刻录了！Shit！<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8点多感到实验室，半路上就决定了要从硬盘安装Fedora 9。上网查资料，N多，感觉还蛮简单的。照做。下载Grub for Linux，设置好，设置menu.lst。问题来了，将Fedora的iso映像放到哪里呢？还有就是我的Windows分区是NTFS格式的，留出来的空闲分区才15G，太小了，怎么改变分区大小呢？<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 有人说DVD版的Fedora要解压缩，有人说不用，但都要放到Fat或fat32分区里。上网，下载了Partition Manager，结果安装时说不能用于Windows Server 2003下面。Shit@！只好重新搜到了一个可以用于Server 2003下调整分区的软件。调好之后，重启进入grub安装。结果进不去Fedora安装界面！<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 找遍了所有原因，才发现自己在menu.lst中的initrd写成了intrid！唉！改正后终于进入了安装界面。这时却又找不到Fedora映像了。哦，原来我直接将iso给解压缩了。shit！不得不重新将Fedora的iso映像拷到fat32分区，重新装，一切OK！<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 大二的时候就装过Red Hat Linux9，当时装了玩了几次，感觉很不好用，就给删了。大四毕业又玩了一段时间Fedora core3，感觉好多了。后来在实验室电脑上装了Fedora 7，感觉很好。前几天用Wubi在笔记本上装Ubuntu8.04，结果不成功，很是郁闷。在实验室台式机上却成功了。进到Ubuntu后完了几次，感觉很不爽&mdash;&mdash;界面不怎么好看，桌面版自带的软件少得可怜，要通过网络安装，可我们平时很难上外网（拜教育网所赐）。总的说来，还是比较喜欢Red Hat 的产品，毕竟人家定位在企业级应用。而且听说Linus用的Linux版本就是Fedora哦。<br />&nbsp;&nbsp;&nbsp;&nbsp; 最近一年来逐渐对Linux情有独钟，也越来越不喜欢用Windows了。毕竟这是两种不同的模式，两种不同的文化。现在对知识产权的意识越来越强烈了，以前一直用盗版，现在不想用了，但又没钱买正版Windows下的软件，因此还是转到Linux的好。<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 向开源进军！</p>
<p>PS：硬盘安装Linux的详细设置请参阅</p>
<h1 class="title"><a href="void(0);/*1210765405981*/">以WinGrub 引导安装Fedora 4.0 为例，详述用WinGrub来引导Linux的安装</a></h1>

	</div>
	</div>
    
	
	<!-- Pagination links -->
	
	<ul class="pager">
	    
	    <li class="previous"><a href="/page21">&larr; Older</a></li>
	    
	
	    
	    <li class="next"><a href="/page19">Newer &rarr;</a></li>
	    
	</ul>
	
	<!-- content -->
</div>

<div class="col-lg-3">
		<div class="well">
            <h4>Links</h4>
			<a href="https://www.linkedin.com/pub/bo-yang/21/a3/893" target="_blank"> <i class="fa fa-linkedin-square fa-3x"></i> </a> 
			<a href="https://github.com/bo-yang" target="_blank"> <i class="fa fa-github fa-3x"></i> </a> 
			<a href="https://www.facebook.com/bo.yang.52493" target="_blank"> <i class="fa fa-facebook-square fa-3x"></i> </a>
			<a href="http://www.weibo.com/bonnyang" target="_blank"> <i class="fa fa-weibo fa-3x"></i> </a> 
        	<a href="/atom.xml" target="_blank"> <i class="fa fa-rss-square fa-3x"></i> </a>	
        </div>
        <!-- /well -->
        <div class="well">
			<h4>Tags</h4>
				<div class="tag_box">
				
				<!-- site_tags: C/C++,Algorithm,EMC,Fault Diagnosis,Notes,AI,Database,Unix/Linux,Personal,Telecom,Tcl/Tk,Shell,Network,Perl,Industry,Cloud Computing,API,Android,VBA,Virtualization,Browser,Plan 9,Go,Distributed Systems,Tips,Genetic Algorihtm,Mac OS,Statistics,Matlab,Multithreading,Bioinformatics,Computer Vision,Machine Learning,BACI,Jekyll,Architecture,Java -->
				
				<!-- tag_words:  -->

				
  <ul class="nav nav-pills nav-stacked">
  
    
        <li><a href="/tags.html#AI">AI <span class="badge pull-right">7</span></a></li>
    
        <li><a href="/tags.html#API">API <span class="badge pull-right">3</span></a></li>
    
        <li><a href="/tags.html#Algorithm">Algorithm <span class="badge pull-right">25</span></a></li>
    
        <li><a href="/tags.html#Android">Android <span class="badge pull-right">2</span></a></li>
    
        <li><a href="/tags.html#Architecture">Architecture <span class="badge pull-right">1</span></a></li>
    
        <li><a href="/tags.html#BACI">BACI <span class="badge pull-right">1</span></a></li>
    
        <li><a href="/tags.html#Bioinformatics">Bioinformatics <span class="badge pull-right">1</span></a></li>
    
        <li><a href="/tags.html#Browser">Browser <span class="badge pull-right">2</span></a></li>
    
        <li><a href="/tags.html#C/C++">C/C++ <span class="badge pull-right">50</span></a></li>
    
        <li><a href="/tags.html#Cloud Computing">Cloud Computing <span class="badge pull-right">2</span></a></li>
    
        <li><a href="/tags.html#Computer Vision">Computer Vision <span class="badge pull-right">4</span></a></li>
    
        <li><a href="/tags.html#Database">Database <span class="badge pull-right">1</span></a></li>
    
        <li><a href="/tags.html#Distributed Systems">Distributed Systems <span class="badge pull-right">2</span></a></li>
    
        <li><a href="/tags.html#EMC">EMC <span class="badge pull-right">9</span></a></li>
    
        <li><a href="/tags.html#Fault Diagnosis">Fault Diagnosis <span class="badge pull-right">3</span></a></li>
    
        <li><a href="/tags.html#Genetic Algorihtm">Genetic Algorihtm <span class="badge pull-right">1</span></a></li>
    
        <li><a href="/tags.html#Go">Go <span class="badge pull-right">3</span></a></li>
    
        <li><a href="/tags.html#Industry">Industry <span class="badge pull-right">6</span></a></li>
    
        <li><a href="/tags.html#Java">Java <span class="badge pull-right">1</span></a></li>
    
        <li><a href="/tags.html#Jekyll">Jekyll <span class="badge pull-right">1</span></a></li>
    
        <li><a href="/tags.html#Mac OS">Mac OS <span class="badge pull-right">1</span></a></li>
    
        <li><a href="/tags.html#Machine Learning">Machine Learning <span class="badge pull-right">2</span></a></li>
    
        <li><a href="/tags.html#Matlab">Matlab <span class="badge pull-right">3</span></a></li>
    
        <li><a href="/tags.html#Multithreading">Multithreading <span class="badge pull-right">2</span></a></li>
    
        <li><a href="/tags.html#Network">Network <span class="badge pull-right">4</span></a></li>
    
        <li><a href="/tags.html#Notes">Notes <span class="badge pull-right">25</span></a></li>
    
        <li><a href="/tags.html#Perl">Perl <span class="badge pull-right">15</span></a></li>
    
        <li><a href="/tags.html#Personal">Personal <span class="badge pull-right">13</span></a></li>
    
        <li><a href="/tags.html#Plan 9">Plan 9 <span class="badge pull-right">9</span></a></li>
    
        <li><a href="/tags.html#Shell">Shell <span class="badge pull-right">15</span></a></li>
    
        <li><a href="/tags.html#Statistics">Statistics <span class="badge pull-right">1</span></a></li>
    
        <li><a href="/tags.html#Tcl/Tk">Tcl/Tk <span class="badge pull-right">9</span></a></li>
    
        <li><a href="/tags.html#Telecom">Telecom <span class="badge pull-right">1</span></a></li>
    
        <li><a href="/tags.html#Tips">Tips <span class="badge pull-right">4</span></a></li>
    
        <li><a href="/tags.html#Unix/Linux">Unix/Linux <span class="badge pull-right">100</span></a></li>
    
        <li><a href="/tags.html#VBA">VBA <span class="badge pull-right">5</span></a></li>
    
        <li><a href="/tags.html#Virtualization">Virtualization <span class="badge pull-right">4</span></a></li>
    
  
  </ul>




				</div>
		</div>
		<!-- /well -->
        <div class="well">
			<h4>Visitors</h4>
				<script type="text/javascript" src="http://je.revolvermaps.com/2/1.js?i=4gy6jc9lpsq&amp;s=220&amp;m=0&amp;v=true&amp;r=false&amp;b=000000&amp;n=false&amp;c=ff0000" async="async"></script>
	
        </div>
		<!-- /well -->
		<!--
        <div class="well">
            <h3>Recent Posts</h3>
	        <ul>
			
  			<li><span>2014-07-21</span> &raquo; <a href="/2014/07/21/merge-k-sorted-lists">Merge K Sorted Lists</a></li>
			
  			<li><span>2014-07-14</span> &raquo; <a href="/2014/07/14/insertion-sort-list">Insertion Sort List</a></li>
			
  			<li><span>2014-07-13</span> &raquo; <a href="/2014/07/13/linked-list-cycle">Linked List Cycle Problems</a></li>
			
  			<li><span>2014-07-08</span> &raquo; <a href="/2014/07/08/sort-list">Sort List</a></li>
			
  			<li><span>2014-07-07</span> &raquo; <a href="/2014/07/07/subset-sum">Subset Sum Problem</a></li>
			
  			<li><span>2014-07-07</span> &raquo; <a href="/2014/07/07/determine-top-common-ip-addresses">Find Top Source IP Addresses in Distributed Systems</a></li>
			
  			<li><span>2014-07-06</span> &raquo; <a href="/2014/07/06/longest-palindromic-substring">Longest Palindromic Substring</a></li>
			
  			<li><span>2014-07-01</span> &raquo; <a href="/2014/07/01/strstr">The First Occurrence of Needle In Haystack</a></li>
			
  			<li><span>2014-07-01</span> &raquo; <a href="/2014/07/01/longest-consecutive-sequence">Longest Consecutive Sequence</a></li>
			
  			<li><span>2014-06-29</span> &raquo; <a href="/2014/06/29/top-n-numbers">Top N Numbers</a></li>
			
			</ul>
		</div>
		-->
        <!-- /well -->
</div>

	</div>
</div>


    </div>

    <footer>
        <p>&copy; 2007 <span id="now_year"></span> Bo Yang. </p>
        <script type="text/javascript">
          var now_year = new Date().getFullYear();
          if (now_year != 2007) {
              $('#now_year').html('- ' + now_year);
          }
	    </script>
      </footer>
  </div>

  <script type="text/javascript" src="/assets/google-code-prettify/prettify.js"></script>
  <script src="/assets/run_prettify.js"></script>
  <script type="text/javascript">
    $(function() {

      $('a[href^="http"]').each(function () {
        $(this).attr('target', '_blank');
      });

      $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto');
      window.prettyPrint && prettyPrint();

      function traverse($node, len, maxCount) {
        var reachMaxCount = len > maxCount;
        if (reachMaxCount) {
          $node.hide();
        }
        var $contents = $node.contents();
        for (var i = 0; i < $contents.length; ++i) {
          if (reachMaxCount) {
            $contents.eq(i).hide();
            continue;
          }
          if ($contents[i].nodeType == 3) { // TextNode
            var tmp = len;
            var s = $contents[i].nodeValue;
            len += s.length;
            reachMaxCount = len > maxCount;
            if (reachMaxCount && $contents[i].parentNode.nodeName != 'A') {
              $contents[i].nodeValue = s.substring(0, maxCount - tmp);
            }
          }
          else if ($contents[i].nodeType == 1) { // Element
            len = traverse($contents.eq(i), len, maxCount);
          }
        }
        return len;
      }

      $('.post_at_index').each(function() {
        var count = traverse($(this), 0, 400);
        if (count > 400) {
          var thisUrl = $(this).siblings().first().children().attr('href');
          $(this).after('\n<a href="' + thisUrl + '" rel="nofollow" class="btn btn-primary" role="button">' + 'Read More &raquo;</a>');
        }
      });
    });
  </script>

  

</body>
</html>

