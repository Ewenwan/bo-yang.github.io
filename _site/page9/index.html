
<!DOCTYPE HTML>
<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml" xmlns:wb="http://open.weibo.com/wb">
<script type="text/javascript"
  src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<head>
  <title>Bo Yang | Bo's Blog</title>
  
  <meta name="author" content="Bo Yang" />
  <meta http-equiv="content-type" content="text/html;charset=utf-8">

  <!-- using baidu cdn instead
  <link href="/assets/themes/clear/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
  -->
  <link href="http://libs.baidu.com/bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet">


  <!-- Google Prettify -->
  <link href="/assets/themes/clear/google-code-prettify/desert.css" rel="stylesheet" type="text/css" media="all">
  <!-- Google Pretty end -->

  <link href="/assets/themes/clear/css/style.css" rel="stylesheet" type="text/css" media="all" />
  <!-- using baidu cdn instead
  <script type="text/javascript" src="/static/js/jquery-1.8.3.min.js"></script>
  -->

  <script src="http://libs.baidu.com/jquery/1.9.0/jquery.min.js"></script>
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>

<body>

  <div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <a class="brand" href="/">bo-yang</a>
        <ul class="nav">
          <li><a href="/archive.html">Archive</a></li>
          <li><a href="/about.html">About</a></li>
          <li><a href="/messages.html">Messages</a></li>
        </ul>
        <ul class="pull-right">
          <li>
            <form class="navbar-search" method="get" action="http://www.google.com/search" target="google_window">
              <input id="g_search" type="text" class="search-query" placeholder="Search..." name="q" />
              <input type="submit" name="btnG" style="display:none" id="searchsubmit" value="Search" />
              <input type="hidden" name="ie" value="UTF-8" />
              <input type="hidden" name="oe" value="UTF-8" />
              <input type="hidden" name="hl" value="en-US" />
              <input type="hidden" name="domains" value="http://bo-yang.github.io/" />
              <input type="hidden" name="sitesearch" value="http://bo-yang.github.io/" />
            </form>
          </li>
        </ul>
        <ul class="nav pull-right">
          <li><a href="/atom.xml">RSS</a></li>
        </ul>
      </div>
    </div>
  </div>

  <div class="container page-container">
    <div class="content">
      
<div class="page-header">
  <h1>Bo Yang  <small>Beginner's mind.</small></h1>
</div>

<div class="row-fluid page-body">
  <div class="span12">
    

<div class="row-fluid page-body">

  <div class="span9 left">
    
    <div class="main-container shadow">
      <div class="mainbody">
        <h2><a href="/2010/11/28/plan9-intro-note-1">Notes of Introduction to OS Abstractions Using Plan 9 from Bell Labs(I)</a></h2>
        <p>
          Posted by <strong>Bo Yang</strong> at <strong>2010-11-28</strong> with tags <a href="/tags.html#Plan 9-ref" rel="nofollow">Plan 9</a>
        </p>
        
        <div class="post_at_index thepost">
        <p>&nbsp;</p>
<h3 id="zw-1290949398860sDJ1ah"><span id="zw-1290949398861ePu1_6">1. Loaded Programs</span></h3>
<h4 id="zw-1290949398861DeKRaD"><span id="zw-1290949398861A4v4rA">1.1 Command&nbsp;</span><span id="zw-1290949398861w1u2Ml">nm</span></h4>
<p id="zw-1290949398861M8Fq2q"><span id="zw-1290949398861Bp3Ccc">Command&nbsp;</span><span id="zw-1290949398861G3bweg">nm</span><span id="zw-1290949398861scTbjG">&nbsp;can be used to display symbol information in both objects and binary files, because it looks at the symbol table stored in the binary for debugging purposes. Command&nbsp;</span><span id="zw-1290949398861vCM8Bc">strip</span><span id="zw-1290949398862uxpNeZ">&nbsp;can be used to remove the symbol table.</span></p>
<p id="zw-1290949398862fWV4Na"><span id="zw-1290949398862lx4zWW">&nbsp;</span></p>
<p id="zw-1290949398862puncr7"><span id="zw-1290949398862bTX1vU">Option&nbsp;</span><span id="zw-1290949398862xqkLFX">&ndash;n</span><span id="zw-1290949398862uZgaHC">&nbsp;asks&nbsp;</span><span id="zw-1290949398862bL2tUS">nm</span><span id="zw-1290949398862J8ZHZT">&nbsp;to sort the output by symbol address. The addresses are virtual memory addresses, because the system uses the virtual memory hardware to keep each process in its own virtual address space.</span></p>
<p id="zw-1290949398862k6pDEH"><span id="zw-1290949398862DVbJhp">&nbsp;</span></p>
<p id="zw-1290949398862O_WbxH"><span id="zw-1290949398863UiL4fd">In the output of nm,&nbsp;</span><span id="zw-1290949398863YoRHZ6">etext</span><span id="zw-1290949398863HprQPn">&nbsp;is a symbol defined by the linker to let you know where the end of test is, and&nbsp;</span><span id="zw-1290949398863xgx-UA">edata</span><span id="zw-1290949398863_mjveS">&nbsp;reports the address where the initialized data terminates.</span></p>
<h4 id="zw-1290949398863NmsG5X"><span id="zw-1290949398863tm46dV">1.2 What does the system (kernel) loader do?</span></h4>
<p id="zw-1290949398863Jg06Kq"><span id="zw-1290949398863AZoq7F">&middot;</span><span id="zw-1290949398864Pw2OoW">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="zw-1290949398864Tl2rEF">The header in the binary file reports the memory size required for the program text, and the file keeps the memory image of that text. Therefore, the system can just copy all this into memory. For a given system and architecture, there is a convention regarding which addresses the program must use. Therefore, the system knows where to load the program.</span></p>
<p id="zw-12909493988641Ah34P"><span id="zw-1290949398864MwPqj1">&middot;</span><span id="zw-129094939886431kLs_">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="zw-12909493988644HOTq2">The header in the binary reports the memory size required for initialized variables (global) and file contains a memory image for them. Thus, the system can copy those bytes to memory. Note that the system has no idea regarding where does one variable start or how big it is. The system only knows how many bytes it has to copy to memory, and at which address should they be copied.</span></p>
<p id="zw-1290949398864lF3mfu"><span id="zw-1290949398864Qa1fiF">&middot;</span><span id="zw-1290949398864I57fm8">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="zw-1290949398864_vLJAo">For uninitialized global variables, the binary header reports their total size. The system allocates that amount of memory for the program. That is all it has to do. As a courtesy, Plan 9 guarantees that such memory is initialized with all bytes being zero. This means that all your global variables are initialized to null values by default.</span></p>
<h4 id="zw-1290949398864GGzoov"><span id="zw-1290949398865GPNwpr">1.3 Memory image for the global program</span></h4>
<p id="zw-1290949398865-KYSgI"><img src="http://xiexie.baihui.com/image.do?imgurl=3babf56062fe04d195271acb7edaebe17c7335448c4ed3af69eac61090566d9dffab3b423280599ed59da39279912dc4" alt="" align="bottom" /></p>
<p id="zw-129094939886505L7F-"><span id="zw-1290949398865sZMOgN">&nbsp;</span></p>
<p id="zw-1290949398865fHb7OC"><span id="zw-1290949398865R52pna">The virtual memory of a process in Plan 9 has several segments. A memory segment is a portion of contiguous memory with some properties. Segments used by a Plan 9 process are:</span></p>
<p id="zw-1290949398865WLGo3b"><span id="zw-129094939886516vPlJ">&middot;</span><span id="zw-1290949398865ayOOVt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="zw-1290949398865VpK3iM">The&nbsp;</span><span id="zw-1290949398866OAh3Sy">test segment</span><span id="zw-1290949398866zwgO7E">. It contains instructions that can be executed but not modified. The hardware is used by the system to enforce these permissions. The memory is initialized by the system with the program text (code) kept within the binary file for the program.</span></p>
<p id="zw-1290949398866DzjDRR"><span id="zw-1290949398866kzzKuu">&middot;</span><span id="zw-1290949398866dWZ4WJ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="zw-1290949398866rxmiFl">The&nbsp;</span><span id="zw-1290949398866XM0SSt">data segment</span><span id="zw-1290949398866rdIwt5">. It contains the initialized data for the program. Protection is set to allow both read and write operations on it, but you cannot execute instructions on it. The memory is initialized by the system using the initialized data kept within the binary file for the program.</span></p>
<p id="zw-12909493988665NjJfd"><span id="zw-12909493988668LYe2n">&middot;</span><span id="zw-1290949398866H86UPQ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="zw-1290949398867ujbq5l">The uninitialized data segment, called&nbsp;</span><span id="zw-1290949398867z9DJ4Q">bss segment</span><span id="zw-1290949398867jBIH8H">, which is almost like the data segment. However, this one is initialized by zeroing its memory. The name of the segment comes from an arcane instruction used to implement it on a machine that no longer exists. How much memory is given depends on the size recorded in the binary file. Moreover, this segment can&nbsp;</span><span id="zw-1290949398867woapo8">grow</span><span id="zw-1290949398867eXmEXm">, by using a system call that allocates more memory for it. Function libraries like&nbsp;</span><span id="zw-1290949398867LZTz0R">malloc</span><span id="zw-12909493988674pKHmJ">&nbsp;cause this segment to grow when they consume all the available memory in this segment. This is the reason for the gap between this segment and the stack segment, to leave room for the segment to grow.</span></p>
<p id="zw-12909493988678T1Cts"><span id="zw-1290949398867O08V4b">&middot;</span><span id="zw-1290949398867sojzlo">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span id="zw-1290949398868wui-dY">The&nbsp;</span><span id="zw-1290949398868EUaLcV">stack segment</span><span id="zw-1290949398868txeB9B">&nbsp;is also used for reading and writing memory. Unlike other segments, this segment seems to grow automatically when more space is used. It is used to keep the stack for the process.</span></p>
<h4 id="zw-1290949398868bt1ji2"><span id="zw-12909493988683H5_S8">1.4 Process Arguments</span></h4>
<p id="zw-1290949398868k0kuo-"><span id="zw-1290949398868acWAD4">The macros&nbsp;</span><span id="zw-1290949398868jo_aR3">ARGBEGIN</span><span id="zw-1290949398868GtChIf">&nbsp;and&nbsp;</span><span id="zw-1290949398868F52ej8">ARGEND</span><span id="zw-1290949398869bjzOxh">&nbsp;loop through the argument list, removing and processing</span></p>
<p id="zw-1290949398869EpgRq7"><span id="zw-1290949398869-ejVsC">options. After ARGEND, both argc and argv reflect the argument list without any option.</span></p>
<p id="zw-1290949398869-WyGTM"><span id="zw-1290949398869Gzm4-H">Between both macros, we must write the body for a switch statement (supplied by</span></p>
<p id="zw-1290949398869cUXFi3"><span id="zw-1290949398869ydg8j3">ARGBEGIN), with a case per option.</span></p>
<p id="zw-12909493988690ytyjT"><span id="zw-1290949398869PmpX8D">&nbsp;</span></p>
<p id="zw-1290949398869qAGTtJ"><span id="zw-1290949398870g5fJpf">&nbsp;</span></p>
<p id="zw-1290949398870w7UeKc"><span id="zw-1290949398870VnjgC1">Macros defined in plan9.h</span></p>
<p id="zw-1290949398870B0qO8e">
<pre>extern char *argv0;
#define ARGBEGIN for((void)(argv0||(argv0=*argv)),argv++,argc--;/
       argv[0] &amp;&amp; argv[0][0]=='-' &amp;&amp; argv[0][1];/
       argc--, argv++) {/
    char *_args, *_argt;/
    Rune _argc;/
    _args = &amp;argv[0][1];/
    if(_args[0]=='-' &amp;&amp; _args[1]==0){/
     argc--; argv++; break;/
    }/
    _argc = 0;/
    while(*_args &amp;&amp; (_args += chartorune(&amp;_argc, _args)))/
    switch(_argc)
#define ARGEND  SET(_argt);USED(_argt);USED(_argc);USED(_args);}/
     USED(argv);USED(argc);
#define ARGF()  (_argt=_args, _args="",/
    (*_argt? _argt: argv[1]? (argc--, *++argv): 0))
#define EARGF(x)  (_argt=_args, _args="",/
    (*_argt? _argt: argv[1]? (argc--, *++argv): ((x), abort(), (char*)0)))
 
#define ARGC()  _argc
 
#define SET(x) (x) = 0
#define USED(x) (void)(x)</pre>
<p>&nbsp;</p>
<p id="zw-1290949398889_XtEPK"><span id="zw-1290949398889kDGLRd">&nbsp;</span></p>
<p id="zw-12909493988895SfS4z"><span id="zw-1290949398889ZrdrFv">Most of the Plan 9 programs that accept multiple options use these macros to process their</span></p>
<p id="zw-12909493988894ZVhLV"><span id="zw-12909493988902Xxg3y">argument list in search for options. This means that the invocation syntax is similar for most pro-grams. You may combine options in a single argument, use multiple arguments, supply arguments for options immediately after the option letter, or use another argument,</span></p>
<p id="zw-12909493988907I3lpd"><span id="zw-12909493988905VTK78">terminate the option list by giving a -- argument, and so on.</span></p>
<p id="zw-1290949398890bVD_ls"><span id="zw-1290949398890H5Ub46">&nbsp;</span></p>
<p id="zw-1290949398890kIS9C9"><span id="zw-1290949398890-gm04p">Source code of bind.c</span></p>
<p id="zw-1290949398890dTxp09"><span id="zw-1290949398890_CB4vy">&nbsp;</span></p>
<p id="zw-129094939889033vUJu">
<pre>#include &lt;u.h&gt;
#include &lt;libc.h&gt;
 
void usage(void);
 
void
main(int argc, char *argv[])
{
 ulong flag = 0;
 int qflag = 0;
 
 ARGBEGIN{
 case 'a':
  flag |= MAFTER;
  break;
 case 'b':
  flag |= MBEFORE;
  break;
 case 'c':
  flag |= MCREATE;
  break;
 case 'q':
  qflag = 1;
  break;
 default:
  usage();
 }ARGEND
 
 if(argc != 2 || (flag&amp;MAFTER)&amp;&amp;(flag&amp;MBEFORE))
  usage();
 
 if(bind(argv[0], argv[1], flag) &lt; 0){
  if(qflag)
   exits(0);
  /* try to give a less confusing error than the default */
  if(access(argv[0], 0) &lt; 0)
   fprint(2, "bind: %s: %r/n", argv[0]);
  else if(access(argv[1], 0) &lt; 0)
   fprint(2, "bind: %s: %r/n", argv[1]);
  else
   fprint(2, "bind %s %s: %r/n", argv[0], argv[1]);
  exits("bind");
 }
 exits(0);
}
 
void
usage(void)
{
 fprint(2, "usage: bind [-b|-a|-c|-bc|-ac] new old/n");
 exits("usage");
}</pre>
<p>&nbsp;</p>
<p id="zw-12909493989145UBIdA"><span id="zw-1290949398914vjkUvQ">&nbsp;</span></p>
<h4 id="zw-1290949398915ChZiV0"><span id="zw-1290949398915TCUl-e">1.5 System call errors</span></h4>
<p id="zw-1290949398915_VKY7S"><span id="zw-1290949398915F5dVz0">There are several ways of printing out the error string. The most convenient way is using the format &ldquo;%r&rdquo; in print.</span></p>
<p id="zw-12909493989157rVDOc"><img src="http://xiexie.baihui.com/image.do?imgurl=3babf56062fe04d195271acb7edaebe1bcd1e98698a1ec92775ff5b32fbc87711fb8c1f0d288bb2569e488233a0046f0" alt="" width="553" height="360" /><br /><span id="zw-1290949398915QTjDll">T</span><span id="zw-12909493989150XDKGb">here is a function that both prints a message and exits. It is called&nbsp;</span><span id="zw-1290949398915Bp-iGv">sysfatal</span><span id="zw-1290949398915qZW_Qg">, and is used like follows.</span></p>
<p id="zw-1290949398915JM2CbI"><img src="http://xiexie.baihui.com/image.do?imgurl=3babf56062fe04d195271acb7edaebe1bcd1e98698a1ec92775ff5b32fbc87714333f017beea4d0004e0d5dd93db05f9" alt="" width="553" height="54" /><br /><span id="zw-1290949398916lQU6kE">T</span><span id="zw-1290949398916JAEBUs">he system call&nbsp;</span><span id="zw-1290949398916UPzKnY">rerrstr</span><span id="zw-12909493989164aLHY8">&nbsp;reads the error string. It stores the string at the buffer you supply.</span></p>
<p id="zw-1290949398916skGOn9"><img src="http://xiexie.baihui.com/image.do?imgurl=3babf56062fe04d195271acb7edaebe1bcd1e98698a1ec92775ff5b32fbc8771160ef69fcdf2c7af6f12e05e8ca4c254" alt="" width="453" height="74" /></p>
<p id="zw-12909493989169W1gXj"><span id="zw-1290949398916MxAr7x">The system call&nbsp;</span><span id="zw-12909493989161fVjqL">werrstr</span><span id="zw-1290949398917h2rCfn">&nbsp;writes a new value for the error string. It is used like the&nbsp;</span><span id="zw-1290949398917qviIxD">print</span><span id="zw-12909493989175CwNJH">. Using it, we can implement a function that&nbsp;</span><span id="zw-12909493989175OAYWp">pops</span><span id="zw-1290949398917S6aKR1">&nbsp;an element from a stack and reports errors nicely:</span></p>
<p id="zw-1290949398917hDQMag"><img src="http://xiexie.baihui.com/image.do?imgurl=3babf56062fe04d195271acb7edaebe1bcd1e98698a1ec92775ff5b32fbc87719994ac148aa292b2e7ef0f1a2485d55f" alt="" width="553" height="348" /></p>
<h4 id="zw-1290949398917aCF5lL"><span id="zw-1290949398917qHrEEA">1.6 Environment</span></h4>
<p id="zw-1290949398917jwrhJO"><span id="zw-1290949398918MSMy13">To obtain the value for a environment variable, from a C program, we can use the&nbsp;</span><span id="zw-12909493989185bMn7Y">getenv</span><span id="zw-1290949398918bQHoi3">&nbsp;system call. If the variable is not defined,&nbsp;</span><span id="zw-1290949398918wEHPTG">getenv</span><span id="zw-1290949398918l_JfXG">&nbsp;returns a null string. A related call is&nbsp;</span><span id="zw-1290949398918oWlB7I">putenv</span><span id="zw-1290949398918HwNsEz">, which accepts a name and a value, and set the corresponding environment variable accordingly.</span></p>
<p id="zw-12909493989186BVTwQ"><span id="zw-1290949398918bg2D2m">&nbsp;</span></p>
<p id="zw-1290949398918McGxWt"><span id="zw-1290949398918uivMkt">&nbsp;
<pre>#include &lt;u.h&gt;
#include &lt;libc.h&gt;
 
void main()
 
{
 char * path;
 
 path=getenv("path");
 if(path==nil)
  sysfatal("path not defined!");
 print("PATH is %s /n", path);
 
 exits(nil);
}</pre>
<p>&nbsp;</span></p>
<h4 id="zw-1290949398922zFzlXN"><span id="zw-1290949398922cjDuqK">1.7 Process States</span></h4>
<h4 id="zw-1290949398922FHaTF_"><img src="http://xiexie.baihui.com/image.do?imgurl=3babf56062fe04d195271acb7edaebe1bcd1e98698a1ec92775ff5b32fbc8771c6957ae765ad8d3426137f5235e54399" alt="" width="554" height="238" /><br /><span id="zw-1290949398923RrMZM8">1</span><span id="zw-1290949398923Hc3DDf">.8 Debugging</span></h4>
<p id="zw-1290949398923k00tpl"><span id="zw-1290949398923s7rFjn">The program&nbsp;</span><span id="zw-1290949398923yroZES">src</span><span id="zw-1290949398923kwDqpL">&nbsp;knows how to obtain the source file name and line number that corresponds to that program counter.</span></p>
<p id="zw-1290949398923mpe_pi"><span id="zw-129094939892316ZOlD">&nbsp;</span></p>
<p id="zw-1290949398923wSLiq0"><img class="zohotab" src="http://xiexie.baihui.com/images/spacer.gif" alt="" height="1px" /><span id="zw-12909493989230nQWXw">&nbsp;</span><span id="zw-1290949398924-7QokX">; <em>src -n -s 0x000016ff 8.hi</em></span></p>
<p id="zw-12909493989244YZqMH"><span id="zw-1290949398924unvzWE">&nbsp;</span><img class="zohotab" src="http://xiexie.baihui.com/images/spacer.gif" alt="" height="1px" /><span id="zw-1290949398924OBCoqn">&nbsp;</span><span id="zw-1290949398924iOBEui">/sys/src/libc/fmt/dofmt.c:37</span></p>
<p id="zw-1290949398924tRfkHj"><span id="zw-1290949398924RdI--q">&nbsp;</span></p>
<p id="zw-1290949398924PoVDYf"><span id="zw-1290949398924aW_tFP">Option -n causes the source file name and line to be printed. Otherwise src would ask your editor to display your file and line. Option -s permits you to give a memory address or a symbol name to locate its source.</span></p>
<p id="zw-1290949398924oOAlGc"><span id="zw-1290949398924KsySpY">&nbsp;</span></p>
<p id="zw-1290949398925BOhqJ0"><span id="zw-1290949398925hOxtFT">acid</span><span id="zw-1290949398925xmeTc4">&nbsp;is the debugger can be used to dump the stack (function stk()), memory (function mem()) and so on.</span></p>
<p>&nbsp;</p>

        </div>
        <a href="javascript:void(0);" style="float:right" onclick="window.scrollTo(0, 0);">Top</a>
        <div style="clear: both;"></div>
      </div>
    </div>
    
    <div class="main-container shadow">
      <div class="mainbody">
        <h2><a href="/2010/11/22/install-plan9">Plan 9安装初体验</a></h2>
        <p>
          Posted by <strong>Bo Yang</strong> at <strong>2010-11-22</strong> with tags <a href="/tags.html#Plan 9-ref" rel="nofollow">Plan 9</a>
        </p>
        
        <div class="post_at_index thepost">
        <p>不知道什么是Plan 9? 请参见<a href="http://plan9.bell-labs.com/plan9/about.html">http://plan9.bell-labs.com/plan9/about.html</a>&nbsp;和&nbsp;<a href="http://en.wikipedia.org/wiki/Plan_9_from_Bell_Labs">http://en.wikipedia.org/wiki/Plan_9_from_Bell_Labs</a>。</p>
<p>&nbsp;</p>
<p>有5种方式可以安装或体验Plan 9：</p>
<ol>
<li><span id="zw-12bb0636f736ACMzR3916c">在物理server上安装Plan 9操作系统，基本配置包括网络、文件服务器、CPU服务器以及终端，一般而言不适合个人体验。Plan 9已经被移植到IBM的</span>Blue Gene/P上，和CNK一起工作（<a href="http://doc.cat-v.org/plan_9/blue_gene/">http://doc.cat-v.org/plan_9/blue_gene/</a>）。</li>
<li>在虚拟机中安装Plan 9。支持<a href="http://plan9.bell-labs.com/plan9/download/plan9.iso.bz2">Plan 9 ISO</a>的虚拟机有QUME， VMware和Xen，VirtualBox支持的很差，很少有人能成功安装。</li>
<li>如果你有Plan9的CPU server而没有终端，可以使用drawterm在Unix/Linux上使用Plan 9。drawterm是跑在Unix/Linux上的一个应用程序。</li>
<li>在UNIX/Linux上使用<a href="http://swtch.com/plan9port/">plan9port</a>。Plan 9项目失败后（2002～2003年）很多一直使用plan9的大牛们（如Russ Cox）回到*nix操作系统，他们把很多plan9的程序移植到了*nix上。</li>
<li>使用Russ Cox开发的vx32虚拟机的Plan 9实现<a href="http://swtch.com/9vx/">9vx</a>。9vx就像原生应用程序一样运行在Linux/FreeBSD/Solaris上，但是Windows暂不支持。</li>
</ol>
<p>另外，推荐一篇非常好的Plan9使用入门的文章：<a href="http://www.quanstro.net/newbie-guide.pdf">A Plan9 Newbie's Guide</a>。更多Plan9的资源可以在<a href="http://en.wikipedia.org/wiki/Plan_9_from_Bell_Labs">http://en.wikipedia.org/wiki/Plan_9_from_Bell_Labs</a>的下面的连接处找到。</p>

        </div>
        <a href="javascript:void(0);" style="float:right" onclick="window.scrollTo(0, 0);">Top</a>
        <div style="clear: both;"></div>
      </div>
    </div>
    
    <div class="main-container shadow">
      <div class="mainbody">
        <h2><a href="/2010/11/22/Your-browser-will-not-accept-this-data-because-of-its-Content-Encoding">Your browser will not accept this data because of its Content-Encoding</a></h2>
        <p>
          Posted by <strong>Bo Yang</strong> at <strong>2010-11-22</strong> with tags <a href="/tags.html#Browser-ref" rel="nofollow">Browser</a>
        </p>
        
        <div class="post_at_index thepost">
        <p>今天打算在某个网站下载一个.bz2的文件时，遇到这样一个问题：</p>
<p><span>Your browser will not accept this data, /mirror.9grid.fr/plan9-1290391203/plan9.iso.bz2, because of its Content-Encoding.</span><span><br /></span><span>Its Content-Type is application/octet-stream, and Content-Encoding is bzip2.</span><span><br /></span><span>Your browser accepts Content-Type: */*, image/png, text/plain, text/html, application/xhtml+xml, application/xml.</span><span><br /></span><span>Your browser accepts Content-Encoding: sdch, deflate, gzip.</span></p>
<p>我的浏览器是Chrome9 beta。</p>
<p>&nbsp;</p>
<p>Google之后看到这样一个Firefox的解决方法：（原文&nbsp;<a href="http://blog.1911census.co.uk/2009/01/content-encoding-error/">http://blog.1911census.co.uk/2009/01/content-encoding-error/</a>）</p>
<p>&nbsp;</p>
<p id="zw-12c71de42d3UCbog3916c">&nbsp;</p>
<p>&nbsp;</p>
<p>1) In the address bar type &ldquo;about:config&rdquo; (but without the inverted commas)<br />2) Tell it that you will be careful, Promise!!<br />3) In the filter type encoding<br />4) There should be one option reading &ldquo;network.http.accept-encoding&rdquo;<br />5) Click in the value column and type &ldquo;true&rdquo; (again without the inverted commas)<br />6) This should fix it and you can search to your hearts content.</p>
<p>&nbsp;</p>
<p>试了一下，果然可行。</p>
<p>&nbsp;</p>
<p>然后又搜索针对Chrome的类似的解决方案，半小时之后仍然无果 &mdash;&mdash; Chrome里没有&ldquo;about:config&rdquo;的支持。好在在&nbsp;<a href="http://www.surfchen.org/archives/582">http://www.surfchen.org/archives/582</a>&nbsp;看到这样一句话：&ldquo;chrome支持sdch压缩，另外不再支持bzip2压缩&rdquo;，很是郁闷。</p>
<p>&nbsp;</p>
<p>期待Chrome能早日支持&ldquo;about:config&rdquo;。</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

        </div>
        <a href="javascript:void(0);" style="float:right" onclick="window.scrollTo(0, 0);">Top</a>
        <div style="clear: both;"></div>
      </div>
    </div>
    
    <div class="main-container shadow">
      <div class="mainbody">
        <h2><a href="/2010/11/16/debugging-perl">Debugging Perl</a></h2>
        <p>
          Posted by <strong>Bo Yang</strong> at <strong>2010-11-16</strong> with tags <a href="/tags.html#Perl-ref" rel="nofollow">Perl</a>
        </p>
        
        <div class="post_at_index thepost">
        <p><strong>&nbsp;How to Debug Perl Library and Scripts?</strong></p>
<p>&nbsp;</p>
<p><span style="font-family:Arial, sans-serif;"><span style="font-size:small;"><span lang="ru-RU"><strong>1.&nbsp;Changing<br />
@INC - where Perl loads its modules<br />
</strong></span></span></span><span style="color:#bb0000;"><span style="font-family:'Arial Narrow', sans-serif;"><span style="font-size:medium;">(</span></span></span><a href="http://www.wellho.net/mouth/588_Changing-INC-where-Perl-loads-its-modules.html"><span style="color:#0000ff;"><span style="text-decoration:underline;">http://www.wellho.net/mouth/588_Changing-INC-where-Perl-loads-its-modules.html</span></span></a><span style="color:#bb0000;"><span style="font-family:'Arial Narrow', sans-serif;"><span style="font-size:medium;">)</span></span></span><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;">&nbsp;</span></span></p>
<p><span style="font-family:Arial, sans-serif;"><span style="font-size:small;">The<br />
@</span></span><span style="font-family:Arial, sans-serif;"><span style="font-size:small;"><strong>INC</strong></span></span><span style="font-family:Arial, sans-serif;"><span style="font-size:small;">&nbsp;array<br />
is a list of directories&nbsp;</span></span><span style="font-family:Arial, sans-serif;"><span style="font-size:small;"><strong>Perl</strong></span></span><span style="font-family:Arial, sans-serif;"><span style="font-size:small;">&nbsp;searches<br />
when attempting to load modules.&nbsp;</span></span></p>
<p><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><span>Where<br />
does Perl load modules from in its&nbsp;</span></span></span></span><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><strong><span>use</span></strong></span></span></span><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><span>&nbsp;and&nbsp;</span></span></span></span><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><strong><span>require</span></strong></span></span></span><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><span>&nbsp;statements?<br />
It loads them from directorys in a special list called&nbsp;</span></span></span></span><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><strong><span>@INC</span></strong></span></span></span><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><span>,<br />
from files with a .pm extension in those directorys.&nbsp;<br />&nbsp;<br />When<br />
Perl's installed, @INC is set to a list of directorys that includes<br />
generic locations for its standard modules, some release specific<br />
directories, and "." the current directory, which are<br />
checked in order each time you do a&nbsp;</span></span></span></span><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><strong><span>use</span></strong></span></span></span><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><span>&nbsp;or&nbsp;</span></span></span></span><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><strong><span>require</span></strong></span></span></span><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><span>.&nbsp;<br />&nbsp;<br /></span></span></span></span><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><span style="text-decoration:underline;"><span>Some<br />
ways to modify @INC</span></span></span></span></span><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><span>&nbsp;</span></span></span></span></p>
<ul>
<li>
<p><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><span>**<br />
	You can add to the list in @INC by using the -I command line option:</span></span></span></span></p>
</li>
</ul>
<p><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><strong><span>perl<br />
-I /Users/grahamellis/jan06 i2</span></strong></span></span></span><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><span>&nbsp;<br />says<br />
"run the perl program i2, additionally checking the jan06<br />
directory for modules"&nbsp;</span></span></span></span></p>
<ul>
<li>
<p><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><span>**<br />
	You can add to the list within your program by doing so in a BEGIN<br />
	block prior to the&nbsp;</span></span></span></span><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><strong><span>use</span></strong></span></span></span><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><span>&nbsp;statements:</span></span></span></span></p>
</li>
</ul>
<p><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><span>BEGIN<br />
{&nbsp;<br />push @INC,"/Users/grahamellis/jan06";&nbsp;<br />}&nbsp;<br />use<br />
demo;&nbsp;<br />print "hello world";&nbsp;</span></span></span></span></p>
<p>
<span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><span>Rather<br />
curiously,&nbsp;</span></span></span></span><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><strong><span>use</span></strong></span></span></span><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><span>&nbsp;calls<br />
are run at compile time not at run time ... but then so are BEGIN<br />
blocks ... so you put your manipulation of @INC into one of those to<br />
get it to happen early enough.&nbsp;</span></span></span></span></p>
<ul>
<li>
<p><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><span>**<br />
	You can add to the beginning of the list by setting the PERL5LIB<br />
	environment variable prior to running your program:</span></span></span></span></p>
</li>
</ul>
<p>
<span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><strong><span>export<br />
PERL5LIB=/Users/grahamellis/jan06</span></strong></span></span></span><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><span>&nbsp;</span></span></span></span></p>
<p><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><span>and<br />
you can use a colon separated list for that if you want to pre-pend<br />
more than one directory.</span></span></span></span></p>
<ul>
<li>
<p><span style="color:#000000;"><span style="font-family:Arial, sans-serif;"><span style="font-size:x-small;"><span>**There<br />
	is also the "use lib" pragma - this is probably the most<br />
	common approach. And $PERL5LIB can also be called just $PERLLIB.</span></span></span></span></p>
</li>
</ul>
<h3 class="western">2.<br />
Debugging Perl&nbsp;<a href="http://ralphie.perlmonk.org/mosix/debug.html"><span style="color:#0000ff;"><span style="font-family:Verdana, sans-serif;"><span style="font-size:x-small;"><span style="text-decoration:underline;"><span>http://ralphie.perlmonk.org/mosix/debug.html</span></span></span></span></span></a></h3>
<p><span style="font-family:'Times New Roman', serif;"><span style="font-size:x-small;"><span>To<br />
check the syntax of your scripts, type "</span></span></span><span style="color:#ff0000;"><span style="font-family:'Times New Roman', serif;"><span style="font-size:x-small;"><strong><span>perl<br />
-c&nbsp;</span></strong></span></span></span><span style="color:#ff0000;"><span style="font-family:'Times New Roman', serif;"><span style="font-size:x-small;"><em><strong><span>scriptname</span></strong></em></span></span></span><span style="color:#ff0000;"><span style="font-family:'Times New Roman', serif;"><span style="font-size:x-small;"><strong><span>.pl<br />
</span></strong></span></span></span><span style="font-family:'Times New Roman', serif;"><span style="font-size:x-small;"><span>"<br />
. It is also worthwhile to add the -w switch ("perl -cw ..."),<br />
to turn on warning mode. If you were wise enough to "use strict"<br />
in the body of the code, the syntax check will also specify<br />
inappropriate scalar scoping, which goes a little beyond the normal<br />
syntactical problems that are identified. Once your script will pass<br />
through the syntax check with a "syntax ok" message, you<br />
will have a legal perl script from the standpoint that all of the<br />
statements are legal perl statements. That doesn't mean that the<br />
manner in which any given statement is expressed will return the<br />
result that you are looking for, that the functions that are used in<br />
the code are the right ones for the job, or that the overall<br />
structure of the script does anything like what you think it supposed<br />
to do. It just means that all of the perl i's are dotted and t's are<br />
crossed. (On the other hand, this is not such a minor thing, either.)</span></span></span></p>
<p><span style="font-family:Arial, sans-serif;"><span style="font-size:small;"><span lang="ru-RU"><strong>3.<br />
perldebug</strong></span></span></span><span style="font-size:x-small;"><br />
(</span><span style="color:#000080;"><span lang="zxx"><span style="text-decoration:underline;"><a href="http://perldoc.perl.org/perldebug.html">http://perldoc.perl.org/perldebug.html</a></span></span></span><span style="font-size:x-small;">)</span></p>
<p lang="en-US"><span style="font-size:x-small;">Calling<br />
the debugger</span></p>
<p lang="en-US"><span style="font-size:x-small;">There<br />
are several ways to call the debugger:</span></p>
<ul>
<li>
<p lang="en-US"><a name="perl--d-program_name"></a><br />
<span style="font-size:x-small;"><strong>perl -d program_name</strong></span></p>
</li>
</ul>
<p lang="en-US"><span style="font-size:x-small;">On<br />
the given program identified by&nbsp;program_name&nbsp;.</span></p>
<ul>
<li>
<p lang="en-US"><a name="perl--d--e-0"></a><br />
<span style="font-size:x-small;"><strong>perl -d -e 0</strong></span></p>
</li>
</ul>
<p lang="en-US"><span style="font-size:x-small;">Interactively<br />
supply an arbitrary&nbsp;expression&nbsp;using&nbsp;-e&nbsp;.</span></p>
<ul>
<li>
<p lang="en-US"><a name="perl--d%3APtkdb-program_name"></a><br />
<span style="font-size:x-small;"><strong>perl -d:Ptkdb program_name</strong></span></p>
</li>
</ul>
<p lang="en-US"><span style="font-size:x-small;">Debug<br />
a given program via the&nbsp;Devel::Ptkdb&nbsp;GUI.</span></p>
<ul>
<li>
<p lang="en-US"><a name="perl--dt-threaded_program_name"></a><br />
<span style="font-size:x-small;"><strong>perl -dt<br />
	threaded_program_name</strong></span></p>
</li>
</ul>
<p lang="en-US"><span style="font-size:x-small;">Debug<br />
a given program using threads (experimental).</span></p>
<h3 class="western"><span lang="en-US">4. </span><span lang="en-US">Summary<br />
of Subprocess Operations</span></h3>
<table style="width:590px;" border="1" cellspacing="3" cellpadding="3">
<col width="191" />
<col width="90" />
<col width="91" />
<col width="87" />
<col width="84" />
<thead>
<tr>
<td colspan="5" width="578">
<p lang="en-US" align="CENTER"><a name="ch14-pgfId-121"></a><span style="font-size:x-small;">Table<br />
				14.1: Summary of Subprocess Operations</span></p>
</td>
</tr>
<tr valign="TOP">
<td width="191">
<p lang="en-US"><span style="font-size:x-small;"><strong>Operation</strong></span></p>
</td>
<td width="90">
<p lang="en-US"><span style="font-size:x-small;"><strong>Standard<br />
				Input</strong></span></p>
</td>
<td width="91">
<p lang="en-US"><span style="font-size:x-small;"><strong>Standard<br />
				Output</strong></span></p>
</td>
<td width="87">
<p lang="en-US"><span style="font-size:x-small;"><strong>Standard<br />
				Error</strong></span></p>
</td>
<td width="84">
<p lang="en-US"><span style="font-size:x-small;"><strong>Waited<br />
				for?</strong></span></p>
</td>
</tr>
</thead>
<tbody>
<tr valign="TOP">
<td width="191">
<p lang="en-US"><span style="font-size:x-small;">system()</span></p>
</td>
<td width="90">
<p lang="en-US"><span style="font-size:x-small;">Inherited<br />
				from program</span></p>
</td>
<td width="91">
<p lang="en-US"><span style="font-size:x-small;">Inherited<br />
				from program</span></p>
</td>
<td width="87">
<p lang="en-US"><span style="font-size:x-small;">Inherited<br />
				from program</span></p>
</td>
<td width="84">
<p lang="en-US"><span style="font-size:x-small;">Yes</span></p>
</td>
</tr>
<tr valign="TOP">
<td width="191">
<p lang="en-US"><span style="font-size:x-small;">Backquoted<br />
				string</span></p>
</td>
<td width="90">
<p lang="en-US"><span style="font-size:x-small;">Inherited<br />
				from program</span></p>
</td>
<td width="91">
<p lang="en-US"><span style="font-size:x-small;">Captured as<br />
				string value</span></p>
</td>
<td width="87">
<p lang="en-US"><span style="font-size:x-small;">Inherited<br />
				from program</span></p>
</td>
<td width="84">
<p lang="en-US"><span style="font-size:x-small;">Yes</span></p>
</td>
</tr>
<tr valign="TOP">
<td width="191">
<p lang="en-US"><span style="font-size:x-small;">open()&nbsp;command<br />
				as filehandle for output</span></p>
</td>
<td width="90">
<p lang="en-US"><span style="font-size:x-small;">Connected to<br />
				filehandle</span></p>
</td>
<td width="91">
<p lang="en-US"><span style="font-size:x-small;">Inherited<br />
				from program</span></p>
</td>
<td width="87">
<p lang="en-US"><span style="font-size:x-small;">Inherited<br />
				from program</span></p>
</td>
<td width="84">
<p lang="en-US"><span style="font-size:x-small;">Only at time<br />
				of&nbsp;close()</span></p>
</td>
</tr>
<tr valign="TOP">
<td width="191">
<p lang="en-US"><span style="font-size:x-small;">open()&nbsp;command<br />
				as filehandle for input</span></p>
</td>
<td width="90">
<p lang="en-US"><span style="font-size:x-small;">Inherited<br />
				from program</span></p>
</td>
<td width="91">
<p lang="en-US"><span style="font-size:x-small;">Connected to<br />
				filehandle</span></p>
</td>
<td width="87">
<p lang="en-US"><span style="font-size:x-small;">Inherited<br />
				from program</span></p>
</td>
<td width="84">
<p lang="en-US"><span style="font-size:x-small;">Only at time<br />
				of&nbsp;close()</span></p>
</td>
</tr>
<tr valign="TOP">
<td width="191">
<p lang="en-US"><span style="font-size:x-small;">fork,&nbsp;exec,&nbsp;wait,&nbsp;waitpid</span></p>
</td>
<td width="90">
<p lang="en-US"><span style="font-size:x-small;">User<br />
				selected</span></p>
</td>
<td width="91">
<p lang="en-US"><span style="font-size:x-small;">User<br />
				selected</span></p>
</td>
<td width="87">
<p lang="en-US"><span style="font-size:x-small;">User<br />
				selected</span></p>
</td>
<td width="84">
<p lang="en-US"><span style="font-size:x-small;">User<br />
				selected</span></p>
</td>
</tr>
</tbody>
</table>
<p lang="en-US">&nbsp;</p>
<p><span style="font-size:x-small;"><span lang="en-US">Above<br />
table is from the book </span></span><span style="font-size:x-small;"><span lang="en-US"><em><strong>Learning<br />
Perl</strong></em></span></span><span style="font-size:x-small;"><span lang="en-US">.</span></span></p>
<p>&nbsp;</p>

        </div>
        <a href="javascript:void(0);" style="float:right" onclick="window.scrollTo(0, 0);">Top</a>
        <div style="clear: both;"></div>
      </div>
    </div>
    
    <div class="main-container shadow">
      <div class="mainbody">
        <h2><a href="/2010/11/05/update-fedora12-to-fedora14">升级Fedora 12到最新的Fedora 14</a></h2>
        <p>
          Posted by <strong>Bo Yang</strong> at <strong>2010-11-05</strong> with tags <a href="/tags.html#Unix/Linux-ref" rel="nofollow">Unix/Linux</a>
        </p>
        
        <div class="post_at_index thepost">
        <p>Fedora 14于11月2号正式发布了，而我的Fedora 12已经用了1年多了，尽管仍然十分稳定，但还是想着赶赶潮流。</p>
<p>&nbsp;</p>
<p>完全重装当然是舍不得的，于是Google了一下，发现了preupgrade这个Tool可以用来升级系统，详情参见：<a href="http://fedoraproject.org/wiki/PreUpgrade">http://fedoraproject.org/wiki/PreUpgrade</a>。</p>
<p>&nbsp;</p>
<p>升级还是很傻瓜话的，惟一的问题就是由于我家网络不太好，下载升级包的过程中找不到mirror而终端过一次。重新开始之后，正好是凌晨5~6点，以平均600K的速度疯狂下载，很快就把1917个升级包下好了，然后就是安装，没什么好说的。</p>
<p>&nbsp;</p>
<p>升级完之后检查了一下软件的兼容性，发现除极个别的软件之外，如aMule和Vim (vi可以)，其它都可以正常工作。aMule又得重新编译了。</p>
<p>&nbsp;</p>
<p>升级之后，用package-cleanup --orphans查了一下垃圾软件包，不是很多。看见这些垃圾我就很不爽，于是就准备手动删除它们。第一个要删的就是ModemManager，用的命令是yum remove XXX，由于没仔细看它的dependency，结果直接输入y之后把所有depend on它的NetworkManager们都给删了，于是乎我的网络中断了&hellip;&hellip;</p>
<p>&nbsp;</p>
<p>好在我为防不测，已经下好了Fedora14的DVD ISO文件，于是挂载上ISO之后到它的Packages里面找到ModemManager和NetworkManager们，统统装上，重启，网络又OK了！</p>
<p>&nbsp;</p>
<p>由此可见，升级有风险，删包需谨慎。</p>
<p>&nbsp;</p>
<p>总体而言，Fedora14和以前版本Gnome界面上变化不是很大，感觉稳定性资源利用率有所提高，某些软件的易用性有所增强&mdash;&mdash;每次进步一点点，这就够了！</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>

        </div>
        <a href="javascript:void(0);" style="float:right" onclick="window.scrollTo(0, 0);">Top</a>
        <div style="clear: both;"></div>
      </div>
    </div>
    
    <div class="main-container shadow">
      <div class="mainbody">
        <h2><a href="/2010/10/29/tianhe-1a">国外网友对我天河-1A成为世界最快计算机的评论</a></h2>
        <p>
          Posted by <strong>Bo Yang</strong> at <strong>2010-10-29</strong> with tags <a href="/tags.html#Industry-ref" rel="nofollow">Industry</a>, <a href="/tags.html#Essay-ref" rel="nofollow">Essay</a>
        </p>
        
        <div class="post_at_index thepost">
        <p>&nbsp;</p>
<div>
<h1 id="zw-12bf62e940fsmdD0S3916c"><span style="font-weight:normal;font-size:12px;"><span id="zw-12bf62e9410QREo_V3916c">某国外的网友贴出了这样一则消息（</span><a id="zw-12bf62e94101SduHA3916c" href="http://tech.slashdot.org/story/10/10/28/1220247/China-Makes-Worlds-Fastest-Supercomputer"><span id="zw-12bf62e9411wRz5o03916c">http://tech.slashdot.org/story/10/10/28/1220247/China-Makes-Worlds-Fastest-Supercomputer</span></a><span id="zw-12bf62e9411p82gF3916c">）：</span></span></h1>
<p><span><br /></span></p>
<p id="zw-12bf62e9412uHrXcI3916c"><span id="zw-12bf62e94125hqCV3916c">"China has replaced the United States&nbsp;<span><a id="zw-12bf62e9413YB7FOJ3916c" href="http://www.ibtimes.com/articles/76731/20101028/tianhe-1a-tianhe-supercomputer-fastest-supercomputer-china-us-nvidia-amd-gpum-cpu-chip-semiconductor.htm"><span id="zw-12bf62e9414fTBghw3916c">as the maker of the world's fastest supercomputer</span></a></span></span><span id="zw-12bf62e9415ocXyUJ3916c">. A Chinese research center has made the world's faster super computer &mdash; named as Tianhe-1A, which was released at a national conference on high-performance computers (HPC) in China. Made at a cost of over $88 million, Tianhe-1A is theoretically able to do more than 1 quadrillion calculations per second (one petaflop) at peak speed. Tianhe-1A 's peak performance reaches 1.206 petaflops, and it runs at 563.1 teraflops (1,000 teraflops is equal to one petaflop) on the Linpack benchmark."</span></p>
<p><span><br /></span></p>
<p id="zw-12bf62e9415QPOGpp3916c"><span id="zw-12bf62e9415P43W2W3916c">其他外国网友们的回复，很有意思（【】中是我的点评）：</span></p>
<p id="zw-12bf62e9416YWL68b3916c">&nbsp;</p>
<ol id="zw-12bf62e941d86XE0C3916c">
<li id="zw-12bf62e9417PYFRGZ3916c"><span id="zw-12bf62e9417fts3P3916c">But does it run (Red Flag) Linux? 【虽然我也不知道是不是跑得红旗&ldquo;国产操作系统&rdquo;，但这位哥们竟然知道Red Flag Linux的存在，&ldquo;核高基&rdquo;的那群砖家叫兽们还不得内牛满面？】</span></li>
<li id="zw-12bf62e94179SBbA83916c"><span id="zw-12bf62e9418Xp5a6T3916c">China: "We made the fastest super-computer!!!" &nbsp;&nbsp;</span><span id="zw-12bf62e9419c_cWLp3916c">Intel and NVidia: "Uh - no you didn't, We are own all your processors!!!" &nbsp;</span><span id="zw-12bf62e9419cB-0FM3916c">【我也这么认为】</span></li>
<li id="zw-12bf62e9419YPcv_43916c"><span id="zw-12bf6313cd4XEdq1-3916c">Yeah, lets borrow more money from the Chinese Government so we can build a useless supercomputer to outdo them - just to say we did it! Thanks, grandkids! 【</span><span id="zw-12bf6313d3aDEFzy3916c">看来景德镇政府这个土大款声名远播了</span><span id="zw-12bf6313cd55X9Zc43916c">】</span></li>
<li id="zw-12bf62e941aPDMvMg3916c"><span id="zw-12bf62e941a_tcYVd3916c">Sadly, China needed to build this computer simply to calculate the interest on the US debt in realtime. 【这哥们肯定是美国人】</span></li>
<li id="zw-12bf62e941bEOGmUt3916c"><span id="zw-12bf62e941bMP5pKv3916c">Competitive in what, exactly? We have many supercomputers in the USA; we have no idea what to do with them, though, and many of them are spending a lot of time idle. Some supercomputers are now being rented out to investors, because the people the computers were built for -- the scientists -- are not using enough computer time. 【美国的HPC真的多的用不了了？貌似不是吧&hellip;&hellip;模拟一次军事演习或者核爆，就需要N多HPC。不过这哥们的评论要是把USA改成景德镇，那倒是无可争辩的事实&mdash;&mdash;想想研究生期间实验室里闲置了好几年的好几台IBM服务器，买了之后就没人动过它们&hellip;&hellip;】</span></li>
<p id="zw-12bf62e941buEYRKn3916c"><span id="zw-12bf62e941cV0pU83916c">What we really need to do is look at the state of research in this country.【这句话说到点子上了。】 Also, maybe if we had a more solid economic base, one in which we solve the trade imbalance by exporting real goods rather than copyrights, we could spend more money on science and supercomputing. Oh well, in your words, "who am I kidding?" 【这句话就说明上段评论是酸葡萄心理了。】</span></p>
<p id="zw-12bf62e941buEYRKn3916c">&nbsp;</p>
<li>Oh my. When have I heard this before? Oh yes, back in the 1980s when there was panic and hyperbole over Japan, Inc. overtaking the USA in everything. How did that pan out exactly? I don't see how the current situation with China is any different. 【严重同意这位美国哥们的观点】</li>
<li id="zw-12bf62e941eAb7jw_3916c"><span id="zw-12bf62e941eLorx_13916c">另一哥们对上条评论的回复：</span></li>
<p id="zw-12bf62e941f6PKvln3916c"><span id="zw-12bf62e941fx2ST93916c">China is way different from Japan. For starters, it has resources, and it can play the game any way it wants to. Japan could only play hardball (</span><span id="zw-12bf62e941fqbYpPj3916c">采取强硬态度</span><span id="zw-12bf62e941fbe67lL3916c">)&nbsp;economically. China can at any time choose to overrun Korea and Taiwan at any time if they choose to, and the only recourse would either be a hard fought conventional war, or a nuclear exchange.&nbsp;</span></p>
<p id="zw-12bf62e941flTXoAn3916c"><span id="zw-12bf62e9420RngW13916c">China can fight dirty(下黑手). Japan cannot. And China is good at fighting dirty, because they "won" two wars (Korea and Vietnam) by proxy, sending in men and materials to do what the native population couldn't. If China chose to, they could easily turn up the heat in other areas hostile to the US by sending in troops and munitions. China could hand Iran the tools to seize control of the Strait of Hormuz and there would be nothing the US could do about it except engage in another theater of war which would be unwinnable. 【看来这哥们对景德镇政府的成见很深啊】</span></p>
<p id="zw-12bf62e9420RTqSrt3916c">&nbsp;</p>
<li id="zw-12bf62e9420D6Zrn13916c"><span id="zw-12bf62e9420eUz3ug3916c">一哥们回复说把这世界上&ldquo;最牛逼&rdquo;的超级电脑装在世界上&ldquo;最牛逼&rdquo;的和谐号上会如何？</span></li>
<blockquote id="zw-12bf62e9420CqmsNq3916c">
<div id="zw-12bf62e94201g9eHG3916c">
<p id="zw-12bf62e9420VDT7uw3916c"><span id="zw-12bf62e9421vPYLjP3916c">Would there be a benefit to putting the fastest computer in the fastest train?</span></p>
</div>
</blockquote>
<p id="zw-12bf62e9421z2nvB_3916c"><span id="zw-12bf62e94224Mjie13916c">Hmmm.... if the train was going fast enough for relativistic effects to kick in, then this would make the computer *even faster*. You, sir / ma'am, are brilliant! 【这哥们的回答很无厘头】</span></p>
<p id="zw-12bf62e942209Bsf3916c">&nbsp;</p>
<li id="zw-12bf62e94221i1hyD3916c"><span id="zw-12bf62e9422qTdofz3916c">Finally they will be able to computerize the national census procedures.【直接怀疑这哥们是间谍，竟然连我景德镇人口普查的具体方式都了若指掌&mdash;&mdash;在2010年的今天，还让街道大妈挨家挨户拿着表格手工填&hellip;&hellip; 不过这哥们应该还是不了解我景德镇的镇情，如此一来解决了多少社会闲散人员的就业，拉动了多少内需，满足了多少文革遗老遗少（街道的那些人）的虚荣心，加强了多少社会的和谐啊！】</span></li>
<li id="zw-12bf62e9423twMN0K3916c"><span id="zw-12bf62e94237NMxnQ3916c">Supercomputing is largely a solved problem...do a regression analysis on the variables on the Top 500 sometime. Primarily it's a function of the number of cores. I've told people in my own workplace - you want a machine on the Top 500 then write me a cheque - making a supercomputer isn't the feat of skill or engineering that it was in the days of Cray. This doesn't even touch on what the hell you use these things for the problem space for parallel processing is clearly smaller than that of serial processing. Add to that the assertion that the number of useful applications drops off steeply as you add more cores (at some point you are left with only the "embarrassingly parallel" ones) and creating the largest supercomputer in the world is akin to saying you are creating the least useful computer in the world. Not to mention probably one of the least power efficient, highest maintenance costs, etc.. 【我相信这哥们说的是事实】</span></li>
<p id="zw-12bf62e9423YX7CJm3916c"><span id="zw-12bf62e9424WWb2zt3916c">we went to the moon during a period of nationalist chest thumping, and when the nationalist chest thumping subsided, we haven't been back. countries that are interested in nationalist chest thumping: china, india, etc, are still pumping up their space programs</span></p>
<p id="zw-12bf62e9424-vH37l3916c"><span id="zw-12bf62e94243UGizb3916c">what i am saying is, for all the evils of nationalism, scientific advancement in the realm of large projects seems to be a positive byproduct</span><span id="zw-12bf62e9425jUYNDl3916c">【至理名言啊！自建镇以来，我景德镇的所有的重大科技成果，那个不是副产品？记得大学期间，一位东南大学的老教授去给我们做讲座，回忆起当年许世友主政南京军区时，逼着他们在极端恶劣的环境下没日没夜的搞永动机，老教授唏嘘不已&hellip;&hellip;】</span></p>
<p id="zw-12bf62e9425qg4frQ3916c"><span id="zw-12bf62e94255-YaJ3916c">for example, if we were still in a cold war with the ussr in the 1990s, i will bet you anything that this would have been completed and would be producing amazing science at this point in time:</span><a id="zw-12bf62e9426mtxNZb3916c" title="wikipedia.org" href="http://en.wikipedia.org/wiki/Superconducting_Super_Collider"><span id="zw-12bf62e9426te9YNw3916c">http://en.wikipedia.org/wiki/Superconducting_Super_Collider</span></a><span id="zw-12bf62e9427NGYjD3916c">&nbsp;[wikipedia.org] 【在我景德镇，这种例子俯拾皆是】</span></p>
<p id="zw-12bf62e9427o4aFfF3916c">&nbsp;</p>
<li id="zw-12bf62e9427aQydKt3916c"><span id="zw-12bf62e9427VE2g9k3916c">There is absolutely no consistency in numbers in this story. Some measurements show this computer to be about 45% slower than the Cray XT5 and some show it to be faster.&nbsp;</span><span id="zw-12bf62e94288iUhtS3916c">Given China's history of arbitrarily throwing out numbers to try to prop themselves up in the international community I cannot accept this as fact without some sort of independent verification.</span><span id="zw-12bf62e9428Sa1hdi3916c">&nbsp;If China has in fact created the worlds fastest supercomputer, I congratulate them on a job well done. But I am still skeptical about this story. Sounds like my government (US) is just looking for an excuse to spend billions more on a new supercomputer. 【兄弟，别说你一老美，连我一景德镇居民都不信！老外都知道我景德镇的浮夸之风了。】</span></li>
</ol>
</div>
<p><span id="zw-12bf6545f50fkLGSD3916c">对于天河-1A是否是世界上最快的计算机，我不敢妄下结论，但可以肯定的是，</span><span id="zw-12bf6545f9as0ImxV3916c">天河-1A肯定是比上一代取得不小进步的，因此向工作在这个项目上的最底层的同志们致敬，道一声&ldquo;你们辛苦了！&rdquo; 活永远是你们这些基层人的来干，油水永远是领导们捞，功劳和荣耀永远是属于领导的，出了问题责任永远是你们的&mdash;&mdash;这是景德镇的传统。</span></p>

        </div>
        <a href="javascript:void(0);" style="float:right" onclick="window.scrollTo(0, 0);">Top</a>
        <div style="clear: both;"></div>
      </div>
    </div>
    
    <div class="main-container shadow">
      <div class="mainbody">
        <h2><a href="/2010/10/15/chrome8-processes">Chrome 8 进程的疑惑</a></h2>
        <p>
          Posted by <strong>Bo Yang</strong> at <strong>2010-10-15</strong> with tags <a href="/tags.html#Browser-ref" rel="nofollow">Browser</a>
        </p>
        
        <div class="post_at_index thepost">
        <p>最近一直习惯用Chrome打开多个网页，时间一长，就发现硬盘一直在高速旋转。一开始以为是公司的监控软件的原因，就忍了。知道今天早上，电脑持续很长时间的没反应之后，弹出对话框说某个plug-in一直在运行&hellip;&hellip;当时只有Chrome浏览器在工作，这个plugin只可能是Chrome的&hellip;&hellip; 关掉chrome后，硬盘还是高速旋转，打开任务管理器，发现还是有很多chrome进程在运行，很明显这些是跑飞了的chrome进程了。</p>
<p>&nbsp;</p>
<p>杀死所有chrome残留进程之后，我重新打开chrome浏览器，打开几个tab，对比Windows任务管理器、chrome任务管理器，发现了一些有趣的现象：</p>
<p>&nbsp;</p>
<p style="text-align:center;"><img src="http://bonny95.files.wordpress.com/2010/10/0_128711145593hi.gif" alt="" /></p>
<p style="text-align:center;">Chrome运行时截图</p>
<p>&nbsp;</p>
<p style="text-align:center;"><img src="http://bonny95.files.wordpress.com/2010/10/0_1287111468b1zv.gif" alt="" /></p>
<p style="text-align:center;">Windows任务管理器中的Chrome进程</p>
<p>&nbsp;</p>
<p style="text-align:center;"><img src="http://bonny95.files.wordpress.com/2010/10/0_1287111476mcts.gif" alt="" /></p>
<p style="text-align:center;">Chrome任务管理器中的Chrome进程</p>
<p style="text-align:left;">&nbsp;</p>
<p style="text-align:left;">可以看出：</p>
<ol>
<li>Chrome任务管理器中所耗内存的数值比Windows任务管理器中显示的要小很多；</li>
<li>实际打开了8个Tab，在Chrome任务管理器中却有12个；</li>
<li>Chrome任务管理器显示有17个Chrome进程，而Windows任务管理器却显示有18个Chrome进程。</li>
</ol>
<p>等将来有时间时，好好研究一下这些问题。</p>
<p>-----------------------------------------------------------------------------------------------------------</p>
<p>Update: 2010-100-26</p>
<p>&nbsp;</p>
<p>Chrome 8 dev升级到8.0.552.11已经有一段时间了，虽说该升级版本已经修复了一些Chrome进程僵死的bug,但运行时间一长，该问题还是会出现的。</p>
<p>&nbsp;</p>

        </div>
        <a href="javascript:void(0);" style="float:right" onclick="window.scrollTo(0, 0);">Top</a>
        <div style="clear: both;"></div>
      </div>
    </div>
    
    <div class="main-container shadow">
      <div class="mainbody">
        <h2><a href="/2010/09/28/sick-in-phone">手机引发的思维定势</a></h2>
        <p>
          Posted by <strong>Bo Yang</strong> at <strong>2010-09-28</strong> with tags <a href="/tags.html#Personal-ref" rel="nofollow">Personal</a>, <a href="/tags.html#Essay-ref" rel="nofollow">Essay</a>
        </p>
        
        <div class="post_at_index thepost">
        <div>
<p id="zw-12b55e53d82WN4si15bea0">早晨你一睁眼，发现早已天光大亮，不禁疑惑为什么手机的闹钟没有响。爬起来打开手机一看，满屏八糟<span id="zw-12b56bc5cc4JOP35J15bea0">​</span><span id="zw-12b56bc5c44td-05U15bea0">​</span><span id="zw-12b56bc5bc56RLN-15bea0">​</span><span id="zw-12b56bc5b1c2zjOFn15bea0">​</span>的英文字母&mdash;&mdash;Oh, my god<span id="zw-12b56bca6ebdi8_mo15bea0">​</span><span id="zw-12b56bca5dbFHNez15bea0">​</span><span id="zw-12b56bca49bDmE0mg15bea0">​</span><span id="zw-12b56bca3cbUr433S15bea0">​</span><span id="zw-12b56bca22b5msouI15bea0">​</span><span id="zw-12b56bca12bDtMNIv15bea0">​</span><span id="zw-12b56bc9fccz4uS7i15bea0">​</span><span id="zw-12b56bc9f1b86HFJf15bea0">​</span><span id="zw-12b56bc923bsvbK7515bea0">​</span><span id="zw-12b56bc913beknohb15bea0">​</span><span id="zw-12b56bc8e2bQsDmYr15bea0">​</span><span id="zw-12b56bc8d3c_T9wHh15bea0">​</span>，你的手机怎么了?!凭着自己几年程序员的经验，匆匆瞥一眼最后一行的提示，按下&lt;Home&gt;键，满屏的英文字母变成了一个巨大的惊叹号，然后就无论你怎么操作都不再有反应了&hellip;&hellip;病毒？系统崩溃？还是硬件错误？</p>
<p id="zw-12b56be971c0FstCk15bea0">你略加思索，然后打开手机后盖，拆掉电池然后重新装上，开机，终于等来了久违的&ldquo;HTC&rdquo;这三个字母。你沾沾自喜，大多数软件问题都可以通过重启系统解决&hellip;&hellip;&ldquo;HTC&rdquo;这三个字母很快就变成了Sprint的开机动画&mdash;&mdash;你的手机是水货，Sprint定制的HTC的EVDO Android手机<span id="zw-12b56c1b795s3FbOQ15bea0">​</span><span id="zw-12b56c11a883NK-S15bea0">​</span><span id="zw-12b56c11a48yZcw9-15bea0">​</span><span id="zw-12b56c119a8hmriSA15bea0">​</span><span id="zw-12b56c11918JgGv0415bea0">​</span><span id="zw-12b56c11858cKktT15bea0">​&mdash;&mdash;当你的信息更加坚定之时，突然手机左上角的提示等闪了两下，整个屏幕黑暗了&hellip;&hellip;</span></p>
<p id="zw-12b56c2d25aTuBKvr15bea0"><span id="zw-12b56c2d25ayqbo6J15bea0">你重新开机，重新看到HTC，重新看到Sprint，这次还看到了Android的小机器人，你开始紧张，左上角的红灯又闪了两下，屏幕再次变暗&hellip;&hellip;反复几次，重启并没有解决问题&hellip;&hellip;OMG，花几千块钱刚买了不到一年的手机竟然无法开机！你抓狂了&hellip;&hellip;</span></p>
<p id="zw-12b56c5afa4q-idaS15bea0"><span id="zw-12b56c5afa4DlbViG15bea0">中秋那天你陪你老婆去天安门看巨型牡丹，拍照时你那素有&ldquo;破坏之王&rdquo;美誉的老婆把你的手机摔了一下&mdash;&mdash;一下摔倒了手机的右下角和右上角&mdash;&mdash;感谢毛爷爷，你的手机捡起来还能继续用。是的，是能用的，因为昨天晚上你还用它给你妈妈打电话。但会不会是因为摔了那一下把某个芯片的焊点摔松了，尽管当时能work，时间一长就脱焊了？很有可能。</span></p>
<p id="zw-12b56c9da83ERlIP015bea0"><span id="zw-12b56c9da83EYncvR15bea0">不管是不是硬件的问题，你都得先试试通过软件能不能修复&mdash;&mdash;这也是你唯一有可能控制的东西。你想按一下&lt;Reset&gt;回复到出厂设置，但你又担心这样一来不仅删除了所有已经保存的信息，而且由于中美CDMA手机之间的差异，这手机必须得破解、写号之后才能用，而这，是非常恐怖的事情&hellip;&hellip;好在你终于还是无法找到那个&lt;Reset&gt;小孔，否则你很难保证能战胜心中按下它的欲望。</span></p>
<p id="zw-12b56cd9ffelZfZud15bea0"><span id="zw-12b56cd9ffeSWSW8I15bea0">看来这手机只能慢慢修了。可是你最近又非常忙，忙工作，忙自己的事情，根本没时间也没心情去搞一部坏了的手机。即使有了时间有了心情，你对于Android只有一个肤浅的认识，怎么进入debug模式都不知道，又谈何修复？于是你的头越来越大&hellip;&hellip;</span></p>
<p id="zw-12b56e282f9Xrr-3G15bea0"><span id="zw-12b56e282f9s_0vC615bea0">好在还有去年的一部旧手机可以用，虽说破了点，但能打电话，将就一下吧。你翻箱倒柜把它找出来，插上卡，开机，果然还能用。</span></p>
<p id="zw-12b56cff0269jLnoH15bea0"><span id="zw-12b56cff026KlJynG15bea0">你稍稍冷静了一下，边洗脸刷牙边考虑接下买什么手机&hellip;&hellip;HTC的？算了，坏了的这个就是HTC质量的写照，本来去年就是本着支持国产（虽说HTC是台湾的企业，但你坚信台湾是中国不可分割的一部分，因此你对所有的台资企业和大陆企业一视同仁）品牌和Google去买的这款手机。Moto？高端的贵了点，低端的差了点。Nokia、三星直流不予考虑。iPhone?贵了点，还得换运营商，而且那两家运营商的资费都很不靠谱，还三天两头骗我们，算了&hellip;&hellip;要不就还是先用这个能用破手机，然后等iPad2出来买个iPad吧，反正买智能机也不过就是为了能在漫长的等待的过程中看电子书，比如等班车的时候，等着下车的时候，等着上菜的时候&hellip;&hellip;</span></p>
<p id="zw-12b56d6cb17wO1bRk15bea0"><span id="zw-12b56d6cb17wGBnSB15bea0">吃早饭的时候，你决定边吃饭边再做一下最后的努力来看看那个HTC的手机能不能修复。你又重启了两次，还是那个样子。突然，你意识到，左上角红灯闪的时候，都是电池没电的征兆&hellip;&hellip;可这手机是昨天晚上才充好电的啊&hellip;&hellip;你试着插上电源，开机，你成功了！</span></p>
<p id="zw-12b56d95b67Auy9ZA15bea0"><span id="zw-12b56d95b67_ig0eT15bea0">于是你终于搞清楚了问题的所在：昨晚睡觉前，你的手机还可以正常工作，可是在夜里不知道某个时候，手机的某个程序崩溃了，这就是你今早第一次开机时看到的满屏英文字母要说的事情&hellip;&hellip;这个问题应该是可以通过重启系统解决的，可由于昨夜系统崩溃后，手机的电源控制模块不能正常工作，很快就把手机电池的电耗光了，于是今天早晨你每次开机的时候，都只能开到一半，因为系统检测到剩余电量不足，就强行关机了。</span></p>
<p id="zw-12b56dcaf74HRJ_B515bea0">本来是个非常简单的问题，而你的惯性思维斗了一个大大的圈子，才发现其本质所在。你应该庆幸，你也有了经验，不再是乳臭未干的小子。你应该悲哀，因为不知道什么时候，你就会为你的思维定势所累。</p>
</div>

        </div>
        <a href="javascript:void(0);" style="float:right" onclick="window.scrollTo(0, 0);">Top</a>
        <div style="clear: both;"></div>
      </div>
    </div>
    
    <div class="main-container shadow">
      <div class="mainbody">
        <h2><a href="/2010/09/21/special-var-in-ksh">Ksh中的$*和$@</a></h2>
        <p>
          Posted by <strong>Bo Yang</strong> at <strong>2010-09-21</strong> with tags <a href="/tags.html#Unix/Linux-ref" rel="nofollow">Unix/Linux</a>
        </p>
        
        <div class="post_at_index thepost">
        <p>The meaning of $* and $@ is identical when not quoted or when used as a<br />
parameter assignment value or as a file name.</p>
<p>&nbsp;</p>
<p>However, when used as a command argument, "$*" is equivalent to "$1<span class="docEmphasis">d</span>$2<span class="docEmphasis">d</span>..." , where <span class="docEmphasis">d</span> is the first character of the <span class="docEmphStrong">IFS</span> parameter, whereas "$@" is equivalent to "$1"<br />
"$2" ....</p>

        </div>
        <a href="javascript:void(0);" style="float:right" onclick="window.scrollTo(0, 0);">Top</a>
        <div style="clear: both;"></div>
      </div>
    </div>
    
    <div class="main-container shadow">
      <div class="mainbody">
        <h2><a href="/2010/09/14/clone-vm-in-ESXi">How to Clone VMs in ESXi</a></h2>
        <p>
          Posted by <strong>Bo Yang</strong> at <strong>2010-09-14</strong> with tags <a href="/tags.html#Unix/Linux-ref" rel="nofollow">Unix/Linux</a>, <a href="/tags.html#ESXi-ref" rel="nofollow">ESXi</a>, <a href="/tags.html#Virtual Machine-ref" rel="nofollow">Virtual Machine</a>
        </p>
        
        <div class="post_at_index thepost">
        <p>&nbsp;</p>
<p class="MsoNormal"><span lang="EN-US">1. Create a new VM (clone2) without a disk equipped.</span></p>
<p class="MsoNormal"><span lang="EN-US">2. Use the VM tool to clone the disk from<br />
the existing VM to the new VM. Usually, you can find all the VMs in the /vmfs/volumes/datastore1/.</span></p>
<p class="MsoNormal">
<pre>vmkfstools -i /vmfs/volumes/4c3b50b8-d57dc2fc-d2b7-00241d1852fa/Test_wjh/Test_wjh.vmdk /vmfs/volumes/4c3b50b8-d57dc2fc-d2b7-00241d1852fa/clone2/disk1.vmdk</pre>
<p>&nbsp;</p>
<p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal"><span lang="EN-US">3. On the client add the cloned disk to the<br />
VM clone2</span></p>
<p class="MsoNormal"><span lang="EN-US"><span>&nbsp;</span>&ldquo;edit settings&hellip; -&gt;<span>&nbsp; </span>Harware -&gt; add &ldquo;hard disk&rdquo; -&gt; &ldquo;using<br />
existing virtual disk&rdquo; -&gt; find the &ldquo;disk1.vmdk&rdquo; and choose it.</span></p>
<p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal"><span lang="EN-US">4. Power on the VM.</span></p>
<p>&nbsp;</p>
<p>[Warning]:</p>
<ul>
<li>You must shutdown the VM which you want to clone.</li>
<li>The cloned VM is identical to the original one, including the physical address(MAC) of the network card, the network configuration and so on. So, please change such config after clone.&nbsp;</li>
</ul>

        </div>
        <a href="javascript:void(0);" style="float:right" onclick="window.scrollTo(0, 0);">Top</a>
        <div style="clear: both;"></div>
      </div>
    </div>
    

    <div class="main-container shadow">
      <div class="mainbody">
        
<div class="pagination">
    <ul>
    
        <li class="prev">
        <a href="/page8">&larr; Previous</a>
        
        </li>
    

    
        <li><a href="/">1</a></li>
        

        
            <li><a href="/page2">2</a></li>
            
        
            <li><a href="/page3">3</a></li>
            
        
            <li><a href="/page4">4</a></li>
            
        
            <li><a href="/page5">5</a></li>
            
        
            <li><a href="/page6">6</a></li>
            
        
            <li><a href="/page7">7</a></li>
            
        
            <li><a href="/page8">8</a></li>
            
        
            <li class="disabled"><a>9</a></li>
            
        
            <li><a href="/page10">10</a></li>
            
        
            <li><a href="/page11">11</a></li>
            
        
            <li><a href="/page12">12</a></li>
            
        
            <li><a href="/page13">13</a></li>
            
        
            <li><a href="/page14">14</a></li>
            
        
            <li><a href="/page15">15</a></li>
            
        
            <li><a href="/page16">16</a></li>
            
        
            <li><a href="/page17">17</a></li>
            
        
            <li><a href="/page18">18</a></li>
            
        
            <li><a href="/page19">19</a></li>
            
        
            <li><a href="/page20">20</a></li>
            
        
    

    
        <li class="next"><a href="/page10">Next &rarr;</a></li>
    
    </ul>
</div>


      </div>
    </div>

  </div>

  <div class="span3 right">
    <div class="side-container shadow">
      <div class="sidebar">
		  <wb:follow-button uid="2461544952" type="red_1" width="63" height="24" ></wb:follow-button>
		  <!-- Site Meter -->
<script type="text/javascript" src="http://s51.sitemeter.com/js/counter.js?site=s51bo-yang">
</script>
<noscript>
<a href="http://s51.sitemeter.com/stats.asp?site=s51bo-yang" target="_top">
<img src="http://s51.sitemeter.com/meter.asp?site=s51bo-yang" alt="Site Meter" border="0"/></a>
</noscript>
<!-- Copyright (c)2009 Site Meter -->


      </div>
  </div>

    <div class="side-container shadow">
      <div class="sidebar">
        
        <h3>Recent Posts</h3>
        <ul>
        
          <li><span>2014-05-26</span> &raquo; <a href="/2014/05/26/binary-tree-traversal">
            Binary Tree Operations</a></li>
        
          <li><span>2014-04-30</span> &raquo; <a href="/2014/04/30/fisher-vector-in-action-recognition">
            Action Recognition with Fisher Vectors</a></li>
        
          <li><span>2014-03-29</span> &raquo; <a href="/2014/03/29/how-to-install-jekyll-in-mac-osx-mavericks">
            How To Install Jekyll in Mac OSX Mavericks</a></li>
        
          <li><span>2014-03-26</span> &raquo; <a href="/2014/03/26/c-code-to-print-pascal-triangle">
            C++ Code to Print Pascal Triangle</a></li>
        
          <li><span>2014-01-22</span> &raquo; <a href="/2014/01/22/baci-simple-install-and-compile-guide">
            BACI Simple Install and Compile Guide</a></li>
        
          <li><span>2014-01-10</span> &raquo; <a href="/2014/01/10/dense-trajectory-notes">
            Dense Trajectory Notes</a></li>
        
          <li><span>2013-10-20</span> &raquo; <a href="/2013/10/20/parallel-mex-file-in-matlab">
            Parallelize mex file in Matlab</a></li>
        
          <li><span>2013-10-11</span> &raquo; <a href="/2013/10/11/notes-of-advanced-machine-learningi">
            Notes of Advanced Machine Learning(I)</a></li>
        
          <li><span>2013-10-10</span> &raquo; <a href="/2013/10/10/undefined-reference-error-during-installing-opencv">
            "undefined reference" error during installing OpenCV</a></li>
        
          <li><span>2013-10-10</span> &raquo; <a href="/2013/10/10/build-dense-trajectory-codes-in-ubuntu">
            Build Dense Trajectory Codes in Ubuntu</a></li>
        
        </ul>
        
      </div>
    </div>

    <div class="side-container shadow">
      <div class="sidebar">
        
        <h3>Tags</h3>
        <div class="tag_box">
        
        
  
    
        <a href="/tags.html#MFC-ref" class="btn btn-mini">MFC <span>10</span></a>
    
        <a href="/tags.html#Algorithm-ref" class="btn btn-mini">Algorithm <span>8</span></a>
    
        <a href="/tags.html#C-ref" class="btn btn-mini">C <span>16</span></a>
    
        <a href="/tags.html#EMC-ref" class="btn btn-mini">EMC <span>5</span></a>
    
        <a href="/tags.html#fault diagnosis-ref" class="btn btn-mini">fault diagnosis <span>2</span></a>
    
        <a href="/tags.html#EMI-ref" class="btn btn-mini">EMI <span>1</span></a>
    
        <a href="/tags.html#notes-ref" class="btn btn-mini">notes <span>3</span></a>
    
        <a href="/tags.html#CBR-ref" class="btn btn-mini">CBR <span>1</span></a>
    
        <a href="/tags.html#AI-ref" class="btn btn-mini">AI <span>5</span></a>
    
        <a href="/tags.html#Database-ref" class="btn btn-mini">Database <span>1</span></a>
    
        <a href="/tags.html#电磁兼容-ref" class="btn btn-mini">电磁兼容 <span>4</span></a>
    
        <a href="/tags.html#Unix-ref" class="btn btn-mini">Unix <span>1</span></a>
    
        <a href="/tags.html#Linux-ref" class="btn btn-mini">Linux <span>5</span></a>
    
        <a href="/tags.html#Personal-ref" class="btn btn-mini">Personal <span>10</span></a>
    
        <a href="/tags.html#Unix/Linux-ref" class="btn btn-mini">Unix/Linux <span>88</span></a>
    
        <a href="/tags.html#网络/通信-ref" class="btn btn-mini">网络/通信 <span>1</span></a>
    
        <a href="/tags.html#Telecommunication-ref" class="btn btn-mini">Telecommunication <span>1</span></a>
    
        <a href="/tags.html#Tcl/Tk-ref" class="btn btn-mini">Tcl/Tk <span>6</span></a>
    
        <a href="/tags.html#Shell-ref" class="btn btn-mini">Shell <span>12</span></a>
    
        <a href="/tags.html#Network/Telecom-ref" class="btn btn-mini">Network/Telecom <span>3</span></a>
    
        <a href="/tags.html#Perl-ref" class="btn btn-mini">Perl <span>14</span></a>
    
        <a href="/tags.html#Essay-ref" class="btn btn-mini">Essay <span>12</span></a>
    
        <a href="/tags.html#Industry-ref" class="btn btn-mini">Industry <span>6</span></a>
    
        <a href="/tags.html#Cloud Computing-ref" class="btn btn-mini">Cloud Computing <span>2</span></a>
    
        <a href="/tags.html#Android-ref" class="btn btn-mini">Android <span>2</span></a>
    
        <a href="/tags.html#VBA-ref" class="btn btn-mini">VBA <span>4</span></a>
    
        <a href="/tags.html#ESXi-ref" class="btn btn-mini">ESXi <span>1</span></a>
    
        <a href="/tags.html#Virtual Machine-ref" class="btn btn-mini">Virtual Machine <span>2</span></a>
    
        <a href="/tags.html#Browser-ref" class="btn btn-mini">Browser <span>2</span></a>
    
        <a href="/tags.html#Plan 9-ref" class="btn btn-mini">Plan 9 <span>9</span></a>
    
        <a href="/tags.html#Go-ref" class="btn btn-mini">Go <span>3</span></a>
    
        <a href="/tags.html#Virtualization-ref" class="btn btn-mini">Virtualization <span>2</span></a>
    
        <a href="/tags.html#CPP-ref" class="btn btn-mini">CPP <span>6</span></a>
    
        <a href="/tags.html#Linux/UNIX-ref" class="btn btn-mini">Linux/UNIX <span>1</span></a>
    
        <a href="/tags.html#Tips-ref" class="btn btn-mini">Tips <span>5</span></a>
    
        <a href="/tags.html#RHEL6.1-ref" class="btn btn-mini">RHEL6.1 <span>1</span></a>
    
        <a href="/tags.html#RPC-ref" class="btn btn-mini">RPC <span>1</span></a>
    
        <a href="/tags.html#rup-ref" class="btn btn-mini">rup <span>1</span></a>
    
        <a href="/tags.html#ksh-ref" class="btn btn-mini">ksh <span>1</span></a>
    
        <a href="/tags.html#Ubuntu-ref" class="btn btn-mini">Ubuntu <span>1</span></a>
    
        <a href="/tags.html#file descriptor-ref" class="btn btn-mini">file descriptor <span>1</span></a>
    
        <a href="/tags.html#Expect-ref" class="btn btn-mini">Expect <span>1</span></a>
    
        <a href="/tags.html#Here Document-ref" class="btn btn-mini">Here Document <span>1</span></a>
    
        <a href="/tags.html#C/C++-ref" class="btn btn-mini">C/C++ <span>3</span></a>
    
        <a href="/tags.html#Evolutionary Computation-ref" class="btn btn-mini">Evolutionary Computation <span>1</span></a>
    
        <a href="/tags.html#Genetic Algorihtm-ref" class="btn btn-mini">Genetic Algorihtm <span>1</span></a>
    
        <a href="/tags.html#ldd-ref" class="btn btn-mini">ldd <span>1</span></a>
    
        <a href="/tags.html#signal-ref" class="btn btn-mini">signal <span>1</span></a>
    
        <a href="/tags.html#swap-ref" class="btn btn-mini">swap <span>1</span></a>
    
        <a href="/tags.html#NIC-ref" class="btn btn-mini">NIC <span>1</span></a>
    
        <a href="/tags.html#Mac OS-ref" class="btn btn-mini">Mac OS <span>1</span></a>
    
        <a href="/tags.html#VNC-ref" class="btn btn-mini">VNC <span>1</span></a>
    
        <a href="/tags.html#X11-ref" class="btn btn-mini">X11 <span>1</span></a>
    
        <a href="/tags.html#Merge sort-ref" class="btn btn-mini">Merge sort <span>1</span></a>
    
        <a href="/tags.html#boost-ref" class="btn btn-mini">boost <span>1</span></a>
    
        <a href="/tags.html#CDF-ref" class="btn btn-mini">CDF <span>1</span></a>
    
        <a href="/tags.html#Matlab-ref" class="btn btn-mini">Matlab <span>3</span></a>
    
        <a href="/tags.html#Multi-Process-ref" class="btn btn-mini">Multi-Process <span>1</span></a>
    
        <a href="/tags.html#Multi-Threading-ref" class="btn btn-mini">Multi-Threading <span>1</span></a>
    
        <a href="/tags.html#Bioinformatics-ref" class="btn btn-mini">Bioinformatics <span>1</span></a>
    
        <a href="/tags.html#Computer Vision-ref" class="btn btn-mini">Computer Vision <span>3</span></a>
    
        <a href="/tags.html#DTF-ref" class="btn btn-mini">DTF <span>2</span></a>
    
        <a href="/tags.html#ffmpeg-ref" class="btn btn-mini">ffmpeg <span>1</span></a>
    
        <a href="/tags.html#OpenCV-ref" class="btn btn-mini">OpenCV <span>1</span></a>
    
        <a href="/tags.html#Machine Learning-ref" class="btn btn-mini">Machine Learning <span>1</span></a>
    
        <a href="/tags.html#parfor-ref" class="btn btn-mini">parfor <span>1</span></a>
    
        <a href="/tags.html#BACI-ref" class="btn btn-mini">BACI <span>1</span></a>
    
        <a href="/tags.html#Alogrithm-ref" class="btn btn-mini">Alogrithm <span>1</span></a>
    
        <a href="/tags.html#Jekyll-ref" class="btn btn-mini">Jekyll <span>1</span></a>
    
        <a href="/tags.html#Github-ref" class="btn btn-mini">Github <span>1</span></a>
    
        <a href="/tags.html#Fisher Vector-ref" class="btn btn-mini">Fisher Vector <span>1</span></a>
    
        <a href="/tags.html#SVM-ref" class="btn btn-mini">SVM <span>1</span></a>
    
  



        </div>
        
      </div>
    </div>

    <div class="side-container shadow">
      <div class="sidebar">
        
        <h3>Links</h3>
        <ul>
        
        
    <li><a href=https://github.com/bo-yang title="My GitHub Channel">My GitHub Channel</a></li>

    <li><a href=https://www.linkedin.com/pub/bo-yang/21/a3/893 title="My Linkedin Page">My Linkedin Page</a></li>

    <li><a href=http://blog.csdn.net/bonny95 title="My Chinese Blog(obsolete)">My Chinese Blog(obsolete)</a></li>

        </ul>
        
      </div>
    </div>
  </div>

</div>

  </div>
</div>


    </div>

    <footer>
        <p>&copy; 2007 <span id="now_year"></span> Bo Yang. </p>
        <script type="text/javascript">
          var now_year = new Date().getFullYear();
          if (now_year != 2007) {
              $('#now_year').html('- ' + now_year);
          }
        </script>
      </footer>
  </div>

  <script type="text/javascript" src="/assets/themes/clear/google-code-prettify/prettify.js"></script>
  <script type="text/javascript">
    $(function() {

      $('a[href^="http"]').each(function () {
        $(this).attr('target', '_blank');
      });

      $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto');
      window.prettyPrint && prettyPrint();

      function traverse($node, len, maxCount) {
        var reachMaxCount = len > maxCount;
        if (reachMaxCount) {
          $node.hide();
        }
        var $contents = $node.contents();
        for (var i = 0; i < $contents.length; ++i) {
          if (reachMaxCount) {
            $contents.eq(i).hide();
            continue;
          }
          if ($contents[i].nodeType == 3) { // TextNode
            var tmp = len;
            var s = $contents[i].nodeValue;
            len += s.length;
            reachMaxCount = len > maxCount;
            if (reachMaxCount && $contents[i].parentNode.nodeName != 'A') {
              $contents[i].nodeValue = s.substring(0, maxCount - tmp);
            }
          }
          else if ($contents[i].nodeType == 1) { // Element
            len = traverse($contents.eq(i), len, maxCount);
          }
        }
        return len;
      }

      $('.post_at_index').each(function() {
        var count = traverse($(this), 0, 400);
        if (count > 400) {
          var thisUrl = $(this).siblings().first().children().attr('href');
          $(this).after('\n<a href="' + thisUrl + '" rel="nofollow">' + 'Read More ...</a>');
        }
      });
    });
  </script>
  

</body>
</html>

