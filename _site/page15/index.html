
<!DOCTYPE HTML>
<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml" xmlns:wb="http://open.weibo.com/wb">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bo Yang | Bo's Blog</title>
  
  <meta name="author" content="Bo Yang" />
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <!--
  <link href="/assets/themes/clear/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  -->

  <!-- Bootstrap -->
  <link href="/assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="/assets/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet">

  <!-- font-awesome -->
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" rel="stylesheet">

  <!-- Google Prettify -->
  <link href="/assets/google-code-prettify/desert.css" rel="stylesheet" type="text/css" media="all">
  <!-- Google Pretty end -->

  <link href="/assets/style/blog.css" rel="stylesheet">
  
  <script src="/assets/bootstrap/js/jquery-1.10.2.js"></script>
  <script src="/assets/bootstrap/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>

<body>

   <!-- navigation bar -->
	<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
				<a class="navbar-brand" href="/"><b>bo-yang</b></a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse navbar-ex1-collapse">
				<ul class="nav navbar-nav">
					<li><a href="/archive.html"><b>Archive</b></a>
					</li>
					<li><a href="/tags.html"><b>Tags</b></a>
                    </li>
                    <li><a href="/about.html"><b>About</b></a>
                    </li>
                    <li><a href="/messages.html"><b>Messages</b></a>
                    </li>
				</ul>
				<ul class="nav navbar-nav pull-right">
		          <li>
		            <form class="navbar-form navbar-search" method="get" action="http://www.google.com/search" target="google_window">
		              <input id="g_search" type="text" class="search-query" placeholder="Search..." name="q" />
		              <input type="submit" name="btnG" style="display:none" id="searchsubmit" value="Search" />
		              <input type="hidden" name="ie" value="UTF-8" />
		              <input type="hidden" name="oe" value="UTF-8" />
		              <input type="hidden" name="hl" value="en-US" />
		              <input type="hidden" name="domains" value="http://bo-yang.github.io/" />
					  <input type="hidden" name="sitesearch" value="http://bo-yang.github.io/" />
					  <button type="submit" class="button button-rounded button-flat-blue">Go</button>
		            </form>
		          </li>
		        </ul>
            </div>
			<!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

  <div class="container">
    <div class="row" id="content-row">
      
<div class="page-header">
	<h1>Bo Yang  <small style="margin-left:20px;"><font face="cursive"><i>Keep looking. Don't settle.</i></font></small></h1>
</div>

<div class="container">
    <div class="row" id="content-row">
		<div class="col-md-9">
	<!-- blog entry -->
	
	<div class="post paper">	
    <h2 class="header"><a href="/2009/08/28/tcl-condition">TCL判断条件</a></h2>
    <p>
    	<span class="glyphicon glyphicon-time"></span> Posted by <strong>Bo Yang</strong> at <strong>2009-08-28</strong> with tags <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#Tcl/Tk-ref" rel="nofollow">Tcl/Tk</a>
	</p>
	<hr>
    
    <div class="post_at_index thepost">
    	<p>编写TCL代码时遇要写一个if判断条件，很简单的一个语句，结果却费了很大力气才搞定。要判断的是，如果执行info exists成功而且某全局数组C的某个成员大于0，正确的语句为：</p>
<p>&nbsp;</p>
<p>if { [info exists C(AP${AP}cdnnoperap)] &amp;&amp; $C(AP${AP}cdnnoperap &gt; 0 } { }</p>
<p>&nbsp;</p>
<p>我为了逻辑上的清晰，特地将语句写为：</p>
<p>&nbsp;</p>
<p>if { [info exists C(AP${AP}cdnnoperap)] &amp;&amp; ｛$C(AP${AP}cdnnoperap｝ &gt; 0 } { }</p>
<p>&nbsp;</p>
<p>结果报错。又改成</p>
<p>if { [info exists C(AP${AP}cdnnoperap)] &amp;&amp; ［$C(AP${AP}cdnnoperap］ &gt; 0 } { }</p>
<p>还是报错。又改为</p>
<p>if { [info exists C(AP${AP}cdnnoperap)] &amp;&amp; {&quot;$C(AP${AP}cdnnoperap&quot; != &quot;0&quot;} } { }</p>
<p>仍然报错。</p>
<p>&nbsp;</p>
<p>看来TCL的语法确实还是很有自己的特点的。往后要多加注意。</p>
<p>&nbsp;</p>

	</div>
	</div>
    
	<div class="post paper">	
    <h2 class="header"><a href="/2009/08/26/1byte-file-in-unix">UNIX下大小为1byte的文件——都是换行符(EOL)惹得祸</a></h2>
    <p>
    	<span class="glyphicon glyphicon-time"></span> Posted by <strong>Bo Yang</strong> at <strong>2009-08-26</strong> with tags <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#Unix/Linux-ref" rel="nofollow">Unix/Linux</a>
	</p>
	<hr>
    
    <div class="post_at_index thepost">
    	<p>某同事用tcl和ksh写了一个程序，利用进行某项操作，如有错误就将错误信息写入某个文件中，写入方法是 2&gt;$stderr，然后判断该文件的大小，如果大于0，则认为有错误发生，报错。</p>
<p>&nbsp;</p>
<p>奇怪的是该程序一直不能成功执行，一直报错。同事逐行追踪他的代码，结果发现文件$stderr刚创建时大小为0，可过一会之后自己就会变成1byte. 然而打开查看时，该文件内容却是空的。后来用vi按照16进制打开(:%!xxd)，发现了0a。</p>
<p>&nbsp;</p>
<p>0x0a是UNIX下默认的行结束符(EOL)，每行都会有的。我们试验了一下，凡是用print在UNIX下创建一个文件：</p>
<p>
<pre>print $test &gt; test</pre>
<p>&nbsp;</p>
<p>其中$test为未定义的变量，则会生成一个大小为1byte的文件。打开文件，也能发现0a的存在。</p>
<p>&nbsp;</p>
<p>可是如果是用C语言编写一个文件操作的函数，却能得到一个大小为0而打开后也有0a的文件。很是奇怪&hellip;&hellip;</p>
<p>&nbsp;</p>

	</div>
	</div>
    
	<div class="post paper">	
    <h2 class="header"><a href="/2009/08/24/big-num-operations">大数运算</a></h2>
    <p>
    	<span class="glyphicon glyphicon-time"></span> Posted by <strong>Bo Yang</strong> at <strong>2009-08-24</strong> with tags <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#Algorithm-ref" rel="nofollow">Algorithm</a>, <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#C/C++-ref" rel="nofollow">C/C++</a>
	</p>
	<hr>
    
    <div class="post_at_index thepost">
    	<p>下面这段程序包含了大数的加、减、乘运算的代码，除法运算尚在研究中。</p>
<p>&nbsp;</p>
<p>
<pre>/*
 * =====================================================================================
 *
 *       Filename:  LargeNumOp.c
 *
 *    Description:  The regular version of Large Number Multiplication.
 *
 *        Version:  1.0
 *        Created:  08/23/2009 07:02:48 PM
 *       Revision:  none
 *       Compiler:  gcc
 *
 *         Author:  Bonn Yang 
 *        Company:  
 *
 * =====================================================================================
 */
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
/* 
 * Large number multiplication. 
 *	a*b=c
 * The product stores in c.
 */ 
void multiply(char* a,char* b,char* c)
{
    int i,j,ca,cb,* s;
    ca=strlen(a);
    cb=strlen(b);
    s=(int*)malloc(sizeof(int)*(ca+cb));
    for (i=0;i&lt;ca+cb;i++)
        s[i]=0;
    for (i=0;i&lt;ca;i++)
        for (j=0;j&lt;cb;j++)
            s[i+j+1]+=(a[i]-'0')*(b[j]-'0');
    for (i=ca+cb-1;i&gt;=0;i--)
        if (s[i]&gt;=10)
        {
            s[i-1]+=s[i]/10;
            s[i]%=10;
        }
    i=0;
    while (s[i]==0)
        i++;
    for (j=0;i&lt;ca+cb;i++,j++)
        c[j]=s[i]+'0';
    c[j]='/0';
    free(s);
}
/* Large number addition 
 * 		a+b=c
 */
void add(char* a, char* b, char* c)
{
	int i,j,ca,cb,rlen,* s;
    ca=strlen(a);
    cb=strlen(b);
	rlen=((ca&gt;cb)?ca:cb)+1;		/* len of result */
    s=(int*)malloc(sizeof(int)*rlen);
    for (i=0;i&lt;rlen;i++)
        s[i]=0;
	if(ca&gt;cb)
	{
    	for(i=0;i&lt;ca-cb;i++)
			s[i+1]=a[i]-'0';
		for(i=ca-cb;i&lt;ca;i++)
			s[i+1]=(a[i]-'0')+(b[i-ca+cb]-'0');
	} 
	else 
	{
		for(i=0;i&lt;cb-ca;i++)
			s[i+1]=b[i]-'0';
		for(i=cb-ca;i&lt;cb;i++)
			s[i+1]=(a[i-cb+ca]-'0')+(b[i]-'0');
	} 
	
    for (i=rlen-1;i&gt;=0;i--)
        if (s[i]&gt;=10)
        {
            s[i-1]+=s[i]/10;
            s[i]%=10;
        }
    i=0;
    while (s[i]==0)
        i++;
	for (j=0;i&lt;rlen;i++,j++)
        c[j]=s[i]+'0';
    c[j]='/0';
    free(s);
}
/* Large number substraction 
 * 		a-b=c
 */
void sub(char* a,char* b,char* c)
{
	int i,j,ca,cb,rlen,* s;
    ca=strlen(a);
    cb=strlen(b);
	rlen=((ca&gt;cb)?ca:cb)+1;		/* len of result, the first byte is negative or positive sign */
    s=(int*)malloc(sizeof(int)*rlen);
    for (i=0;i&lt;rlen;i++)
        s[i]=0;
	if(ca&gt;cb)
	{
		s[0]='+';
    	for(i=ca-1;i&gt;=ca-cb;i--)
		{
			if(a[i]&gt;b[i-ca+cb])
			{
				s[i+1]=(a[i]-'0')-(b[i-ca+cb]-'0');
			}
			else if(a[i]&lt;b[i-ca+cb])
			{
				s[i+1]=(a[i]-'0'+10)-(b[i-ca+cb]-'0');
				a[i-1]-=1;
			}
			else
				s[i+1]=0;
		}
		for(i=ca-cb-1;i&gt;=1;i--)
		{
			if(a[i]&gt;0)
			{
				s[i+1]=(a[i]-'0');
			}
			else if(a[i]&lt;0)
			{
				s[i+1]=a[i]-'0'+10;
				a[i-1]-=1;
			}
			else
				s[i+1]=0;
		}
		s[1]=a[i]-'0';
	} 
	else if(ca&lt;cb)
	{
		s[0]='-';
		for(i=cb-1;i&gt;cb-ca-1;i--)
		{
			if(b[i]&gt;a[i-cb+ca])
			{
				s[i+1]=(b[i]-'0')-(a[i-cb+ca]-'0');
			}
			else if(b[i]&lt;a[i-ca+cb])
			{
				s[i+1]=(b[i]-'0'+10)-(a[i-cb+ca]-'0');
				b[i-1]-=1;
			}
			else
				s[i+1]=0;
		}
		for(i=cb-ca-1;i&gt;=1;i--)
		{
			if(b[i]&gt;0)
			{
				s[i+1]=(b[i]-'0');
			}
			else if(b[i]&lt;0)
			{
				s[i+1]=b[i]-'0'+10;
				b[i-1]-=1;
			}
			else
				s[i+1]=0;
		}
		s[1]=b[i]-'0';
	} 
	else	/* ca==cb */
	{
		if(strcmp(a,b)&gt;0)		/* a&gt;b */
		{
			s[0]='+';
			for(i=ca-1;i&gt;=1;i--)
			{
				if(a[i]&gt;b[i])
				{
					s[i+1]=(a[i]-'0')-(b[i]-'0');
				}
				else if(a[i]&lt;b[i])
				{
					s[i+1]=(a[i]-'0'+10)-(b[i]-'0');
					a[i-1]-=1;
				}
				else
					s[i+1]=0;
			}
			s[1]=(a[i]-'0')-(b[i]-'0');
		}
		else if(strcmp(a,b)&lt;0)	/* a&lt;b */
		{
			s[0]='-';
			for(i=ca-1;i&gt;=1;--i)
			{
				if(b[i]&gt;a[i])
				{
					s[i+1]=(b[i]-'0')-(a[i]-'0');
				}
				else if(b[i]&lt;a[i])
				{
					s[i+1]=(b[i]-'0'+10)-(a[i]-'0');
					b[i-1]-=1;
				}
				else
					s[i+1]=0;
			}
			s[1]=(b[i]-'0')-(a[i]-'0');
		}
		else					/* a==b */
		{
			c[0]='+';
			c[1]='0';
			c[2]='/0';
			free(s);
		}
	}
	c[0]=s[0];
    i=1;j=1;
    while ((s[i]==0) &amp;&amp; (i&lt;rlen))
        i++;
	if(i!=rlen)	/* result is not zero */
	{
		for (j=1;i&lt;rlen;i++,j++)
		{
			if(s[i]&lt;0)
				c[j]='0'-s[i];
			else
        		c[j]=s[i]+'0';
		}
	} else {	/* result is zero */
		c[j++]='0';
	}
    c[j]='/0';
    free(s);
}
int main()
{
	char a[1024]={'/0'};
	char b[1024]={'/0'};
	char c[1024]={'/0'};
	printf(&quot;Enter two numbers:/n&quot;);
	gets(a);
	gets(b);
	multiply(a,b,c);
	printf(&quot;%s * %s = %s/n&quot;,a,b,c);
	add(a,b,c);
	printf(&quot;%s + %s = %s/n&quot;,a,b,c);
	sub(a,b,c);
	printf(&quot;%s - %s = %s/n&quot;,a,b,c);
	
	return 0;
}
</pre></p>
<p>&nbsp;</p>

	</div>
	</div>
    
	<div class="post paper">	
    <h2 class="header"><a href="/2009/08/19/install-amule-in-linux">Linux下安装aMule</a></h2>
    <p>
    	<span class="glyphicon glyphicon-time"></span> Posted by <strong>Bo Yang</strong> at <strong>2009-08-19</strong> with tags <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#Unix/Linux-ref" rel="nofollow">Unix/Linux</a>
	</p>
	<hr>
    
    <div class="post_at_index thepost">
    	<p>今晚打算在Fedora 10下安装aMule，以便电驴下载。本打算yum安装，结果发现无法yum安装，于是只好下载了aMule的源代码（无Linux下的二进制安装文件）。解压之后，./configure，却出现了&quot;wxWindows&quot;的错误。</p>
<p>&nbsp;</p>
<p>在网上搜了半天之后，发现除了系统已经装好的wxGTK之外，还要安装wxGTK-devel，于是我便yum install wxGTK-devel,成功。</p>
<p>&nbsp;</p>
<p>重新在aMule的目录下./configure，这次却又报了更奇怪的错误：</p>
<p>&nbsp;</p>
<pre style="margin-top:0;display:inline;">&quot;checking for crypto++ version &gt;= 5.1... configure: error:<br />
Could not find cryptopp header file &quot;cryptlib.h&quot;.<br />
Please check if the path &quot;/usr&quot; is valid.&quot;</pre>
<p>&nbsp;</p>
<p>在网上找到一个解决办法：</p>
<p>&nbsp;</p>
<p>Download the latest crypto package from &quot;<a href="http://www.cryptopp.com/#download" target="_blank">http://www.cryptopp.com/#download</a><br />
&quot;<br />
in this case package &quot;Crypto++ 5.5.2&quot;. Now open your console terminal<br />
and do the following commands to install the crypto package.</p>
<p>A) mkdir crypto<br />
B) mv cryptopp552.zip ./crypto<br />
C) cd crypto<br />
D) unzip cryptopp552.zip<br />
E) make<br />
F) cp libcryptopp.a /usr/lib/<br />
G) mkdir /usr/include/cryptopp<br />
H) cp *.h /usr/include/cryptopp/<br />
I) ldconfig</p>
<p>&nbsp;</p>
<p>完成之后继续./configure，成功。（有一个关于uPnP的warning可以忽略。）然后make,成功，只是时间比较长。然后make install，成功！</p>
<p>&nbsp;</p>
<p>aMule终于可以用了！</p>

	</div>
	</div>
    
	<div class="post paper">	
    <h2 class="header"><a href="/2009/08/09/fedora-10-mp3-support">Fedora 10 MP3 Support</a></h2>
    <p>
    	<span class="glyphicon glyphicon-time"></span> Posted by <strong>Bo Yang</strong> at <strong>2009-08-09</strong> with tags <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#Unix/Linux-ref" rel="nofollow">Unix/Linux</a>
	</p>
	<hr>
    
    <div class="post_at_index thepost">
    	<p><a title="Fedora 10 MP3 Support"><br />
</a></p>
<p><a title="Fedora 10 MP3 Support"></p>
<h2>Fedora 10 MP3 Support</h2>
<p></a></p>
<div id="node-92" class="node">
<div class="content">
<p>Fedora 10 does not come with built-in MP3 support. To get MP3 support with Fedora, you can use RPM Fusion's YUM repositories to download MP3 enabled RPMs.</p>
<p>&nbsp;</p>
<p><strong>Enable RPM Fusion</strong></p>
<p>First, install RPM Fusion's free and nonfree YUM repositories. For detailed information about installing RPM Fusion, see:&nbsp;<a title="http://rpmfusion.org/Configuration" href="http://rpmfusion.org/Configuration">http://rpmfusion.org/Configuration</a></p>
<p><code>su -c "rpm -Uvh http://download1.rpmfusion.org/free/fedora/rpmfusion-free-release-stable.noarch.rpm"</code></p>
<p><code>su -c "rpm -Uvh http://download1.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-stable.noarch.rpm"</code></p>
<p>&nbsp;</p>
<p><strong>Install GStreamer</strong></p>
<p>Next, run this command to get the&nbsp;<a title="GStreamer" href="http://www.gstreamer.net/">gstreamer</a>&nbsp;plugins.</p>
<p><code>su -c "yum install gstreamer gstreamer-plugins-bad gstreamer-plugins-ugly"</code></p>
<p>&nbsp;</p>
<p><strong>Install Applications and Libraries</strong></p>
<p>For&nbsp;<a title="Amarok" href="http://amarok.kde.org/">Amarok</a>&nbsp;with MP3 support, install these packages:</p>
<p><code>su -c "yum install amarok phonon-backend-gstreamer"</code></p>
<p>For&nbsp;<a title="MPlayer" href="http://www.mplayerhq.hu">MPlayer</a>&nbsp;with MP3 support, install these RPMs:</p>
<p><code>su -c "yum install mplayer gnome-mplayer gnome-mplayer-common mencoder"</code></p>
<p>For&nbsp;<a title="XMMS" href="http://sourceforge.net/projects/xmms/">XMMS</a>&nbsp;with MP3 support, install the following:</p>
<p><code>su -c "yum install xmms xmms-mp3"</code></p>
<p>For&nbsp;<a title="Xine" href="http://xinehq.de/">xine</a>&nbsp;with MP3 support, install these RPMs:</p>
<p><code>su -c "yum install xine xine-lib-extras-nonfree"</code></p>
<p>To create MP3s with&nbsp;<a href="http://lame.sourceforge.net">LAME</a>, install lame and lame-mp3x.</p>
<p><code>su -c "yum install lame lame-mp3x"</code></p>
<p>&nbsp;</p>
<p>Alternatively, run this command to install everything:</p>
<p><code>su -c "yum install xmms xine mplayer amarok xmms-mp3 gstreamer phonon-backend-gstreamer gstreamer-plugins-bad gstreamer-plugins-ugly xine-lib-extras-nonfree mplayer gnome-mplayer-common mencoder gnome-mplayer lame lame-mp3x"</code></p>
<p>&nbsp;</p>
<p>[http://hacktux.com/fedora/mp3]</p>
<p>&nbsp;</p>
<p>PS: To install VLC media player:</p>
<p>su -c "yum install vlc"</p>
</div>
</div>
<p>&nbsp;</p>

	</div>
	</div>
    
	<div class="post paper">	
    <h2 class="header"><a href="/2009/07/27/trip-in-us">车·行·记</a></h2>
    <p>
    	<span class="glyphicon glyphicon-time"></span> Posted by <strong>Bo Yang</strong> at <strong>2009-07-27</strong> with tags <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#Personal-ref" rel="nofollow">Personal</a>
	</p>
	<hr>
    
    <div class="post_at_index thepost">
    	<p>&nbsp;</p>
<div>
<h1>车&middot;行&middot;记</h1>
<p>&nbsp;</p>
<div>傍晚时分，深感闷在酒店一个白天实在没有前途，终于无法按奈心中那股出去兜风的冲动。打电话叫同事，他说他在洗澡，我说我可以等你洗完澡，他说你不用等我洗完澡，因为我没兴趣出去。崇拜，五体投地的崇拜那哥们，多少次我们拉他出去逛一圈，人家都是拒绝，人家宁愿选择天天蜗居在20平米的酒店一隅，也不愿出门半步，而且还是坐车出行&hellip;&hellip;</div>
<div></div>
<div>想起最近网上流行的那句&ldquo;执子之手&hellip;&hellip;&rdquo;，此时此刻我义无反顾的选择了&ldquo;子不走我走&rdquo;。</div>
<div></div>
<div>太阳已经落下，但天光还算明亮。沿着前往Chicago Premium Outlets的路信马由缰&mdash;&mdash;这条路非常顺，一路不用拐弯，直着开30分钟左右就到了。</div>
<div></div>
<div>道路两旁要么是荒郊野地，要么是灌木丛林，相当的原生态。路很宽，而且没车，我一个多月前此一次上路就是跑的这条路。从那以后到现在已经来来回回跑了不下10趟。盛夏时节的Naperville每天云卷云舒，傍晚时分更是争奇斗艳之时。车行至半路，天已经慢慢黑下来了。前方是一个高坡，由于光线黯淡，远远望去，此路直达云天。</div>
<div></div>
<div>日落后的云，峥嵘如巨石，嶙峋如山峦，狰狞如怪兽，凶险如深渊。黑夜正在向大地无情的压过来。现在的我竟然还和小时候一样，身临此境时，心底里总会有些恐惧。&mdash;&mdash;人是群体动物，人多时觉得咱们工人有力量，当然天不怕地不怕，所以在北京不会有这种感觉；但是在人烟稀少的美国，孤身一人置身荒野，对于自然，不得不心生敬畏之情。人其实是很渺小的。渺沧海之一粟，羡长江之无穷啊。</div>
<div></div>
<div>平日里走这条路都是白天，阳光灿烂；现在是晚上，别有一番滋味。一时想到也许这是我最后一次在这条路开车，经由一些伤感。于是打定主意，要好好的总结一下在美国开车出行的经历。</div>
<div></div>
<div>
刚到美国的第一个周末就和两个同事去了UIUC(University of Illinois @ Urbana<span>-Champaign</span>)。从Naperville到Champaign只有100多个mile，而且那次出行的主要目的是练车，熟悉美国高速路况，为下个周末的纽约之行做准备。当时我还不会开车，也不能开车，自己坐在后排可以尽情的拍一些照片（也是因为当时新鲜劲还没过）。那次对于美国高速最大的感觉就是&ldquo;热闹&rdquo;&mdash;&mdash;车多、人多。各种各样叫出名字叫不出名字的车，拖着各种各样的装备，包括房车、游艇、自行车等等。我们都在感叹，美国人太会享受生活了。</div>
<div></div>
<div>第二个周末是美国的memorial day，放一天假，加上周末总共3天。还是和那两个同事，他（她）们开车，我副驾，去了纽约。尽管路程长达850多mile，再加上中途吃饭、加油的距离得近900个mile，但是路其实很顺，大多路段很好走。就是同一条高速路，一直开到纽约，只是在不同的州叫不同的名字而已。沿途经过了好几个州，从Illinois出发，首先进入Indiana,然后横穿Ohio，然后进入Pennsylvania， 最后穿越一小段New Jersey之后就到了纽约。我们总结了一些有意思的发现：(1) Pennsylvania的环境最好（高速路两边全是国家森林公园），而且高速基本不收费；Indiana的路况最好，车速最高，收费也比较高；Ohio路况最不好，收费也不便宜。(2) 在Illinois，高速两边的休息区域叫Oasis，其他几个州叫Service Plaza或者Service Area；后来又发现Illinois的高速两边的Oasis是联通的，一条全封闭的天桥横跨高速，而其他经过的几个州没有这种情况。(3) Ohio的Service Area里面的食物最贵，而且最难吃，就连麦当劳的店员的衣服都脏兮兮的，而且目光呆滞；Pennsylvania的设施最好，因为这个州很有钱。(4) 高速两边经常见到被撞死的鹿或其他小动物（粗略算一下来回路上见到的死鹿不下100头）。去得路上大姐（十几年工作经验，近十年开车经验的同事）开车的时候，轧死了一只小兔子，她愧疚了一路。被撞死的鹿很肥，很嫩，可惜没法扛回来。据说在美国法律规定，在路上见了野生动物尽量避让，否则是犯罪；但如果实在让不开把它撞死了，你可以把撞死的动物带回家(宰了吃)。</div>
<div></div>
<div>去纽约还有一件不得不提的事情就是警察。一路上看见了太多的警察。很多地方高速两个方向之间是一片灌木丛，灌木丛中间经常会有空地或者小路，警察们就藏在那里面。去得路上一开始司机们开车很Happy，车少路宽，一直超速行驶，后来我发现了一次警察，大家就小心一点了。后来发现所有的车都在超速，而且一般超10～20 mile，警察并不管，我们也就放心大胆的超了。但是发现警察之后还是会减减速的，不能不给人家面子。回来的路上，刚进Pennsylvania，大姐开车，限速65mile/h，她平均开到了85以上，偶尔高达95&mdash;&mdash;一辆现代sonata，开到95mile也就是<span>152.88768公里每小时！很疯狂啊～ 后来换了另外一哥们开车，快出Pennsylvania了，他也开的很快，平均80以上。突然我们发现隔离带里面一辆警车，可是再刹车已经来不及了。不出所料，那辆警车立刻打开警灯在我们后面跟了上来。那哥们知道自己麻烦来了，慢慢地把车停到路边，拿出驾照，双手放到方向盘上。我也摇下车窗，把双手放在警察能看见的位置。过了很久，警车门开了，下来一位女警察，走到我的车窗边，问谁开的车，知不知道刚才已经开到83mile/h了，把驾照拿出来。那哥们乖乖把驾照给了女警察，警察一看，看不懂。那哥们解释，他只有中国驾照，美国出差一段时间，现在是纽约回Chicago。女警察一听就笑了，问我们是住在北京吗。我们说是，她说去年北京的奥运会很好，我也赶紧吹嘘奥运会。女警察话锋一转，说<span>technically</span>讲，没有美国驾照是不能开车的，对于你们这种情况还是小心为妙。我们连说yes, thank you. 很幸运，我们没有被开ticket；如果开了的话，一个罚单就得几百刀，一个月的补助就没了一半。从这以后，那哥们在高速上就不敢很嚣张了。而我从那时起就养成一个习惯，时刻寻找警车，一旦发现警察的存在，立马规规矩矩的开车。其实美国人也是这么做的。</span></div>
<div><span><br /></span></div>
<div>后来那两位同事还去了拉斯维加斯，坐飞机过去的，我没有去，没钱。听说他(她)们在拉斯维加斯租了一辆车，当天开车去科罗拉多大峡谷(几百个mile)，晚上之前回拉斯维加斯；第二天又是如此。我不得不佩服他(她)们的疯狂。他们从拉斯维加斯回来的时候，在机场租了一辆车，就是我现在开的雪佛莱IMPALA。机场租车非常贵，因为机场的租车行是要叫保护费的，官方称呼叫特许经营费(C<span>hartered Fee<span>)。我们开了一周，然后在local给还了，然后续租这辆车，便宜了100多$。后来听很多中国同事说，其实在机场租了第二天就可以在local还，而不必真的租一周，能省更多钱。不得不佩服中国人的小聪明。</span></span></div>
<div>6月11号我考过了笔试，拿到了permit，然后就开始学车。那两位有驾照的同事教，幸亏同一个team的同事有两位资深司机。我考了三次才终于在6月31号把驾照拿到。</div>
<div></div>
<div>从6月下旬开始，因为那两个同事7月6号要走了，所以她们就开始了疯狂采购。我们也跟着一起采购。开车去Wisconsin的outlets，去Michigan的outlets。到那之后才知道为什么这两个地方东西会比较便宜，穷！这两个地方很穷，消费水平不高，而且税比较低，所以大多中国同事都建议我们去那里买东西。对于一些化妆品，只能去Oak Brook Shopping Mall去买。中产阶层很少去Outlets购物，那是穷人去的地方。而我们这些人，连人家的穷人都比不上&hellip;&hellip;</div>
<div></div>
<div>这周末就打道回府了。还能再开5天车，还打算去一趟Oak Brook，同事要买东西。还打算去一趟费米实验室，今晚上才听说大名鼎鼎的Fermilab就在附近，查了一下地图竟然就在去Chicago Premium Outlets的那条路的旁边。不一定能进的去，在外边拍几张照片也行啊。</div>
</div>
<p>&nbsp;</p>

	</div>
	</div>
    
	<div class="post paper">	
    <h2 class="header"><a href="/2009/06/19/google-china-in-porn-gate">谷歌中国的“色情门“</a></h2>
    <p>
    	<span class="glyphicon glyphicon-time"></span> Posted by <strong>Bo Yang</strong> at <strong>2009-06-19</strong> with tags <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#Personal-ref" rel="nofollow">Personal</a>
	</p>
	<hr>
    
    <div class="post_at_index thepost">
    	<p>这一次央视的屠刀又批向了谷歌中国。对于央视乃至Z*F最近一连串的所谓过滤或屏蔽对儿童不良信息的举措我实在是觉得有矫枉过正之嫌。尽管我一直认为谷歌中国和美国的Google不在同一个数量级，但还是对他们的&rdquo;搜索自动补全&ldquo;进行了一些比较：</p>
<p>&nbsp;</p>
<p style="text-align:center;"><img src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/EntryImages/20090619/Google_CN.JPG" alt="" width="640" height="465" /></p>
<p style="text-align:center;">谷歌中国的自动补全</p>
<p>&nbsp;</p>
<p style="text-align:center;"><img src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/EntryImages/20090619/Google_US.JPG" alt="" width="640" height="425" /></p>
<p style="text-align:center;">Google的自动补全</p>
<p style="text-align:center;">&nbsp;</p>
<p style="text-align:left;">可见， Google英文搜索比中文搜索生猛的多。为过滤不良信息，上图中的生词，还是自己查一下吧，我就不 翻译了。</p>
<p style="text-align:center;"><img src="http://p.blog.csdn.net/images/p_blog_csdn_net/bonny95/EntryImages/20090619/Google_CN2.JPG" alt="" width="640" height="470" /></p>
<p style="text-align:center;">在谷歌中国输入&rdquo;s*ex&ldquo;时的提示</p>
<p>&nbsp;</p>
<p>我们的生活越来越倚重于Internet，而Internet也成为现实社会的一种反映，如何在信息泛滥、良莠不齐的网络生活中保护儿童健康快乐的成长，这是全世界共同面临的一个教育难题。而现在相关部门却把它简化为一个技术问题，未免本末倒置。</p>
<p>&nbsp;</p>
<p>这让我不仅联想起大禹治水的故事。禹的父亲鲧采用&rdquo;堵&ldquo;的方法，洪水不但不退反尔愈发泛滥，以失败而告终；禹治水采用&rdquo;疏&ldquo;的方法对洪水加以引导，终于治水成功。所谓&rdquo;不良信息&ldquo;，不也和洪水一样吗？小孩子终归要长大，总有洞房花烛的那一天，在他们对X好奇的时候，是大人们想堵就能堵的住的吗？</p>
<p>&nbsp;</p>
<p>再者说来，小孩子绝对不像大人们想象的那么脆弱，我认识的很多人都是出污泥而不染的，我相信下一代也可以濯清涟而不妖。</p>

	</div>
	</div>
    
	<div class="post paper">	
    <h2 class="header"><a href="/2009/05/27/check-process-parameters-in-unix">在UNIX/Linux下查看某个进程的详细参数</a></h2>
    <p>
    	<span class="glyphicon glyphicon-time"></span> Posted by <strong>Bo Yang</strong> at <strong>2009-05-27</strong> with tags <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#Unix/Linux-ref" rel="nofollow">Unix/Linux</a>
	</p>
	<hr>
    
    <div class="post_at_index thepost">
    	<p>如果要在UNIX/Linux下查看某个进程的详细参数， 可以用命令：</p>
<p>&nbsp;</p>
<pre>          <strong><span style="color:#ff0000;"> </span><span style="font-family:mceinline;"><span style="font-family:mceinline;">ps -axuww|grep &lt;process&gt;</span></span></strong></pre>
<p>但需要注意的是，在Solaris下，存在两个版本的ps:一是/usr/bin/ps；一是/usr/bin/ps。只有/usr/bin/ps可以用于上述命令。</p>
<pre><p>"/usr/ucb/ps" 是从BSD UNIX中继承而来的，而/usr/bin/ps从AT&amp;T SVR4继承而来的。二者之间存在较大区别， 如果有些</p><p>参数在某个ps中不能应用，可以考虑换用另外一个。</p><p>&nbsp;</p><p>&nbsp;</p><p>本文参考了如下网页：</p><p><a href="http://www.sunmanagers.org/pipermail/summaries/2006-March/007182.html"><span style="color:#000000;"><span style="text-decoration:none;">http://www.sunmanagers.org/pipermail/summaries/2006-March/007182.html</span></span></a></p>
</pre>
<p>&nbsp;</p>

	</div>
	</div>
    
	<div class="post paper">	
    <h2 class="header"><a href="/2009/05/15/swine-flew-in-us">在美国体验猪流感</a></h2>
    <p>
    	<span class="glyphicon glyphicon-time"></span> Posted by <strong>Bo Yang</strong> at <strong>2009-05-15</strong> with tags <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#Personal-ref" rel="nofollow">Personal</a>
	</p>
	<hr>
    
    <div class="post_at_index thepost">
    	<p>&nbsp;</p>
<div><span style="font-size:x-small;"><br />
</span>
<pre style="text-align:center;"><strong><span style="font-family:mceinline;">在美国体验猪流感</span></strong></pre>
<p><span style="font-family:mceinline;"><br />
赴美之前，很多人就提醒我美国的猪流感正流行，而且我所要去的Illinois更是重灾区。我自己也很担心，尤其是当中国也有了猪流感疑似病例之后。</span><span style="font-family:mceinline;"><br />
</span></p>
<div><span style="font-size:x-small;"><span style="font-family:mceinline;">一进首都机场就已经感受到了人们的恐惧，很多中国人都带着口罩。因为考虑到需要坐12.5个小时的飞机，而且我相信在中国的外国人也应该没有收到感染，因此我就没有戴口罩（其实是拿了两个的，放在包里一直没有拿出来）。</span></span></div>
<div><span style="font-size:x-small;"><span style="font-family:mceinline;">在飞机上，发现坐我后面的一个哥们一直带着口罩，睡觉的时候都没有摘下来，实在是太佩服他的耐心了。同时我发现没有一个外国人戴口罩。 来到芝加哥下了飞机，入海关，直到出了机场，又在机场外面等了同事一个小时，也没有发现一个人戴口罩&mdash;&mdash;即使是原来戴口罩的中国人，也不得不把口罩摘了下来，因为没人戴口罩。可以想见，如果谁胆敢带着口罩入海关，搞不好会被海关大叔/大婶给盘问甚至reject的&mdash;&mdash;海关人员都是很拽的样子。</span></span></div>
<div><span style="font-family:'Courier New';color:#666666;"><span style="font-family:mceinline;">昨晚在 一个同事的带领下去了Naperville的一个小教堂进行Church Talk(美国退休的老头老太太自愿在教堂工作，每天晚上和外国人交谈是他们工作的一部分，叫做Church Talk；话题可以海阔天空，不限于宗教，尽管他们和你谈话的最终目的是希望你入教，但绝大多数中国人去那里的最初目的是练口语)。几个老头老太太一见到我得知我是刚刚从中国来的，就问我中国人怎么看美国的猪流感？为什么那么多中国人如此的害怕美国的猪流感？我说几年前中国刚刚经历过一场SARS，很多人在那场瘟疫中死掉了。中国人现在对猪流感心存忌惮也是有情可原的。而出乎我的预料的是，几个老头竟然告诉我只要勤洗手和保持充足的睡眠，猪流感是完全不必担心的。这些我在国内的时候就知道，但是在几个美国老头的口中说出，仍让我很诧异：连这样的匹夫匹妇对于猪流感的认识都如此轻松，美国人的自信以及新闻媒体在美国的重要性可见一斑。</span></span></div>
<div><span style="font-family:'Courier New';color:#666666;"><br /></span></div>
</div>
<p>&nbsp;</p>

	</div>
	</div>
    
	<div class="post paper">	
    <h2 class="header"><a href="/2009/04/30/several-solaris-10-problems">近期遇到的几个Solaris 10 的问题</a></h2>
    <p>
    	<span class="glyphicon glyphicon-time"></span> Posted by <strong>Bo Yang</strong> at <strong>2009-04-30</strong> with tags <span class="glyphicon glyphicon-tag"></span><a href="/tags.html#Unix/Linux-ref" rel="nofollow">Unix/Linux</a>
	</p>
	<hr>
    
    <div class="post_at_index thepost">
    	<p>公司正在逐渐把server升级为Solaris 10， 对于新平台我非常陌生（当然了，对于以前的Solaris 9也不怎么懂），遇到了几个值得记录下来的问题。</p>
<p>&nbsp;</p>
<p>1. $HOME目录几乎所有文件（夹）的owner和group都被改为nobody</p>
<p>昨天在工作时遇到了问题，自己无法解决，求助于同事。同事帮忙查了半天，发现了我的$HOME下的所有的文件和文件夹的owner和group都被改为nobody了。我们都很诧异为什么会出现这种情况，求助于公司的IT，IT们说这是因为我们部门有两个NFS storage,其中一个和NFS的版本和Solaris 10兼容，另外一个不兼容。而我的$HOME恰好就在不兼容的Storage上，结果权限就变了。</p>
<p>&nbsp;</p>
<p>今天上午IT把这个问题FIX了，但我对于NFS还是不清楚，对于权限如何变的也不知道。有时间再去仔细研究NFS的问题。</p>
<p>&nbsp;</p>
<p>2.&nbsp;ld.so.1: cp:<span style="white-space:pre;">fatal: libsec.so.1: open failed: No such file or directory</span></p>
<p><span style="white-space:pre;">ld.so.1: cp: fatal: libsec.so.1: version `SUNW_1.2' not found (required by file /usr/bin/cp)</span></p>
<p>&nbsp;</p>
<p><span style="white-space:pre;">这是一个动态链接库的问题。这个问题Google了一下发现很多人也有类似的问题，但没有看到如何解决。貌似</span></p>
<p><span style="white-space:pre;">Sun推出了一个patch来解决这个问题。但具体情况不了解。</span></p>
<p>&nbsp;</p>
<p><span style="white-space:pre;">前几天早晨遇到了这个问题，和同事查了一上午也没发现原因，结果当我们绝望的时候这个问题自己消失了。莫名其妙。</span></p>
<p><span style="white-space:pre;">但这个问题估计在往后系统重启以后还会发生。</span></p>

	</div>
	</div>
    
	
	<!-- Pagination links -->
	
	<ul class="pager">
	    
	    <li class="previous"><a href="/page16">&larr; Older</a></li>
	    
	
	    
	    <li class="next"><a href="/page14">Newer &rarr;</a></li>
	    
	</ul>
	
	<!-- content -->
</div>

<div class="col-lg-3">
		<div class="well">
            <h4>Links</h4>
			<a href="https://www.linkedin.com/pub/bo-yang/21/a3/893" target="_blank"> <i class="fa fa-linkedin-square fa-3x"></i> </a> 
			<a href="https://github.com/bo-yang" target="_blank"> <i class="fa fa-github fa-3x"></i> </a> 
			<a href="https://www.facebook.com/bo.yang.52493" target="_blank"> <i class="fa fa-facebook-square fa-3x"></i> </a>
			<a href="http://www.weibo.com/bonnyang" target="_blank"> <i class="fa fa-weibo fa-3x"></i> </a> 
        	<a href="/atom.xml" target="_blank"> <i class="fa fa-rss-square fa-3x"></i> </a>	
        </div>
        <!-- /well -->
        <div class="well">
			<h4>Tags</h4>
				<div class="tag_box">
				
				<!-- site_tags: C/C++,Algorithm,EMC,Fault Diagnosis,Notes,AI,Database,Unix/Linux,Personal,Telecom,Tcl/Tk,Shell,Network,Perl,Industry,Cloud Computing,API,Android,VBA,Virtualization,Browser,Plan 9,Go,Distributed Systems,Tips,Genetic Algorihtm,Mac OS,Statistics,Matlab,Multithreading,Bioinformatics,Computer Vision,Machine Learning,BACI,Jekyll,Architecture,Java -->
				
				<!-- tag_words:  -->

				
  <ul class="nav nav-pills nav-stacked">
  
    
        <li><a href="/tags.html#AI">AI <span class="badge pull-right">7</span></a></li>
    
        <li><a href="/tags.html#API">API <span class="badge pull-right">3</span></a></li>
    
        <li><a href="/tags.html#Algorithm">Algorithm <span class="badge pull-right">29</span></a></li>
    
        <li><a href="/tags.html#Android">Android <span class="badge pull-right">2</span></a></li>
    
        <li><a href="/tags.html#Architecture">Architecture <span class="badge pull-right">1</span></a></li>
    
        <li><a href="/tags.html#BACI">BACI <span class="badge pull-right">1</span></a></li>
    
        <li><a href="/tags.html#Bioinformatics">Bioinformatics <span class="badge pull-right">1</span></a></li>
    
        <li><a href="/tags.html#Browser">Browser <span class="badge pull-right">2</span></a></li>
    
        <li><a href="/tags.html#C%2FC%2B%2B">C/C++ <span class="badge pull-right">54</span></a></li>
    
        <li><a href="/tags.html#Cloud+Computing">Cloud Computing <span class="badge pull-right">2</span></a></li>
    
        <li><a href="/tags.html#Computer+Vision">Computer Vision <span class="badge pull-right">4</span></a></li>
    
        <li><a href="/tags.html#Database">Database <span class="badge pull-right">1</span></a></li>
    
        <li><a href="/tags.html#Distributed+Systems">Distributed Systems <span class="badge pull-right">2</span></a></li>
    
        <li><a href="/tags.html#EMC">EMC <span class="badge pull-right">9</span></a></li>
    
        <li><a href="/tags.html#Fault+Diagnosis">Fault Diagnosis <span class="badge pull-right">3</span></a></li>
    
        <li><a href="/tags.html#Genetic+Algorihtm">Genetic Algorihtm <span class="badge pull-right">1</span></a></li>
    
        <li><a href="/tags.html#Go">Go <span class="badge pull-right">3</span></a></li>
    
        <li><a href="/tags.html#Industry">Industry <span class="badge pull-right">6</span></a></li>
    
        <li><a href="/tags.html#Java">Java <span class="badge pull-right">1</span></a></li>
    
        <li><a href="/tags.html#Jekyll">Jekyll <span class="badge pull-right">1</span></a></li>
    
        <li><a href="/tags.html#Mac+OS">Mac OS <span class="badge pull-right">1</span></a></li>
    
        <li><a href="/tags.html#Machine+Learning">Machine Learning <span class="badge pull-right">2</span></a></li>
    
        <li><a href="/tags.html#Matlab">Matlab <span class="badge pull-right">3</span></a></li>
    
        <li><a href="/tags.html#Multithreading">Multithreading <span class="badge pull-right">2</span></a></li>
    
        <li><a href="/tags.html#Network">Network <span class="badge pull-right">4</span></a></li>
    
        <li><a href="/tags.html#Notes">Notes <span class="badge pull-right">25</span></a></li>
    
        <li><a href="/tags.html#Perl">Perl <span class="badge pull-right">15</span></a></li>
    
        <li><a href="/tags.html#Personal">Personal <span class="badge pull-right">13</span></a></li>
    
        <li><a href="/tags.html#Plan+9">Plan 9 <span class="badge pull-right">9</span></a></li>
    
        <li><a href="/tags.html#Shell">Shell <span class="badge pull-right">15</span></a></li>
    
        <li><a href="/tags.html#Statistics">Statistics <span class="badge pull-right">2</span></a></li>
    
        <li><a href="/tags.html#Tcl%2FTk">Tcl/Tk <span class="badge pull-right">9</span></a></li>
    
        <li><a href="/tags.html#Telecom">Telecom <span class="badge pull-right">1</span></a></li>
    
        <li><a href="/tags.html#Tips">Tips <span class="badge pull-right">4</span></a></li>
    
        <li><a href="/tags.html#Unix%2FLinux">Unix/Linux <span class="badge pull-right">100</span></a></li>
    
        <li><a href="/tags.html#VBA">VBA <span class="badge pull-right">5</span></a></li>
    
        <li><a href="/tags.html#Virtualization">Virtualization <span class="badge pull-right">4</span></a></li>
    
  
  </ul>




				</div>
		</div>
		<!-- /well -->
        <div class="well">
			<h4>Visitors</h4>
				<script type="text/javascript" src="http://je.revolvermaps.com/2/1.js?i=4gy6jc9lpsq&amp;s=220&amp;m=0&amp;v=true&amp;r=false&amp;b=000000&amp;n=false&amp;c=ff0000" async="async"></script>
	
        </div>
		<!-- /well -->
		<div class="well">
			<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Right-side Ad(300x600) -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:600px"
     data-ad-client="ca-pub-1292710832620237"
     data-ad-slot="9707222500"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

	   	</div>
        <!-- /well -->
</div>

	</div>
</div>


    </div>

    <footer>
        <p>&copy; 2007 <span id="now_year"></span> Bo Yang. </p>
        <script type="text/javascript">
          var now_year = new Date().getFullYear();
          if (now_year != 2007) {
              $('#now_year').html('- ' + now_year);
          }
	    </script>
      </footer>
  </div>

  <script type="text/javascript" src="/assets/google-code-prettify/prettify.js"></script>
  <script src="/assets/run_prettify.js"></script>
  <script type="text/javascript">
    $(function() {

      $('a[href^="http"]').each(function () {
        $(this).attr('target', '_blank');
      });

      $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto');
      window.prettyPrint && prettyPrint();

      function traverse($node, len, maxCount) {
        var reachMaxCount = len > maxCount;
        if (reachMaxCount) {
          $node.hide();
        }
        var $contents = $node.contents();
        for (var i = 0; i < $contents.length; ++i) {
          if (reachMaxCount) {
            $contents.eq(i).hide();
            continue;
          }
          if ($contents[i].nodeType == 3) { // TextNode
            var tmp = len;
            var s = $contents[i].nodeValue;
            len += s.length;
            reachMaxCount = len > maxCount;
            if (reachMaxCount && $contents[i].parentNode.nodeName != 'A') {
              $contents[i].nodeValue = s.substring(0, maxCount - tmp);
            }
          }
          else if ($contents[i].nodeType == 1) { // Element
            len = traverse($contents.eq(i), len, maxCount);
          }
        }
        return len;
      }

      $('.post_at_index').each(function() {
        var count = traverse($(this), 0, 400);
        if (count > 400) {
          var thisUrl = $(this).siblings().first().children().attr('href');
          $(this).after('\n<a href="' + thisUrl + '" rel="nofollow" class="btn btn-primary" role="button">' + 'Read More &raquo;</a>');
        }
      });
    });
  </script>

  

</body>
</html>

